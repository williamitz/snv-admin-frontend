"use strict";(self.webpackChunksnv_admin_frontend=self.webpackChunksnv_admin_frontend||[]).push([[862],{1609:(fe,Y,D)=>{D.d(Y,{I:()=>p});var P=D(6223),n=D(4004);class p{constructor(j,A,H,U=null){this._id="",this._idAux=(0,n.Z)(),this._id=U,this.idiom=new P.NI(j,[]),this.type=new P.NI(A,[P.kI.required]),this.rate=new P.NI(H,[P.kI.required,P.kI.min(.5)])}get invalid(){return this.idiom.invalid||this.type.invalid||this.rate.invalid}get invalidIdiom(){return this.idiom?.errors}get invalidType(){return this.type?.errors}get invalidRate(){return this.rate?.errors}get typeValue(){return this.type?.value}get auxId(){return this._idAux}get values(){return{id:this._id,idiom:this.idiom.value,type:this.type.value,rate:+this.rate.value}}}},2208:(fe,Y,D)=>{D.d(Y,{t:()=>P});var P=function(n){return n.documents="DOCUMENTS",n.profile="PROFILE",n.agency="AGENCY",n.resume="RESUME",n.avatar="AVATAR",n}(P||{})},4011:(fe,Y,D)=>{D.d(Y,{t:()=>C});var P=D(5861),n=D(5879),p=D(6223),W=D(5810),j=D(9315),A=D(4004);class H{constructor(h,a,o=null){this._id="",this._idAux=(0,A.Z)(),this._id=o,this.contactType=new p.NI(h,[p.kI.required]),this.contact=new p.NI(a,[p.kI.required])}get invalid(){return this.contactType.invalid||this.contact.invalid}get invalidType(){return this.contactType?.errors}get invalidContact(){return this.contact?.errors}get typeValue(){return this.contactType?.value}get auxId(){return this._idAux}get values(){return{id:this._id,contactType:this.contactType.value,contact:this.contact.value}}}class U{constructor(h,a,o,l,u){this._idAux=(0,A.Z)(),this._id="",this._dayName="",this._id=u??"",this._dayName=a,this.checked=new p.NI(h,[]),this.timeStart=new p.NI(o,1==h?[p.kI.required]:[]),this.timeEnd=new p.NI(l,1==h?[p.kI.required]:[])}get invalid(){return this.timeStart.invalid||this.timeEnd.invalid}get invalidChecked(){return this.checked?.errors}get invalidTimeStart(){return this.timeStart?.errors}get invalidTimeEnd(){return this.timeEnd?.errors}get auxId(){return this._idAux}get dayName(){return this._dayName}get values(){return{id:this._id,dayName:this._dayName,timeStart:this.timeStart.value,timeEnd:this.timeEnd.value,checked:this.checked.value}}onChangeValidators(){this.checked.value?(this.timeStart.addValidators([p.kI.required]),this.timeStart.updateValueAndValidity(),this.timeEnd.addValidators([p.kI.required]),this.timeEnd.updateValueAndValidity()):(this.timeStart.removeValidators([p.kI.required]),this.timeStart.updateValueAndValidity(),this.timeEnd.removeValidators([p.kI.required]),this.timeEnd.updateValueAndValidity())}}var x=D(1609),N=D(7379),F=D(2208),B=D(6095),$=D(3947),ie=D(1674),re=D(604),de=D(907),Re=D(7612),pe=D(4532),ue=D(6814),Ue=D(8316);function me(v,h){if(1&v){const a=n.EpF();n.TgZ(0,"div",15)(1,"div",16)(2,"input",17),n.NdJ("ngModelChange",function(l){const f=n.CHM(a).$implicit;return n.KtG(f.select=l)}),n.qZA(),n.TgZ(3,"label",18),n._uU(4),n.qZA()()()}if(2&v){const a=h.$implicit;n.xp6(2),n.Q6J("id",a.id)("value",a.select)("ngModel",a.select),n.xp6(1),n.s9C("for",a.id),n.xp6(1),n.hij(" ",a.label," ")}}function oe(v,h){if(1&v){const a=n.EpF();n.TgZ(0,"tr")(1,"th",19)(2,"div",20)(3,"input",21),n.NdJ("change",function(){const u=n.CHM(a).$implicit;return n.KtG(u.onChangeValidators())}),n.qZA()()(),n.TgZ(4,"td")(5,"label",22),n._uU(6),n.qZA()(),n.TgZ(7,"td"),n._UZ(8,"input",23),n.qZA(),n.TgZ(9,"td"),n._UZ(10,"input",23),n.qZA()()}if(2&v){const a=h.$implicit;n.xp6(3),n.MGl("id","chk-",a.dayName,""),n.Q6J("formControl",a.checked),n.xp6(2),n.MGl("for","chk-",a.dayName,""),n.xp6(1),n.hij(" ",a.dayName," "),n.xp6(2),n.ekj("is-invalid",a.invalidTimeStart),n.Q6J("formControl",a.timeStart),n.xp6(2),n.ekj("is-invalid",a.invalidTimeEnd),n.Q6J("formControl",a.timeEnd)}}function Oe(v,h){1&v&&(n.TgZ(0,"div",24)(1,"span",25),n._uU(2,"Loading..."),n.qZA()())}function Ie(v,h){1&v&&(n.TgZ(0,"span"),n._uU(1," Save "),n.qZA())}function Ne(v,h){1&v&&(n.TgZ(0,"span"),n._uU(1," Saving... "),n.qZA())}let ye=(()=>{var v;class h{constructor(){this.officeHours=[],this.services=[],this._uisvc=(0,n.f3M)(Re.F),this._nomenclaturesvc=(0,n.f3M)(de.g),this.servicesType=[],this.saving=!1,this._interpretersvc=(0,n.f3M)($.t)}get invalid(){return this.officeHours.some(o=>o.invalid)}ngOnInit(){this.onGetServicesType()}onGetServicesType(){this._service$=this._nomenclaturesvc.onGetServicesType().subscribe({next:o=>{this.servicesType=o.data,setTimeout(()=>{this.servicesType.forEach(l=>{this.services.includes(l.value)&&(l.select=!0)})},1e3)},error:o=>{}})}onSumit(){if(this.saving)return;this.saving=!0;const o=this.officeHours.filter(u=>u.checked.value).map(u=>u.values),l=this.servicesType.filter(u=>u.select).map(u=>u.value);this._update$=this._interpretersvc.onUpdateOfficeHours(this.id??"xd",{officeHours:o,services:l}).subscribe({next:u=>{console.log("response ::: ",u),this._uisvc.onShowAlert("Profile Update",N.c.success),this.saving=!1,this._update$?.unsubscribe()},error:u=>{this.saving=!1,this._update$?.unsubscribe()}})}ngOnDestroy(){this._update$?.unsubscribe()}}return(v=h).\u0275fac=function(o){return new(o||v)},v.\u0275cmp=n.Xpm({type:v,selectors:[["app-interpreter-services"]],inputs:{id:"id",officeHours:"officeHours",services:"services"},decls:29,vars:6,consts:[[1,"fs-15","mb-3","p-2","border-bottom","border-bottom-dashed"],[1,"row"],["class","col-md-3",4,"ngFor","ngForOf"],[1,"fs-15","my-3","p-2","border-bottom","border-bottom-dashed"],[1,"table","table-hover","table-nowrap","table-striped","mb-0"],["scope","col",2,"width","25px"],[1,"form-check"],["type","checkbox","id","checkAll","value","option1",1,"form-check-input"],["scope","col"],[4,"ngFor","ngForOf"],[1,"hstack","gap-2","justify-content-center","mt-4"],[1,"btn","btn-danger","rounded-pill","fw-medium","px-5",3,"disabled","click"],["class","spinner-border text-light","role","status",4,"ngIf"],[4,"ngIf"],[1,"btn","btn-light","rounded-pill","fw-medium","px-5"],[1,"col-md-3"],[1,"form-check","form-check-danger","mb-3"],["type","checkbox",1,"form-check-input",3,"id","value","ngModel","ngModelChange"],[1,"form-check-label",3,"for"],["scope","row"],[1,"form-check","form-check-danger"],["type","checkbox",1,"form-check-input",3,"id","formControl","change"],[3,"for"],["type","time","placeholder","00",1,"form-control",3,"formControl"],["role","status",1,"spinner-border","text-light"],[1,"sr-only"]],template:function(o,l){1&o&&(n.TgZ(0,"div")(1,"h5",0),n._uU(2,"Service Type"),n.qZA(),n.TgZ(3,"div",1),n.YNc(4,me,5,5,"div",2),n.qZA()(),n.TgZ(5,"div")(6,"h5",3),n._uU(7,"Interpreter Schedule"),n.qZA(),n.TgZ(8,"table",4)(9,"thead")(10,"tr")(11,"th",5)(12,"div",6),n._UZ(13,"input",7),n.qZA()(),n.TgZ(14,"th",8),n._uU(15,"Days"),n.qZA(),n.TgZ(16,"th",8),n._uU(17,"From"),n.qZA(),n.TgZ(18,"th",8),n._uU(19,"To"),n.qZA()()(),n.TgZ(20,"tbody"),n.YNc(21,oe,11,10,"tr",9),n.qZA()(),n.TgZ(22,"div",10)(23,"button",11),n.NdJ("click",function(){return l.onSumit()}),n.YNc(24,Oe,3,0,"div",12),n.YNc(25,Ie,2,0,"span",13),n.YNc(26,Ne,2,0,"span",13),n.qZA(),n.TgZ(27,"button",14),n._uU(28," Reset "),n.qZA()()()),2&o&&(n.xp6(4),n.Q6J("ngForOf",l.servicesType),n.xp6(17),n.Q6J("ngForOf",l.officeHours),n.xp6(2),n.Q6J("disabled",l.saving||l.invalid),n.xp6(1),n.Q6J("ngIf",l.saving),n.xp6(1),n.Q6J("ngIf",!l.saving),n.xp6(1),n.Q6J("ngIf",l.saving))},dependencies:[ue.sg,ue.O5,p.Fj,p.Wl,p.JJ,p.On,p.oH]}),h})();var je=D(9862),Ee=D(7065);let Le=(()=>{var v;class h{constructor(){this._http=(0,n.f3M)(je.eN)}uploadInterpreter(o,l){return this._http.post(Ee.fR+"/file-user"+(l?`/${l}`:""),o)}findAll(o,l,u){let f=`page=${o}`;return f+=`&limit=${l}`,this._http.get(Ee.fR+`/file-user${u?`/findById/${u}`:""}?${f}`)}onDelete(o){return this._http.delete(Ee.fR+`/file-user/${o}`)}}return(v=h).\u0275fac=function(o){return new(o||v)},v.\u0275prov=n.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),h})();var $e=D(2049),ve=D(7680);function Ve(v,h){if(1&v){const a=n.EpF();n.TgZ(0,"ngx-dropzone-preview",17),n.NdJ("removed",function(){const u=n.CHM(a).$implicit,f=n.oxw();return n.KtG(f.onRemove(u))}),n.TgZ(1,"ngx-dropzone-label"),n._uU(2),n.qZA()()}if(2&v){const a=h.$implicit;n.Q6J("removable",!0)("file",a),n.xp6(2),n.AsE("",a.name," (",a.type,")")}}function qe(v,h){if(1&v){const a=n.EpF();n.TgZ(0,"tr")(1,"td"),n._uU(2),n.qZA(),n.TgZ(3,"td"),n._uU(4),n.qZA(),n.TgZ(5,"td")(6,"a",18),n.NdJ("click",function(){const u=n.CHM(a).$implicit,f=n.oxw();return n.KtG(f.onConfirm(u))}),n._UZ(7,"i",19),n.qZA()()()}if(2&v){const a=h.$implicit;n.xp6(2),n.hij(" ",a.name," "),n.xp6(2),n.hij(" ",a.description," ")}}let We=(()=>{var v;class h{constructor(){this._files=[],this._filesInterpreter=[],this._frmBuilder=(0,n.f3M)(p.QS),this._firesvc=(0,n.f3M)(re.O),this._fileSvc=(0,n.f3M)(Le),this._pagersvc=(0,n.f3M)($e.e),this._uisvc=(0,n.f3M)(Re.F),this._saving=!1,this._total=0,this.paginate={currentPage:0,endPage:1,pages:[],startPage:1,totalPages:0}}get controls(){return this.frmFile.controls}touched(o){return this.frmFile.get(o)?.touched}get invalid(){return this.frmFile.invalid}get total(){return this._total}get saving(){return this._saving}get values(){return this.frmFile.value}get filesInterpreter(){return this._filesInterpreter}get files(){return this._files}get currentPage(){return this.paginate.currentPage}ngOnInit(){this.frmFile=this._frmBuilder.group({description:["",[p.kI.required]],name:["",[]],nameFirebase:["",[]],url:["",[]],type:["",[]]}),this.getListFiles()}getListFiles(o=1){this._get$=this._fileSvc.findAll(o,5,this.id).subscribe({next:l=>{const{data:u,total:f}=l;this._filesInterpreter=u,this._total=f,this.paginate=this._pagersvc.getPager(f,o,5),console.log("response ::: ",l),this._get$?.unsubscribe()},error:l=>{this._get$?.unsubscribe()}})}onSelect(o){console.log(o),this._files=[],this._files.push(...o.addedFiles)}onRemove(o){this._files.splice(this._files.indexOf(o),1)}onSubmit(){var o=this;return(0,P.Z)(function*(){if(o.invalid||o._saving)return;o._saving=!0;const l=o._files[0],u=l.name.replaceAll(" ","_"),f=`${(0,A.Z)()}-${u}`;o._uisvc.onShowLoading();const b=yield o._firesvc.onUploadFirebase(l,f);o.frmFile.get("url")?.setValue(b),o.frmFile.get("name")?.setValue(l.name),o.frmFile.get("type")?.setValue(l.type),o.frmFile.get("nameFirebase")?.setValue(f),o._update$=o._fileSvc.uploadInterpreter(o.values,o.id).subscribe({next:_=>{console.log("response ::: ",_),o._saving=!1,o.frmFile.reset(),o._files=[],o._uisvc.onClose(),o.getListFiles(),o._update$?.unsubscribe()},error:_=>{o._saving=!1,o._uisvc.onClose(),o._update$?.unsubscribe()}})})()}onConfirm(o){const{id:l,name:u,nameFirebase:f}=o;this._uisvc.onShowConfirm(`\xbfEst\xe1 seguro de eliminar documento: "${u}" ?`).then(b=>{b.isConfirmed&&this.onDeleteRole(l,f)})}onDeleteRole(o,l){var u=this;return(0,P.Z)(function*(){u._uisvc.onShowLoading(),yield u._firesvc.onDeleteFirebase(l),u._delete$=u._fileSvc.onDelete(o).subscribe({next:f=>{u.getListFiles(u.currentPage),u._uisvc.onClose(),u._uisvc.onShowAlert("Documento eliminado exitosamente",N.c.success),u._delete$?.unsubscribe()},error:f=>{u._delete$?.unsubscribe()}})})()}ngOnDestroy(){this._delete$?.unsubscribe(),this._get$?.unsubscribe(),this._update$?.unsubscribe()}}return(v=h).\u0275fac=function(o){return new(o||v)},v.\u0275cmp=n.Xpm({type:v,selectors:[["app-interpreter-files"]],inputs:{id:"id"},decls:32,vars:5,consts:[[1,"row","gy-4"],[1,"col-lg-5","col-md-6","col-sm-12","mb-4"],[1,"me-4"],["for","formFile",1,"form-label"],["accept","image/jpeg,image/jpg,application/pdf",1,"dropzone_sec",3,"multiple","change"],["class","c-dropzone-preview",3,"removable","file","removed",4,"ngFor","ngForOf"],[3,"formGroup"],[1,"mt-2"],["for","firstname",1,"form-label"],["type","text","id","firstname","placeholder","Enter description","formControlName","description",1,"form-control"],[1,"hstack","gap-2","justify-content-center","mt-4"],[1,"btn","btn-danger","rounded-pill","fw-medium","px-5",3,"disabled","click"],[1,"col-lg-7","col-md-6","col-sm-12"],[1,"fs-15","my-3","p-2","border-bottom","border-bottom-dashed"],[1,"table","table-hover","table-nowrap","table-striped","mb-0"],["scope","col"],[4,"ngFor","ngForOf"],[1,"c-dropzone-preview",3,"removable","file","removed"],["href","javascript:void(0);",1,"link-danger","fs-15",3,"click"],[1,"ri-delete-bin-line"]],template:function(o,l){1&o&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),n._uU(4,"File"),n.qZA(),n.TgZ(5,"ngx-dropzone",4),n.NdJ("change",function(f){return l.onSelect(f)}),n.TgZ(6,"ngx-dropzone-label"),n._uU(7,"Drop or selec file"),n.qZA(),n.YNc(8,Ve,3,4,"ngx-dropzone-preview",5),n.qZA(),n.TgZ(9,"form",6)(10,"div",7)(11,"label",8),n._uU(12,"Description"),n.qZA(),n._UZ(13,"input",9),n.qZA(),n.TgZ(14,"div",10)(15,"button",11),n.NdJ("click",function(){return l.onSubmit()}),n._uU(16," Upload document "),n.qZA()()()()(),n.TgZ(17,"div",12)(18,"div")(19,"h5",13),n._uU(20,"Documents"),n.qZA(),n.TgZ(21,"table",14)(22,"thead")(23,"tr")(24,"th",15),n._uU(25,"Document"),n.qZA(),n.TgZ(26,"th",15),n._uU(27,"Description"),n.qZA(),n.TgZ(28,"th",15),n._uU(29,"Delete"),n.qZA()()(),n.TgZ(30,"tbody"),n.YNc(31,qe,8,2,"tr",16),n.qZA()()()()()),2&o&&(n.xp6(5),n.Q6J("multiple",!1),n.xp6(3),n.Q6J("ngForOf",l.files),n.xp6(1),n.Q6J("formGroup",l.frmFile),n.xp6(6),n.Q6J("disabled",l.invalid||l.saving),n.xp6(16),n.Q6J("ngForOf",l.filesInterpreter))},dependencies:[ue.sg,p._Y,p.Fj,p.JJ,p.JL,p.sg,p.u,ve._f,ve.NP,ve.dt],styles:['.file-select[_ngcontent-%COMP%]{display:inline-block;position:relative;width:100%}.file-select[_ngcontent-%COMP%]:before{background-color:#eff2f7;color:#222;display:flex;justify-content:center;align-items:center;border-radius:20px 0 0 20px;border:solid 1px #ced4da;content:"Seleccionar";position:absolute;inset:0;width:28%}.file-select[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{width:100%;height:37px;display:inline-block}.file-select[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]:before{content:"dfddf";position:absolute;left:300px}.file-select[_ngcontent-%COMP%]:before{content:"Select File"}.c-dropzone-preview[_ngcontent-%COMP%]{min-height:25px!important;max-height:25px!important;font-size:11px;max-width:100%!important}.dropzone_sec[_ngcontent-%COMP%]{height:50px}']}),h})();function Ge(v,h){if(1&v&&(n.TgZ(0,"option",84),n._uU(1),n.qZA()),2&v){const a=h.$implicit;n.Q6J("value",a.value),n.xp6(1),n.hij(" ",a.value," ")}}function Ye(v,h){if(1&v){const a=n.EpF();n.TgZ(0,"tr")(1,"td")(2,"select",77)(3,"option",78),n._uU(4,"Select"),n.qZA(),n.YNc(5,Ge,2,2,"option",79),n.qZA()(),n.TgZ(6,"td"),n._UZ(7,"input",80),n.qZA(),n.TgZ(8,"td")(9,"div",81)(10,"a",82),n.NdJ("click",function(){const u=n.CHM(a).$implicit,f=n.oxw();return n.KtG(f.onRemoveContact(u))}),n._UZ(11,"i",83),n.qZA()()()()}if(2&v){const a=h.$implicit,o=n.oxw();n.xp6(2),n.ekj("is-invalid",a.invalidType),n.Q6J("formControl",a.contactType),n.xp6(3),n.Q6J("ngForOf",o.contacttype),n.xp6(2),n.ekj("is-invalid",a.invalidContact),n.Q6J("formControl",a.contact)}}function Pe(v,h){1&v&&(n.TgZ(0,"tr")(1,"td",85),n._uU(2," Add to contact to interpreter "),n.qZA()())}function He(v,h){if(1&v){const a=n.EpF();n.TgZ(0,"ngx-dropzone-preview",86),n.NdJ("removed",function(){n.CHM(a);const l=n.oxw();return n.KtG(l.onRemove(l.file))}),n.TgZ(1,"ngx-dropzone-label"),n._uU(2),n.qZA()()}if(2&v){const a=n.oxw();n.Q6J("removable",!0)("file",a.file),n.xp6(2),n.AsE("",a.file.name," (",a.file.type,")")}}function I(v,h){if(1&v&&(n.TgZ(0,"div",87)(1,"label",64),n._uU(2),n.qZA()()),2&v){const a=n.oxw();n.xp6(2),n.hij(" ",a.resumeName," ")}}function c(v,h){if(1&v&&(n.TgZ(0,"option",84),n._uU(1),n.qZA()),2&v){const a=h.$implicit;n.Q6J("value",a.value),n.xp6(1),n.hij(" ",a.value," ")}}function m(v,h){if(1&v){const a=n.EpF();n.TgZ(0,"tr")(1,"td"),n._UZ(2,"ng-select",88),n.qZA(),n.TgZ(3,"td")(4,"select",77)(5,"option",78),n._uU(6,"Select"),n.qZA(),n.YNc(7,c,2,2,"option",79),n.qZA()(),n.TgZ(8,"td"),n._UZ(9,"input",80),n.qZA(),n.TgZ(10,"td")(11,"div",81)(12,"a",82),n.NdJ("click",function(){const u=n.CHM(a).$implicit,f=n.oxw();return n.KtG(f.onRemoveRate(u))}),n._UZ(13,"i",83),n.qZA()()()()}if(2&v){const a=h.$implicit,o=n.oxw();n.xp6(2),n.ekj("is-invalid",a.invalidIdiom),n.Q6J("items",o.rateTargetIdioms)("formControl",a.idiom),n.xp6(2),n.ekj("is-invalid",a.invalidType),n.Q6J("formControl",a.type),n.xp6(3),n.Q6J("ngForOf",o.calltype),n.xp6(2),n.ekj("is-invalid",a.invalidRate),n.Q6J("formControl",a.rate)}}function y(v,h){1&v&&(n.TgZ(0,"tr")(1,"td",89),n._uU(2," Add to contact to interpreter "),n.qZA()())}let C=(()=>{var v;class h{constructor(){this._acivatedRoute=(0,n.f3M)(W.gz),this._idiomsvc=(0,n.f3M)(B.S),this._router=(0,n.f3M)(W.F0),this._interpretersvc=(0,n.f3M)($.t),this._timezonesvc=(0,n.f3M)(ie.B),this._nomenclaturesvc=(0,n.f3M)(de.g),this._firesvc=(0,n.f3M)(re.O),this._uisvc=(0,n.f3M)(Re.F),this._utilssvc=(0,n.f3M)(pe.F),this._officeHour=[],this._days=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],this.officeHours=[new U(!1,"Monday",null,null),new U(!1,"Tuesday",null,null),new U(!1,"Wednesday",null,null),new U(!1,"Thursday",null,null),new U(!1,"Friday",null,null),new U(!1,"Saturday",null,null),new U(!1,"Sunday",null,null)],this.fileUrl="assets/images/users/avatar-8.jpg",this._id="",this.targetIdioms=[],this.rateTargetIdioms=[],this.timezones=[],this.calltype=[],this.contacttype=[],this.rates=[],this.contacts=[],this.servicesProfile=[],this.loadingIdioms=!1,this.loadingTimezone=!1,this.saving=!1,this._frmBuilder=(0,n.f3M)(p.QS)}onSelect(o){console.log(o),this.file=o.addedFiles[0]}onRemove(o){console.log(o),this.file=void 0}get controls(){return this.frmInterpreter.controls}touched(o){return this.frmInterpreter.get(o)?.touched}get invalid(){return this.frmInterpreter.invalid}get invalidRepit(){let o=!1;return this.rates.forEach((l,u,f)=>{f.some(b=>b.typeValue==l.typeValue&&l.auxId!=b.auxId)&&(o=!0)}),o}get values(){return this.frmInterpreter.value}get invalidRate(){return this.rates.some(o=>o.invalid)}get counterContacts(){return this.contacts.length}get counterRates(){return this.rates.length}get id(){return this._id}get resumeName(){return this.values.resumeName??""}ngOnInit(){this._id=this._acivatedRoute.snapshot.paramMap.get("id")??"",this.onBuildFrm(),this.onLoadProfile(),this.onGetTargetIdioms(),this.onLoadCallType(),this.onLoadContactType()}onBuildFrm(){this.frmInterpreter=this._frmBuilder.group({name:["",[p.kI.required]],surname:["",[p.kI.required]],email:["",[p.kI.required]],phone:["",[]],countryCode:[null,[p.kI.required]],timzoneId:[null,[p.kI.required]],nativeLanguageId:[null,[]],gender:["Male",[p.kI.required]],targetLanguages:[[],[p.kI.required,p.kI.min(1)]],resumeUrl:["",[]],resumeName:["",[]],resumeFirebase:["",[]],resumeType:["",[]],img:["",[]],imgFirebase:["",[]]})}onGetTargetIdioms(){this.loadingIdioms=!0,this._targetIdiom$=this._idiomsvc.findIdiomsAll().subscribe({next:o=>{const{data:l}=o;this.targetIdioms=[...l],this.loadingIdioms=!1,this._targetIdiom$?.unsubscribe()},error:o=>{this.loadingIdioms=!1,this._targetIdiom$?.unsubscribe()}})}onChangeFile(o){const u=o.files.item(0).name.toUpperCase().split(".").pop();this.fileProfile=o.files.item(0);const f=o.files.item(0).size/1e6;if(!this._utilssvc.onValidImg(u,f))return o.target.value="",void(this.fileProfile=void 0);const b=new FileReader;b.onload=_=>{this.fileUrl=_.target.result},b.readAsDataURL(o.files.item(0))}onLoadProfile(){this._findById$=this._interpretersvc.onFindById(this._id).subscribe({next:o=>{const{data:l}=o;this.frmInterpreter.get("name")?.setValue(l.name),this.frmInterpreter.get("surname")?.setValue(l.surname),this.frmInterpreter.get("email")?.setValue(l.email),this.frmInterpreter.get("phone")?.setValue(l.phone),this.frmInterpreter.get("countryCode")?.setValue(l.countryCode),this.frmInterpreter.get("timzoneId")?.setValue(l.timezone.id),this.frmInterpreter.get("nativeLanguageId")?.setValue(l?.nativeLanguage?.id),this.frmInterpreter.get("gender")?.setValue(l.gender),this.frmInterpreter.get("resumeUrl")?.setValue(l.resumeUrl),this.frmInterpreter.get("resumeName")?.setValue(l.resumeName),this.frmInterpreter.get("resumeFirebase")?.setValue(l.resumeFirebase),this.frmInterpreter.get("resumeType")?.setValue(l.resumeType),this.servicesProfile=l.services,this.frmInterpreter.get("targetLanguages")?.setValue(l.targetLanguages.map(b=>b.id)),this.rateTargetIdioms=l.targetLanguages,this._officeHour=l.officeHours,this.officeHours=[],this.officeHours=this._days.map(b=>{const _=this._officeHour.find(E=>E.dayName==b);return _?new U(_.status,b,_.timeStart,_.timeEnd,_.id):new U(!1,b,null,null)}),this.onGetTimeZones(l.countryCode.substring(0,2));const u=[...l.rates];this.rates=[],this.rates=u.map(b=>new x.I(b.idiom.id??null,b.type,+b.rate,b.id));const f=[...l.contacts];this.contacts=[],this.contacts=f.map(b=>new H(b.contactType,b.contact,b.id)),this._findById$?.unsubscribe()},error:o=>{this._findById$?.unsubscribe()}})}onGetTimeZones(o){this.loadingTimezone=!0,this._timezone$=this._timezonesvc.onFindAll(o).subscribe(l=>{const{data:u}=l;this.timezones=u,this.loadingTimezone=!1,this._timezone$?.unsubscribe()})}onAddrate(){this.rates.push(new x.I(null,"",0))}onAddContact(){this.contacts.push(new H("",""))}onRemoveContact(o){this.contacts=this.contacts.filter(l=>l.auxId!=o.auxId)}onRemoveRate(o){this.rates=this.rates.filter(l=>l.auxId!=o.auxId)}onSubmit(){var o=this;return(0,P.Z)(function*(){if(o.invalid||o.invalidRate||o.saving)return;if(o.invalidRepit)return void o._uisvc.onShowAlert("Please type call, not repeat",N.c.warning);o.saving=!0,o._uisvc.onShowLoading();const l=o.rates.map(f=>f.values),u=o.contacts.map(f=>f.values);if(o.fileProfile){const f=o.frmInterpreter.get("imgFirebase")?.value;f&&""!=f&&(yield o._firesvc.onDeleteFirebase(f,F.t.avatar));const b=(0,A.Z)(),_=yield o._firesvc.onUploadFirebase(o.fileProfile,b,F.t.avatar);o.frmInterpreter.get("img")?.setValue(_),o.frmInterpreter.get("imgFirebase")?.setValue(b)}if(o.file){const f=o.frmInterpreter.get("resumeFirebase")?.value;f&&""!=f&&(yield o._firesvc.onDeleteFirebase(f,F.t.resume));const b=o.file.name.replaceAll(" ","_"),_=`${(0,A.Z)()}-${b}`,E=yield o._firesvc.onUploadFirebase(o.file,_,F.t.resume);o.frmInterpreter.get("resumeUrl")?.setValue(E),o.frmInterpreter.get("resumeName")?.setValue(o.file.name),o.frmInterpreter.get("resumeType")?.setValue(o.file.type),o.frmInterpreter.get("resumeFirebase")?.setValue(_)}o._update$=(0,j.D)({updateResponse:o._interpretersvc.onUpdate(o.values,o._id),rateResponse:o._interpretersvc.onUpdateRate(o._id,{rates:l}),contactResponse:o._interpretersvc.onUpdateContact(o._id,{contacts:u})}).subscribe({next:f=>{const{rateResponse:b,contactResponse:_}=f,E=b.rates,w=_.contacts;o.rates=[],o.rates=E?.map(R=>new x.I(R.idiom.id,R.type,+R.rate,R.id))??[],o.contacts=[],o.contacts=w?.map(R=>new H(R.contactType,R.contact,R.id))??[],console.log("contactResponse ::: ",_),o.saving=!1,o._uisvc.onClose(),o._uisvc.onShowAlert("Perfil actualziado con \xe9xito",N.c.success),o._update$?.unsubscribe()},error:f=>{o.saving=!1,o._update$?.unsubscribe()}})})()}onLoadCallType(){this._calltype$=this._nomenclaturesvc.onGetCallType().subscribe({next:o=>{const{data:l}=o;this.calltype=l,this._calltype$?.unsubscribe()},error:o=>{this._calltype$?.unsubscribe()}})}onLoadContactType(){this._contacttype$=this._nomenclaturesvc.onGetContactType().subscribe({next:o=>{const{data:l}=o;this.contacttype=l,this._contacttype$?.unsubscribe()},error:o=>{this._contacttype$?.unsubscribe()}})}onSelectTargetLanguages(o){this.rateTargetIdioms=[...o]}ngOnDestroy(){this._findById$?.unsubscribe(),this._targetIdiom$?.unsubscribe(),this._update$?.unsubscribe(),this._contacttype$?.unsubscribe()}}return(v=h).\u0275fac=function(o){return new(o||v)},v.\u0275cmp=n.Xpm({type:v,selectors:[["app-profile-interpreter"]],decls:165,vars:24,consts:[[1,"row"],[1,"col-12"],[1,"page-title-box","d-sm-flex","align-items-center","justify-content-between"],[1,"mb-sm-0"],[1,"page-title-right"],[1,"breadcrumb","m-0"],[1,"breadcrumb-item"],["href","javascript: void(0);"],[1,"breadcrumb-item","active"],[1,"col-xxl-12"],[1,"card"],[1,"card-header"],["role","tablist",1,"nav","nav-pills","nav-primary"],["role","presentation",1,"nav-item","waves-effect","waves-light"],["data-bs-toggle","tab","href","#home-1","role","tab","aria-selected","false","tabindex","-1",1,"nav-link","active"],["data-bs-toggle","tab","href","#profile-1","role","tab","aria-selected","false","tabindex","-1",1,"nav-link"],["data-bs-toggle","tab","href","#messages-1","role","tab","aria-selected","true",1,"nav-link"],["data-bs-toggle","tab","href","#resume-tap","role","tab","aria-selected","true",1,"nav-link"],[1,"card-body"],[1,"tab-content","text-muted"],["id","home-1","role","tabpanel",1,"tab-pane","active","show"],[3,"formGroup"],[1,"row","mt-4"],[1,"col-lg-3","col-md-3","col-sm-12","text-center"],["for","avatar-interpreter"],["alt","",1,"rounded-circle","avatar-xl","c-pointer",3,"src"],["type","file","id","avatar-interpreter",1,"d-none",3,"change"],[1,"col-lg-9","col-md-9","col-sm-12"],[1,"col-lg-4","col-md-4","col-sm-6"],["for","firstname",1,"form-label"],["type","text","id","firstname","placeholder","Enter your name","formControlName","name",1,"form-control","rounded-pill"],["for","lastname",1,"form-label"],["type","text","id","lastname","placeholder","Enter your name","formControlName","surname",1,"form-control","rounded-pill"],[1,"col-lg-4","col-md-4","col-sm-12"],["for","iconInput",1,"form-label"],["type","email","id","iconInput","placeholder","example@gmail.com","readonly","","formControlName","email",1,"form-control","rounded-pill",3,"disabled"],[1,"row","pt-3"],["for","exampleInputtime",1,"form-label"],["bindLabel","zoneName","bindValue","id","placeholder","Select Time zone","formControlName","timzoneId",3,"items","loading"],["aria-label","Default select example","formControlName","gender",1,"form-select","rounded-pill"],["selected",""],["value","Male"],["value","Female"],["value","Other"],["aria-label","Default select example",1,"form-select","rounded-pill"],["value","1"],["value","2"],["value","3"],["type","text","id","lastname","placeholder","Enter your name",1,"form-control","rounded-pill"],["type","number","id","lastname","placeholder","Enter your name","formControlName","phone",1,"form-control","rounded-pill"],["for","cleave-phone",1,"form-label"],["bindLabel","language","bindValue","id","placeholder","Select target languages","formControlName","targetLanguages",1,"",3,"items","multiple","loading","change"],[1,"col-lg-6","col-md-6","col-sm-12"],[1,"row","mt-md-0","mt-3","pb-2"],[1,"col-6"],[1,"m-0","lh-base"],[1,"col-6","d-flex","justify-content-end"],["type","button",1,"btn","btn-sm","btn-danger",3,"click"],[1,"ri-add-line","align-bottom","me-1"],[1,"table","table-responsive","table-nowrap","mb-0"],[1,"table-light"],["scope","col"],[4,"ngFor","ngForOf"],[4,"ngIf"],["for","formFile",1,"form-label"],["accept","image/jpeg,image/jpg,application/pdf",1,"dropzone_sec",3,"multiple","change"],["class","c-dropzone-preview",3,"removable","file","removed",4,"ngIf"],["class","pt-4 text-center",4,"ngIf"],[1,"hstack","gap-2","justify-content-center","mt-4"],[1,"btn","btn-danger","rounded-pill","fw-medium","px-5",3,"disabled","click"],[1,"btn","btn-light","rounded-pill","fw-medium","px-5"],["id","profile-1","role","tabpanel",1,"tab-pane"],[3,"id","officeHours","services"],["id","messages-1","role","tabpanel",1,"tab-pane"],[3,"id"],["id","resume-tap","role","tabpanel",1,"tab-pane"],[1,"headline-1"],["aria-label","Default select example",1,"form-select","rounded-pill",3,"formControl"],["selected","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Access Code",1,"form-control","rounded-pill",3,"formControl"],[1,"mt-2","text-center"],["href","javascript:void(0);",1,"link-danger",3,"click"],[1,"ri-delete-bin-line","align-bottom"],[3,"value"],["colspan","3",1,"text-muted","text-center"],[1,"c-dropzone-preview",3,"removable","file","removed"],[1,"pt-4","text-center"],["bindLabel","language","bindValue","id","placeholder","Select language",1,"",3,"items","formControl"],["colspan","4",1,"text-muted","text-center"]],template:function(o,l){1&o&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),n._uU(4,"Interpreters Profile"),n.qZA(),n.TgZ(5,"div",4)(6,"ol",5)(7,"li",6)(8,"a",7),n._uU(9,"Segurity"),n.qZA()(),n.TgZ(10,"li",8),n._uU(11,"Role"),n.qZA()()()()()(),n.TgZ(12,"div",0)(13,"div",9)(14,"div",10)(15,"div",11)(16,"ul",12)(17,"li",13)(18,"a",14),n._uU(19,"Personal"),n.qZA()(),n.TgZ(20,"li",13)(21,"a",15),n._uU(22,"Services"),n.qZA()(),n.TgZ(23,"li",13)(24,"a",16),n._uU(25,"Documentation"),n.qZA()(),n.TgZ(26,"li",13)(27,"a",17),n._uU(28,"Resume"),n.qZA()()()(),n.TgZ(29,"div",18)(30,"div",19)(31,"div",20)(32,"form",21)(33,"div",22)(34,"div",23)(35,"label",24),n._UZ(36,"img",25),n.qZA(),n.TgZ(37,"input",26),n.NdJ("change",function(f){return l.onChangeFile(f.target)}),n.qZA()(),n.TgZ(38,"div",27)(39,"div",0)(40,"div",28)(41,"label",29),n._uU(42,"First Name"),n.qZA(),n._UZ(43,"input",30),n.qZA(),n.TgZ(44,"div",28)(45,"label",31),n._uU(46,"Last Name"),n.qZA(),n._UZ(47,"input",32),n.qZA(),n.TgZ(48,"div",33)(49,"label",34),n._uU(50,"E-mail"),n.qZA(),n._UZ(51,"input",35),n.qZA()(),n.TgZ(52,"div",36)(53,"div",28)(54,"label",37),n._uU(55,"Time Zone"),n.qZA(),n._UZ(56,"ng-select",38),n.qZA(),n.TgZ(57,"div",28)(58,"label",31),n._uU(59,"Gender"),n.qZA(),n.TgZ(60,"select",39)(61,"option",40),n._uU(62,"Select"),n.qZA(),n.TgZ(63,"option",41),n._uU(64,"Male"),n.qZA(),n.TgZ(65,"option",42),n._uU(66,"Female"),n.qZA(),n.TgZ(67,"option",43),n._uU(68,"Other"),n.qZA()()(),n.TgZ(69,"div",33)(70,"label",31),n._uU(71,"Specialized Types"),n.qZA(),n.TgZ(72,"select",44)(73,"option",40),n._uU(74,"Select"),n.qZA(),n.TgZ(75,"option",45),n._uU(76,"Specialized 1"),n.qZA(),n.TgZ(77,"option",46),n._uU(78,"Specialized 2"),n.qZA(),n.TgZ(79,"option",47),n._uU(80,"Specialized 3"),n.qZA()()()(),n.TgZ(81,"div",36)(82,"div",28)(83,"label",31),n._uU(84,"Years of Experience"),n.qZA(),n._UZ(85,"input",48),n.qZA(),n.TgZ(86,"div",28)(87,"label",31),n._uU(88,"Telephone Number"),n.qZA(),n._UZ(89,"input",49),n.qZA(),n.TgZ(90,"div",33)(91,"label",50),n._uU(92,"Target languages"),n.qZA(),n.TgZ(93,"ng-select",51),n.NdJ("change",function(f){return l.onSelectTargetLanguages(f)}),n.qZA()()()()()(),n._UZ(94,"hr"),n.TgZ(95,"div",36)(96,"div",52)(97,"div",53)(98,"div",54)(99,"h5",55),n._uU(100,"Contact"),n.qZA()(),n.TgZ(101,"div",56)(102,"button",57),n.NdJ("click",function(){return l.onAddContact()}),n._UZ(103,"i",58),n._uU(104," Add "),n.qZA()()(),n.TgZ(105,"div",0)(106,"div",1)(107,"table",59)(108,"thead",60)(109,"tr")(110,"th",61),n._uU(111,"Type"),n.qZA(),n.TgZ(112,"th",61),n._uU(113,"Rate"),n.qZA(),n.TgZ(114,"th",61),n._uU(115,"Actions"),n.qZA()()(),n.TgZ(116,"tbody"),n.YNc(117,Ye,12,7,"tr",62),n.YNc(118,Pe,3,0,"tr",63),n.qZA()()()()(),n.TgZ(119,"div",52)(120,"label",64),n._uU(121,"Resume File"),n.qZA(),n.TgZ(122,"ngx-dropzone",65),n.NdJ("change",function(f){return l.onSelect(f)}),n.TgZ(123,"ngx-dropzone-label"),n._uU(124,"Drop or selec file"),n.qZA(),n.YNc(125,He,3,4,"ngx-dropzone-preview",66),n.qZA(),n.YNc(126,I,3,1,"div",67),n.qZA()(),n.TgZ(127,"div",36)(128,"div",1)(129,"div",53)(130,"div",54)(131,"h5",55),n._uU(132,"Rate For language"),n.qZA()(),n.TgZ(133,"div",56)(134,"button",57),n.NdJ("click",function(){return l.onAddrate()}),n._UZ(135,"i",58),n._uU(136," Add "),n.qZA()()(),n.TgZ(137,"div",0)(138,"div",1)(139,"table",59)(140,"thead",60)(141,"tr")(142,"th",61),n._uU(143,"Language"),n.qZA(),n.TgZ(144,"th",61),n._uU(145,"Type"),n.qZA(),n.TgZ(146,"th",61),n._uU(147,"Rate"),n.qZA(),n.TgZ(148,"th",61),n._uU(149,"Actions"),n.qZA()()(),n.TgZ(150,"tbody"),n.YNc(151,m,14,11,"tr",62),n.YNc(152,y,3,0,"tr",63),n.qZA()()()()()(),n.TgZ(153,"div",68)(154,"button",69),n.NdJ("click",function(){return l.onSubmit()}),n._uU(155," Save "),n.qZA(),n.TgZ(156,"button",70),n._uU(157," Reset "),n.qZA()()(),n.TgZ(158,"div",71),n._UZ(159,"app-interpreter-services",72),n.qZA(),n.TgZ(160,"div",73),n._UZ(161,"app-interpreter-files",74),n.qZA(),n.TgZ(162,"div",75)(163,"h1",76),n._uU(164," My resume "),n.qZA()()()()()()()),2&o&&(n.xp6(32),n.Q6J("formGroup",l.frmInterpreter),n.xp6(4),n.Q6J("src",l.fileUrl,n.LSH),n.xp6(15),n.Q6J("disabled",!0),n.xp6(5),n.ekj("is-invalid",l.controls.timzoneId.errors&&l.touched("timzoneId")),n.Q6J("items",l.timezones)("loading",l.loadingTimezone),n.xp6(37),n.ekj("is-invalid",l.controls.targetLanguages.errors&&l.touched("targetLanguages")),n.Q6J("items",l.targetIdioms)("multiple",!0)("loading",l.loadingIdioms),n.xp6(24),n.Q6J("ngForOf",l.contacts),n.xp6(1),n.Q6J("ngIf",0==l.counterContacts),n.xp6(4),n.Q6J("multiple",!1),n.xp6(3),n.Q6J("ngIf",l.file),n.xp6(1),n.Q6J("ngIf",""!==l.resumeName),n.xp6(25),n.Q6J("ngForOf",l.rates),n.xp6(1),n.Q6J("ngIf",0==l.counterRates),n.xp6(2),n.Q6J("disabled",l.invalid||l.invalidRate||l.saving),n.xp6(5),n.Q6J("id",l.id)("officeHours",l.officeHours)("services",l.servicesProfile),n.xp6(2),n.Q6J("id",l.id))},dependencies:[ue.sg,ue.O5,p._Y,p.YN,p.Kr,p.Fj,p.wV,p.EJ,p.JJ,p.JL,p.oH,p.sg,p.u,Ue.w9,ye,We,ve._f,ve.NP,ve.dt],styles:['.file-select[_ngcontent-%COMP%]{display:inline-block;position:relative;width:100%}.file-select[_ngcontent-%COMP%]:before{background-color:#eff2f7;color:#222;display:flex;justify-content:center;align-items:center;border-radius:20px 0 0 20px;border:solid 1px #ced4da;content:"Seleccionar";position:absolute;inset:0;width:28%}.file-select[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{width:100%;height:37px;display:inline-block}.file-select[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]:before{content:"dfddf";position:absolute;left:300px}.file-select[_ngcontent-%COMP%]:before{content:"Select File"}.dropzone_sec[_ngcontent-%COMP%]{height:120px}.c-dropzone-preview[_ngcontent-%COMP%]{min-height:40px!important;max-height:40px!important;font-size:12px;max-width:100%!important}.dropzone_sec[_ngcontent-%COMP%]{height:64px}.c-pointer[_ngcontent-%COMP%]{cursor:pointer}']}),h})()},6095:(fe,Y,D)=>{D.d(Y,{S:()=>W});var P=D(9862),n=D(5879),p=D(7065);let W=(()=>{var j;class A{constructor(){this._http=(0,n.f3M)(P.eN)}findAll(U="",x=""){let N=`filter=${U}`;return N+=`&ignore=${x}`,this._http.get(p.fR+`/language?${N}`)}findIdiomsAll(U=""){return this._http.get(p.fR+`/idiom?filter=${U}`)}}return(j=A).\u0275fac=function(U){return new(U||j)},j.\u0275prov=n.Yz7({token:j,factory:j.\u0275fac,providedIn:"root"}),A})()},3947:(fe,Y,D)=>{D.d(Y,{t:()=>j});var P=D(5879),n=D(9862),p=D(7065),W=D(7398);let j=(()=>{var A;class H{constructor(){this._http=(0,P.f3M)(n.eN)}onCreate(x){return this._http.post(p.fR+"/interpreter",x)}onFindAll(x,N){let F=`page=${N}`;return F+=`&filter=${x.filter}`,F+=`&active=${!x.active}`,F+=`&limit=${x.limit}`,F+=`&order=${x.order}`,this._http.get(p.fR+`/interpreter?${F}`)}onFindById(x){return this._http.get(p.fR+(""==x?"/interpreter/find/my-profile":`/interpreter/${x}`)).pipe((0,W.U)(F=>{const{data:B}=F;return F.data.rates=B.rates.filter($=>$.status),F}))}onUpdate(x,N){return this._http.put(p.fR+(""==N?"/interpreter/update/my-profile":`/interpreter/${N}`),x)}onDelete(x){return this._http.delete(p.fR+`/interpreter/${x}`)}onUpdateRate(x,N){return this._http.put(p.fR+(""==x?"/interpreter/update/rate-profile":`/interpreter/${x}/rate`),N)}onUpdateContact(x,N){return this._http.put(p.fR+(""==x?"/interpreter/update/contact-profile":`/interpreter/${x}/contact`),N)}onUpdateOfficeHours(x,N){return this._http.put(p.fR+(""==x?"/interpreter/update/office-hours-profile":`/interpreter/${x}/office-hours`),N)}onUpdateAdditional(x){return this._http.put(p.fR+"/interpreter/update/additional",x)}}return(A=H).\u0275fac=function(x){return new(x||A)},A.\u0275prov=P.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),H})()},1674:(fe,Y,D)=>{D.d(Y,{B:()=>j});var P=D(9862),n=D(5879),p=D(7065);let j=(()=>{var A;class H{constructor(){this._http=(0,n.f3M)(P.eN)}onFindAll(x){return this._http.get(p.fR+`/time-zone/by-country?filter=${x}`)}}return(A=H).\u0275fac=function(x){return new(x||A)},A.\u0275prov=n.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),H})()},604:(fe,Y,D)=>{D.d(Y,{O:()=>Ls});var P=D(5861);const j=function(t){const e=[];let i=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[i++]=s:s<2048?(e[i++]=s>>6|192,e[i++]=63&s|128):55296==(64512&s)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(s=65536+((1023&s)<<10)+(1023&t.charCodeAt(++r)),e[i++]=s>>18|240,e[i++]=s>>12&63|128,e[i++]=s>>6&63|128,e[i++]=63&s|128):(e[i++]=s>>12|224,e[i++]=s>>6&63|128,e[i++]=63&s|128)}return e},H={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const d=t[s],g=s+1<t.length,T=g?t[s+1]:0,S=s+2<t.length,O=S?t[s+2]:0;let G=(15&T)<<2|O>>6,Q=63&O;S||(Q=64,g||(G=64)),r.push(i[d>>2],i[(3&d)<<4|T>>4],i[G],i[Q])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(j(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let i=0,r=0;for(;i<t.length;){const s=t[i++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const d=t[i++];e[r++]=String.fromCharCode((31&s)<<6|63&d)}else if(s>239&&s<365){const S=((7&s)<<18|(63&t[i++])<<12|(63&t[i++])<<6|63&t[i++])-65536;e[r++]=String.fromCharCode(55296+(S>>10)),e[r++]=String.fromCharCode(56320+(1023&S))}else{const d=t[i++],g=t[i++];e[r++]=String.fromCharCode((15&s)<<12|(63&d)<<6|63&g)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const d=i[t.charAt(s++)],T=s<t.length?i[t.charAt(s)]:0;++s;const O=s<t.length?i[t.charAt(s)]:64;++s;const L=s<t.length?i[t.charAt(s)]:64;if(++s,null==d||null==T||null==O||null==L)throw new U;r.push(d<<2|T>>4),64!==O&&(r.push(T<<4&240|O>>2),64!==L&&r.push(O<<6&192|L))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class U extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const N=function(t){return function(t){const e=j(t);return H.encodeByteArray(e,!0)}(t).replace(/\./g,"")},ue=()=>{try{return function re(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&function(t){try{return H.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},oe=()=>{var t;return null===(t=ue())||void 0===t?void 0:t.config};class Ie{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(i):e(i,r))}}}class m extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,m.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,y.prototype.create)}}class y{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},s=`${this.service}/${e}`,d=this.errors[e],g=d?function C(t,e){return t.replace(v,(i,r)=>{const s=e[r];return null!=s?String(s):`<${r}?>`})}(d,r):"Error";return new m(s,`${this.serviceName}: ${g} (${s}).`,r)}}const v=/\{\$([^}]+)}/g;function M(t,e){if(t===e)return!0;const i=Object.keys(t),r=Object.keys(e);for(const s of i){if(!r.includes(s))return!1;const d=t[s],g=e[s];if(k(d)&&k(g)){if(!M(d,g))return!1}else if(d!==g)return!1}for(const s of r)if(!i.includes(s))return!1;return!0}function k(t){return null!==t&&"object"==typeof t}function at(t){return t&&t._delegate?t._delegate:t}class lt{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Fe="[DEFAULT]";class Xn{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new Ie;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:i});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const r=this.normalizeInstanceIdentifier(e?.identifier),s=null!==(i=e?.optional)&&void 0!==i&&i;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(s)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(d){if(s)return null;throw d}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Qn(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Fe})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(i);try{const d=this.getOrInitializeService({instanceIdentifier:s});r.resolve(d)}catch{}}}}clearInstance(e=Fe){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return(0,P.Z)(function*(){const i=Array.from(e.instances.values());yield Promise.all([...i.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...i.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Fe){return this.instances.has(e)}getOptions(e=Fe){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[d,g]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(d)&&g.resolve(s);return s}onInit(e,i){var r;const s=this.normalizeInstanceIdentifier(i),d=null!==(r=this.onInitCallbacks.get(s))&&void 0!==r?r:new Set;d.add(e),this.onInitCallbacks.set(s,d);const g=this.instances.get(s);return g&&e(g,s),()=>{d.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const s of r)try{s(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Fe?void 0:t),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Fe){return this.component?this.component.multipleInstances?e:Fe:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ei{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new Xn(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}const wt=[];var J=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(J||{});const Jt={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},ti=J.INFO,ni={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},ii=(t,e,...i)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),s=ni[e];if(!s)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[s](`[${r}]  ${t.name}:`,...i)},si=(t,e)=>e.some(i=>t instanceof i);let Xt,Kt;const Qt=new WeakMap,Rt=new WeakMap,en=new WeakMap,It=new WeakMap,Dt=new WeakMap;let Ct={get(t,e,i){if(t instanceof IDBTransaction){if("done"===e)return Rt.get(t);if("objectStoreNames"===e)return t.objectStoreNames||en.get(t);if("store"===e)return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ke(t[e])},set:(t,e,i)=>(t[e]=i,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function hi(t){return"function"==typeof t?function ui(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ai(){return Kt||(Kt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(xt(this),e),ke(Qt.get(this))}:function(...e){return ke(t.apply(xt(this),e))}:function(e,...i){const r=t.call(xt(this),e,...i);return en.set(r,e.sort?e.sort():[e]),ke(r)}}(t):(t instanceof IDBTransaction&&function ci(t){if(Rt.has(t))return;const e=new Promise((i,r)=>{const s=()=>{t.removeEventListener("complete",d),t.removeEventListener("error",g),t.removeEventListener("abort",g)},d=()=>{i(),s()},g=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",d),t.addEventListener("error",g),t.addEventListener("abort",g)});Rt.set(t,e)}(t),si(t,function oi(){return Xt||(Xt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Ct):t)}function ke(t){if(t instanceof IDBRequest)return function li(t){const e=new Promise((i,r)=>{const s=()=>{t.removeEventListener("success",d),t.removeEventListener("error",g)},d=()=>{i(ke(t.result)),s()},g=()=>{r(t.error),s()};t.addEventListener("success",d),t.addEventListener("error",g)});return e.then(i=>{i instanceof IDBCursor&&Qt.set(i,t)}).catch(()=>{}),Dt.set(e,t),e}(t);if(It.has(t))return It.get(t);const e=hi(t);return e!==t&&(It.set(t,e),Dt.set(e,t)),e}const xt=t=>Dt.get(t),pi=["get","getKey","getAll","getAllKeys","count"],gi=["put","add","delete","clear"],At=new Map;function tn(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(At.get(e))return At.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,s=gi.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!s&&!pi.includes(i))return;const d=function(){var g=(0,P.Z)(function*(T,...S){const O=this.transaction(T,s?"readwrite":"readonly");let Z=O.store;return r&&(Z=Z.index(S.shift())),(yield Promise.all([Z[i](...S),s&&O.done]))[0]});return function(S){return g.apply(this,arguments)}}();return At.set(e,d),d}!function di(t){Ct=t(Ct)}(t=>({...t,get:(e,i,r)=>tn(e,i)||t.get(e,i,r),has:(e,i)=>!!tn(e,i)||t.has(e,i)}));class mi{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(function vi(t){const e=t.getComponent();return"VERSION"===e?.type}(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}return null}).filter(i=>i).join(" ")}}const Mt="@firebase/app",Be=new class ri{constructor(e){this.name=e,this._logLevel=ti,this._logHandler=ii,this._userLogHandler=null,wt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in J))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Jt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...e),this._logHandler(this,J.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...e),this._logHandler(this,J.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,J.INFO,...e),this._logHandler(this,J.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,J.WARN,...e),this._logHandler(this,J.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...e),this._logHandler(this,J.ERROR,...e)}}("@firebase/app"),gt="[DEFAULT]",ji={[Mt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ze=new Map,mt=new Map;function $i(t,e){try{t.container.addComponent(e)}catch(i){Be.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,i)}}function vt(t){const e=t.name;if(mt.has(e))return Be.debug(`There were multiple attempts to register component ${e}.`),!1;mt.set(e,t);for(const i of ze.values())$i(i,t);return!0}const De=new y("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class qi{constructor(e,i,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new lt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw De.create("app-deleted",{appName:this._name})}}function sn(t,e={}){let i=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:gt,automaticDataCollectionEnabled:!1},e),s=r.name;if("string"!=typeof s||!s)throw De.create("bad-app-name",{appName:String(s)});if(i||(i=oe()),!i)throw De.create("no-options");const d=ze.get(s);if(d){if(M(i,d.options)&&M(r,d.config))return d;throw De.create("duplicate-app",{appName:s})}const g=new ei(s);for(const S of mt.values())g.addComponent(S);const T=new qi(i,r,g);return ze.set(s,T),T}function Qe(t,e,i){var r;let s=null!==(r=ji[t])&&void 0!==r?r:t;i&&(s+=`-${i}`);const d=s.match(/\s|\//),g=e.match(/\s|\//);if(d||g){const T=[`Unable to register library "${s}" with version "${e}":`];return d&&T.push(`library name "${s}" contains illegal characters (whitespace or "/")`),d&&g&&T.push("and"),g&&T.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Be.warn(T.join(" "))}vt(new lt(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const Yi="firebase-heartbeat-database",Ji=1,ct="firebase-heartbeat-store";let Pt=null;function on(){return Pt||(Pt=function fi(t,e,{blocked:i,upgrade:r,blocking:s,terminated:d}={}){const g=indexedDB.open(t,e),T=ke(g);return r&&g.addEventListener("upgradeneeded",S=>{r(ke(g.result),S.oldVersion,S.newVersion,ke(g.transaction),S)}),i&&g.addEventListener("blocked",S=>i(S.oldVersion,S.newVersion,S)),T.then(S=>{d&&S.addEventListener("close",()=>d()),s&&S.addEventListener("versionchange",O=>s(O.oldVersion,O.newVersion,O))}).catch(()=>{}),T}(Yi,Ji,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ct)}}).catch(t=>{throw De.create("idb-open",{originalErrorMessage:t.message})})),Pt}function kt(){return(kt=(0,P.Z)(function*(t){try{return yield(yield on()).transaction(ct).objectStore(ct).get(ln(t))}catch(e){if(e instanceof m)Be.warn(e.message);else{const i=De.create("idb-get",{originalErrorMessage:e?.message});Be.warn(i.message)}}})).apply(this,arguments)}function an(t,e){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,P.Z)(function*(t,e){try{const r=(yield on()).transaction(ct,"readwrite");yield r.objectStore(ct).put(e,ln(t)),yield r.done}catch(i){if(i instanceof m)Be.warn(i.message);else{const r=De.create("idb-set",{originalErrorMessage:i?.message});Be.warn(r.message)}}})).apply(this,arguments)}function ln(t){return`${t.name}!${t.options.appId}`}class er{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new nr(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return(0,P.Z)(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=cn();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==s&&!e._heartbeatsCache.heartbeats.some(d=>d.date===s))return e._heartbeatsCache.heartbeats.push({date:s,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(d=>{const g=new Date(d.date).valueOf();return Date.now()-g<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return(0,P.Z)(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const i=cn(),{heartbeatsToSend:r,unsentEntries:s}=function tr(t,e=1024){const i=[];let r=t.slice();for(const s of t){const d=i.find(g=>g.agent===s.agent);if(d){if(d.dates.push(s.date),dn(i)>e){d.dates.pop();break}}else if(i.push({agent:s.agent,dates:[s.date]}),dn(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}(e._heartbeatsCache.heartbeats),d=N(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=i,s.length>0?(e._heartbeatsCache.heartbeats=s,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),d})()}}function cn(){return(new Date).toISOString().substring(0,10)}class nr{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,P.Z)(function*(){return!!function Pe(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function He(){return new Promise((t,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),i||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{i=!1},s.onerror=()=>{var d;e((null===(d=s.error)||void 0===d?void 0:d.message)||"")}}catch(i){e(i)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return(0,P.Z)(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Xi(t){return kt.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var i=this;return(0,P.Z)(function*(){var r;if(yield i._canUseIndexedDBPromise){const d=yield i.read();return an(i.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:d.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var i=this;return(0,P.Z)(function*(){var r;if(yield i._canUseIndexedDBPromise){const d=yield i.read();return an(i.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:d.lastSentHeartbeatDate,heartbeats:[...d.heartbeats,...e.heartbeats]})}})()}}function dn(t){return N(JSON.stringify({version:2,heartbeats:t})).length}!function ir(t){vt(new lt("platform-logger",e=>new mi(e),"PRIVATE")),vt(new lt("heartbeat",e=>new er(e),"PRIVATE")),Qe(Mt,"0.9.15",t),Qe(Mt,"0.9.15","esm2017"),Qe("fire-js","")}("");const un="firebasestorage.googleapis.com",hn="storageBucket";class K extends m{constructor(e,i,r=0){super(Nt(e),`Firebase Storage: ${i} (${Nt(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,K.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Nt(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var X=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(X||{});function Nt(t){return"storage/"+t}function Lt(){return new K(X.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Ht(t){return new K(X.INVALID_ARGUMENT,t)}function mn(){return new K(X.APP_DELETED,"The Firebase app was deleted.")}function dt(t,e){return new K(X.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ut(t){throw new K(X.INTERNAL_ERROR,"Internal error: "+t)}class le{constructor(e,i){this.bucket=e,this.path_=i}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,i){let r;try{r=le.makeFromUrl(e,i)}catch{return new le(e,"")}if(""===r.path)return r;throw function fr(t){return new K(X.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}(e)}static makeFromUrl(e,i){let r=null;const s="([A-Za-z0-9.\\-_]+)",T=new RegExp("^gs://"+s+"(/(.*))?$","i");function O(se){se.path_=decodeURIComponent(se.path)}const L=i.replace(/[.]/g,"\\."),ae=[{regex:T,indices:{bucket:1,path:3},postModify:function d(se){"/"===se.path.charAt(se.path.length-1)&&(se.path_=se.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${L}/v[A-Za-z0-9_]+/b/${s}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:O},{regex:new RegExp(`^https?://${i===un?"(?:storage.googleapis.com|storage.cloud.google.com)":i}/${s}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:O}];for(let se=0;se<ae.length;se++){const it=ae[se],rt=it.regex.exec(e);if(rt){let pt=rt[it.indices.path];pt||(pt=""),r=new le(rt[it.indices.bucket],pt),it.postModify(r);break}}if(null==r)throw function hr(t){return new K(X.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return r}}class br{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function _t(t){return"string"==typeof t||t instanceof String}function vn(t){return Ft()&&t instanceof Blob}function Ft(){return typeof Blob<"u"&&!function Ee(){var t;const e=null===(t=ue())||void 0===t?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()}function Bt(t,e,i,r){if(r<e)throw Ht(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>i)throw Ht(`Invalid value for '${t}'. Expected ${i} or less.`)}function Ce(t,e,i){let r=e;return null==i&&(r=`https://${e}`),`${i}://${r}/v0${t}`}function _n(t){const e=encodeURIComponent;let i="?";for(const r in t)t.hasOwnProperty(r)&&(i=i+(e(r)+"=")+e(t[r])+"&");return i=i.slice(0,-1),i}var et=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(et||{});class Rr{constructor(e,i,r,s,d,g,T,S,O,Z,L,G=!0){this.url_=e,this.method_=i,this.headers_=r,this.body_=s,this.successCodes_=d,this.additionalRetryCodes_=g,this.callback_=T,this.errorCallback_=S,this.timeout_=O,this.progressCallback_=Z,this.connectionFactory_=L,this.retry=G,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Q,te)=>{this.resolve_=Q,this.reject_=te,this.start_()})}start_(){const i=(r,s)=>{const d=this.resolve_,g=this.reject_,T=s.connection;if(s.wasSuccessCode)try{const S=this.callback_(T,T.getResponse());!function Sr(t){return void 0!==t}(S)?d():d(S)}catch(S){g(S)}else if(null!==T){const S=Lt();S.serverResponse=T.getErrorText(),g(this.errorCallback_?this.errorCallback_(T,S):S)}else g(s.canceled?this.appDelete_?mn():function pn(){return new K(X.CANCELED,"User canceled the upload/download.")}():function fn(){return new K(X.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?i(0,new bt(!1,null,!0)):this.backoffId_=function yr(t,e,i){let r=1,s=null,d=null,g=!1,T=0;function S(){return 2===T}let O=!1;function Z(...ne){O||(O=!0,e.apply(null,ne))}function L(ne){s=setTimeout(()=>{s=null,t(Q,S())},ne)}function G(){d&&clearTimeout(d)}function Q(ne,...Ae){if(O)return void G();if(ne)return G(),void Z.call(null,ne,...Ae);if(S()||g)return G(),void Z.call(null,ne,...Ae);let ae;r<64&&(r*=2),1===T?(T=2,ae=0):ae=1e3*(r+Math.random()),L(ae)}let te=!1;function ge(ne){te||(te=!0,G(),!O&&(null!==s?(ne||(T=2),clearTimeout(s),L(0)):ne||(T=1)))}return L(0),d=setTimeout(()=>{g=!0,ge(!0)},i),ge}((r,s)=>{if(s)return void r(!1,new bt(!1,null,!0));const d=this.connectionFactory_();this.pendingConnection_=d;const g=T=>{null!==this.progressCallback_&&this.progressCallback_(T.loaded,T.lengthComputable?T.total:-1)};null!==this.progressCallback_&&d.addUploadProgressListener(g),d.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&d.removeUploadProgressListener(g),this.pendingConnection_=null;const T=d.getErrorCode()===et.NO_ERROR,S=d.getStatus();if(!T||function bn(t,e){const i=t>=500&&t<600,s=-1!==[408,429].indexOf(t),d=-1!==e.indexOf(t);return i||s||d}(S,this.additionalRetryCodes_)&&this.retry){const Z=d.getErrorCode()===et.ABORT;return void r(!1,new bt(!1,null,Z))}const O=-1!==this.successCodes_.indexOf(S);r(!0,new bt(O,d))})},i,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function Er(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class bt{constructor(e,i,r){this.wasSuccessCode=e,this.connection=i,this.canceled=!!r}}function Or(...t){const e=function Mr(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const i=new e;for(let r=0;r<t.length;r++)i.append(t[r]);return i.getBlob()}if(Ft())return new Blob(t);throw new K(X.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const _e={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class zt{constructor(e,i){this.data=e,this.contentType=i||null}}function En(t){const e=[];for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?i<t.length-1&&56320==(64512&t.charCodeAt(i+1))?(r=65536|(1023&r)<<10|1023&t.charCodeAt(++i),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Sn(t,e){switch(t){case _e.BASE64:{const s=-1!==e.indexOf("-"),d=-1!==e.indexOf("_");if(s||d)throw dt(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case _e.BASE64URL:{const s=-1!==e.indexOf("+"),d=-1!==e.indexOf("/");if(s||d)throw dt(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let i;try{i=function kr(t){if(typeof atob>"u")throw function vr(t){return new K(X.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(t)}(e)}catch(s){throw s.message.includes("polyfill")?s:dt(t,"Invalid character found")}const r=new Uint8Array(i.length);for(let s=0;s<i.length;s++)r[s]=i.charCodeAt(s);return r}class Tn{constructor(e){this.base64=!1,this.contentType=null;const i=e.match(/^data:([^,]+)?,/);if(null===i)throw dt(_e.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=i[1]||null;null!=r&&(this.base64=function Hr(t,e){return t.length>=e.length&&t.substring(t.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class xe{constructor(e,i){let r=0,s="";vn(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(i?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(i?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,i){if(vn(this.data_)){const s=function Pr(t,e,i){return t.webkitSlice?t.webkitSlice(e,i):t.mozSlice?t.mozSlice(e,i):t.slice?t.slice(e,i):null}(this.data_,e,i);return null===s?null:new xe(s)}{const r=new Uint8Array(this.data_.buffer,e,i-e);return new xe(r,!0)}}static getBlob(...e){if(Ft()){const i=e.map(r=>r instanceof xe?r.data_:r);return new xe(Or.apply(null,i))}{const i=e.map(g=>_t(g)?function yn(t,e){switch(t){case _e.RAW:return new zt(En(e));case _e.BASE64:case _e.BASE64URL:return new zt(Sn(t,e));case _e.DATA_URL:return new zt(function Nr(t){const e=new Tn(t);return e.base64?Sn(_e.BASE64,e.rest):function Ur(t){let e;try{e=decodeURIComponent(t)}catch{throw dt(_e.DATA_URL,"Malformed data URL.")}return En(e)}(e.rest)}(e),function Lr(t){return new Tn(t).contentType}(e))}throw Lt()}(_e.RAW,g).data:g.data_);let r=0;i.forEach(g=>{r+=g.byteLength});const s=new Uint8Array(r);let d=0;return i.forEach(g=>{for(let T=0;T<g.length;T++)s[d++]=g[T]}),new xe(s,!0)}}uploadData(){return this.data_}}function Zt(t){let e;try{e=JSON.parse(t)}catch{return null}return function wr(t){return"object"==typeof t&&!Array.isArray(t)}(e)?e:null}function wn(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function zr(t,e){return e}class ce{constructor(e,i,r,s){this.server=e,this.local=i||e,this.writable=!!r,this.xform=s||zr}}let yt=null;function ht(){if(yt)return yt;const t=[];t.push(new ce("bucket")),t.push(new ce("generation")),t.push(new ce("metageneration")),t.push(new ce("name","fullPath",!0));const i=new ce("name");i.xform=function e(d,g){return function Zr(t){return!_t(t)||t.length<2?t:wn(t)}(g)},t.push(i);const s=new ce("size");return s.xform=function r(d,g){return void 0!==g?Number(g):g},t.push(s),t.push(new ce("timeCreated")),t.push(new ce("updated")),t.push(new ce("md5Hash",null,!0)),t.push(new ce("cacheControl",null,!0)),t.push(new ce("contentDisposition",null,!0)),t.push(new ce("contentEncoding",null,!0)),t.push(new ce("contentLanguage",null,!0)),t.push(new ce("contentType",null,!0)),t.push(new ce("metadata","customMetadata",!0)),yt=t,yt}function Rn(t,e,i){const r=Zt(e);return null===r?null:function $r(t,e,i){const r={type:"file"},s=i.length;for(let d=0;d<s;d++){const g=i[d];r[g.local]=g.xform(r,e[g.server])}return function jr(t,e){Object.defineProperty(t,"ref",{get:function i(){const d=new le(t.bucket,t.fullPath);return e._makeStorageReference(d)}})}(r,t),r}(t,r,i)}class Te{constructor(e,i,r,s){this.url=e,this.method=i,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function we(t){if(!t)throw Lt()}function tt(t){return function e(i,r){let s;return s=401===i.getStatus()?i.getErrorText().includes("Firebase App Check token is invalid")?function dr(){return new K(X.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function cr(){return new K(X.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===i.getStatus()?function lr(t){return new K(X.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(t.bucket):403===i.getStatus()?function ur(t){return new K(X.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}(t.path):r,s.status=i.getStatus(),s.serverResponse=r.serverResponse,s}}function ft(t){const e=tt(t);return function i(r,s){let d=e(r,s);return 404===r.getStatus()&&(d=function ar(t){return new K(X.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}(t.path)),d.serverResponse=s.serverResponse,d}}function Mn(t,e,i,r,s){const d=e.bucketOnlyServerUrl(),g={"X-Goog-Upload-Protocol":"multipart"},S=function T(){let ae="";for(let se=0;se<2;se++)ae+=Math.random().toString().slice(2);return ae}();g["Content-Type"]="multipart/related; boundary="+S;const O=function An(t,e,i){const r=Object.assign({},i);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function es(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}(e,r,s),Z=function jt(t,e){const i={},r=e.length;for(let s=0;s<r;s++){const d=e[s];d.writable&&(i[d.server]=t[d.local])}return JSON.stringify(i)}(O,i),Q=xe.getBlob("--"+S+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Z+"\r\n--"+S+"\r\nContent-Type: "+O.contentType+"\r\n\r\n",r,"\r\n--"+S+"--");if(null===Q)throw function gn(){return new K(X.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}();const te={name:O.fullPath},ge=Ce(d,t.host,t._protocol),Ae=t.maxUploadRetryTime,Me=new Te(ge,"POST",function Et(t,e){return function i(r,s){const d=Rn(t,s,e);return we(null!==d),d}}(t,i),Ae);return Me.urlParams=te,Me.headers=g,Me.body=Q.uploadData(),Me.errorHandler=tt(e),Me}let Pn=null;class ss{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=et.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=et.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=et.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,i,r,s){if(this.sent_)throw ut("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(i,e,!0),void 0!==s)for(const d in s)s.hasOwnProperty(d)&&this.xhr_.setRequestHeader(d,s[d].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ut("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ut("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ut("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ut("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class os extends ss{initXhr(){this.xhr_.responseType="text"}}function be(){return Pn?Pn():new os}class Ze{constructor(e,i){this._service=e,this._location=i instanceof le?i:le.makeFromUrl(i,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,i){return new Ze(e,i)}get root(){const e=new le(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return wn(this._location.path)}get storage(){return this._service}get parent(){const e=function Fr(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;const i=new le(this._location.bucket,e);return new Ze(this._service,i)}_throwIfRoot(e){if(""===this._location.path)throw function _r(t){return new K(X.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function bs(t){t._throwIfRoot("getDownloadURL");const e=function Xr(t,e,i){const s=Ce(e.fullServerUrl(),t.host,t._protocol),g=t.maxOperationRetryTime,T=new Te(s,"GET",function Yr(t,e){return function i(r,s){const d=Rn(t,s,e);return we(null!==d),function Vr(t,e,i,r){const s=Zt(e);if(null===s||!_t(s.downloadTokens))return null;const d=s.downloadTokens;if(0===d.length)return null;const g=encodeURIComponent;return d.split(",").map(O=>{const L=t.fullPath;return Ce("/b/"+g(t.bucket)+"/o/"+g(L),i,r)+_n({alt:"media",token:O})})[0]}(d,s,t.host,t._protocol)}}(t,i),g);return T.errorHandler=ft(e),T}(t.storage,t._location,ht());return t.storage.makeRequestWithTokens(e,be).then(i=>{if(null===i)throw function mr(){return new K(X.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return i})}function Hn(t,e){if(t instanceof Wt){const i=t;if(null==i._bucket)throw function pr(){return new K(X.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+hn+"' property when initializing the app?")}();const r=new Ze(i,i._bucket);return null!=e?Hn(r,e):r}return void 0!==e?function Ln(t,e){const i=function Br(t,e){const i=e.split("/").filter(r=>r.length>0).join("/");return 0===t.length?i:t+"/"+i}(t._location.path,e),r=new le(t._location.bucket,i);return new Ze(t.storage,r)}(t,e):t}function Fn(t,e){const i=e?.[hn];return null==i?null:le.makeFromBucketSpec(i,t)}class Wt{constructor(e,i,r,s,d){this.app=e,this._authProvider=i,this._appCheckProvider=r,this._url=s,this._firebaseVersion=d,this._bucket=null,this._host=un,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=s?le.makeFromBucketSpec(s,this._host):Fn(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?le.makeFromBucketSpec(this._url,e):Fn(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Bt("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Bt("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,P.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const i=e._authProvider.getImmediate({optional:!0});if(i){const r=yield i.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,P.Z)(function*(){const i=e._appCheckProvider.getImmediate({optional:!0});return i?(yield i.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ze(this,e)}_makeRequest(e,i,r,s,d=!0){if(this._deleted)return new br(mn());{const g=function Ar(t,e,i,r,s,d,g=!0){const T=_n(t.urlParams),S=t.url+T,O=Object.assign({},t.headers);return function Cr(t,e){e&&(t["X-Firebase-GMPID"]=e)}(O,e),function Ir(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(O,i),function Dr(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(O,d),function xr(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(O,r),new Rr(S,t.method,O,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,g)}(e,this._appId,r,s,i,this._firebaseVersion,d);return this._requests.add(g),g.getPromise().then(()=>this._requests.delete(g),()=>this._requests.delete(g)),g}}makeRequestWithTokens(e,i){var r=this;return(0,P.Z)(function*(){const[s,d]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,i,s,d).getPromise()})()}}const Bn="@firebase/storage",Zn="storage";function jn(t,e){return function Ts(t,e){if(e&&function Es(t){return/^[A-Za-z]+:\/\//.test(t)}(e)){if(t instanceof Wt)return function Ss(t,e){return new Ze(t,e)}(t,e);throw Ht("To use ref(service, url), the first argument must be a Storage instance.")}return Hn(t,e)}(t=at(t),e)}function As(t,{instanceIdentifier:e}){const i=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Wt(i,r,s,e,"10.1.0")}!function Ms(){vt(new lt(Zn,As,"PUBLIC").setMultipleInstances(!0)),Qe(Bn,"0.11.2",""),Qe(Bn,"0.11.2","esm2017")}(),Qe("firebase","10.1.0","app");var ks=D(7065),$n=D(2208),Us=D(5879);const Vn=function Cs(t=function Gi(t=gt){const e=ze.get(t);if(!e&&t===gt&&oe())return sn();if(!e)throw De.create("no-app",{appName:t});return e}(),e){const r=function rn(t,e){const i=t.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),t.container.getProvider(e)}(t=at(t),Zn).getImmediate({identifier:e}),s=(t=>{const e=(t=>{var e,i;return null===(i=null===(e=ue())||void 0===e?void 0:e.emulatorHosts)||void 0===i?void 0:i[t]})(t);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return"["===e[0]?[e.substring(1,i-1),r]:[e.substring(0,i),r]})("storage");return s&&function xs(t,e,i,r={}){!function ws(t,e,i,r={}){t.host=`${e}:${i}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken="string"==typeof s?s:function Ne(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",s=t.iat||0,d=t.sub||t.user_id;if(!d)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const g=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:d,user_id:d,firebase:{sign_in_provider:"custom",identities:{}}},t);return[N(JSON.stringify({alg:"none",type:"JWT"})),N(JSON.stringify(g)),""].join(".")}(s,t.app.options.projectId))}(t,e,i,r)}(r,...s),r}(sn(ks.qe));let Ls=(()=>{var t;class e{constructor(){}onUploadFirebase(r,s,d=$n.t.documents){return(0,P.Z)(function*(){const g=jn(Vn,`${d}/${s}`);return yield function Rs(t,e,i){return function kn(t,e,i){t._throwIfRoot("uploadBytes");const r=Mn(t.storage,t._location,ht(),new xe(e,!0),i);return t.storage.makeRequestWithTokens(r,be).then(s=>({metadata:s,ref:t}))}(t=at(t),e,i)}(g,r),function Is(t){return bs(t=at(t))}(g)})()}onDeleteFirebase(r,s=$n.t.documents){return function Ds(t){return function ys(t){t._throwIfRoot("deleteObject");const e=function Qr(t,e){const r=Ce(e.fullServerUrl(),t.host,t._protocol),T=new Te(r,"DELETE",function g(S,O){},t.maxOperationRetryTime);return T.successCodes=[200,204],T.errorHandler=ft(e),T}(t.storage,t._location);return t.storage.makeRequestWithTokens(e,be)}(t=at(t))}(jn(Vn,`${s}/${r}`))}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Us.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})()},907:(fe,Y,D)=>{D.d(Y,{g:()=>A});var P=D(9862),n=D(5879),p=D(7065),W=D(7398);const j="/nomenclature";let A=(()=>{var H;class U{constructor(){this._http=(0,n.f3M)(P.eN)}onGetMenuActions(N="",F=0,B=0){let $=`page=${F}`;return $+=`&filter=${N}`,$+=`&limit=${B}`,this._http.get(p.fR+`${j}/menu?${$}`)}onGetCallType(){return this._http.get(p.fR+`${j}/call-type`)}onGetContactType(){return this._http.get(p.fR+`${j}/contact-type`)}onGetServicesType(){return this._http.get(p.fR+`${j}/service-type`).pipe((0,W.U)(N=>{const{data:F}=N;return N.data=F.map(B=>(B.select=!1,B)),N}))}}return(H=U).\u0275fac=function(N){return new(N||H)},H.\u0275prov=n.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"}),U})()},2049:(fe,Y,D)=>{D.d(Y,{e:()=>n});var P=D(5879);let n=(()=>{var p;class W{constructor(){}getPager(A,H=1,U=5){const x=Math.ceil(A/U);let N,F;H<1?H=1:H>x&&(H=x),x<=10?(N=1,F=x):H<10?(N=1,F=x<10?x:10):H+4>=x?(N=x-9,F=x):(N=H-5,F=H+4);const B=(H-1)*U,$=Math.min(B+U-1,A-1),ie=Array.from(Array(F+1-N).keys()).map(re=>N+re);return{totalItems:A,currentPage:H,pageSize:U,totalPages:x,startPage:N,endPage:F,startIndex:B,endIndex:$,pages:ie}}}return(p=W).\u0275fac=function(A){return new(A||p)},p.\u0275prov=P.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),W})()},4532:(fe,Y,D)=>{D.d(Y,{F:()=>n});var P=D(5879);let n=(()=>{var p;class W{constructor(){this._fileValid=["PNG","JPG","JPEG"]}onValidImg(A,H){let U="",x=!0;return this._fileValid.includes(A.toUpperCase())||(U=`Solo se aceptan archivos de tipo ${this._fileValid.join(", ")}`,x=!1),H>10&&(U="Solo se aceptar archivos con un tama\xf1o m\xe1ximo de 10 mb",x=!1),!!x}}return(p=W).\u0275fac=function(A){return new(A||p)},p.\u0275prov=P.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),W})()},972:(fe,Y,D)=>{D.d(Y,{u:()=>W});var P=D(5879),n=D(6903);const p=["chart"];let W=(()=>{var j;class A{constructor(){this.chartOptions={series:[{name:"Inflation",data:[0,0,0,0,0,0,0,0,0,0,0,0]}],chart:{type:"bar",height:350},plotOptions:{bar:{dataLabels:{position:"top"}}},dataLabels:{enabled:!0,formatter:function(U){return U+"%"},offsetY:-20,style:{fontSize:"12px",colors:["#304758"]}},xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],position:"bottom",labels:{offsetY:5},axisBorder:{show:!1},axisTicks:{show:!1},crosshairs:{fill:{type:"gradient",gradient:{colorFrom:"#f06548",colorTo:"#f06548",stops:[0,100],opacityFrom:.4,opacityTo:.5}}},tooltip:{enabled:!0,offsetY:-35}},fill:{colors:["#f06548"],type:"gradient",gradient:{shade:"light",type:"horizontal",shadeIntensity:.25,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:.9,stops:[20,30,40,80]}},yaxis:{axisBorder:{show:!0},axisTicks:{show:!0},labels:{show:!0,formatter:function(U){return U+"%"}}},title:{offsetX:-10,align:"left",style:{color:"#000"}}}}}return(j=A).\u0275fac=function(U){return new(U||j)},j.\u0275cmp=P.Xpm({type:j,selectors:[["app-chart-bar-widget"]],viewQuery:function(U,x){if(1&U&&P.Gf(p,5),2&U){let N;P.iGM(N=P.CRH())&&(x.chart=N.first)}},decls:2,vars:8,consts:[["id","chart"],[3,"series","chart","dataLabels","plotOptions","yaxis","xaxis","fill","title"]],template:function(U,x){1&U&&(P.TgZ(0,"div",0),P._UZ(1,"apx-chart",1),P.qZA()),2&U&&(P.xp6(1),P.Q6J("series",x.chartOptions.series)("chart",x.chartOptions.chart)("dataLabels",x.chartOptions.dataLabels)("plotOptions",x.chartOptions.plotOptions)("yaxis",x.chartOptions.yaxis)("xaxis",x.chartOptions.xaxis)("fill",x.chartOptions.fill)("title",x.chartOptions.title))},dependencies:[n.x],styles:["#chart[_ngcontent-%COMP%]{min-height:380px}"]}),A})()},4004:(fe,Y,D)=>{D.d(Y,{Z:()=>F});const n={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let p;const W=new Uint8Array(16);function j(){if(!p&&(p=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!p))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return p(W)}const A=[];for(let B=0;B<256;++B)A.push((B+256).toString(16).slice(1));const F=function N(B,$,ie){if(n.randomUUID&&!$&&!B)return n.randomUUID();const re=(B=B||{}).random||(B.rng||j)();if(re[6]=15&re[6]|64,re[8]=63&re[8]|128,$){ie=ie||0;for(let de=0;de<16;++de)$[ie+de]=re[de];return $}return function H(B,$=0){return(A[B[$+0]]+A[B[$+1]]+A[B[$+2]]+A[B[$+3]]+"-"+A[B[$+4]]+A[B[$+5]]+"-"+A[B[$+6]]+A[B[$+7]]+"-"+A[B[$+8]]+A[B[$+9]]+"-"+A[B[$+10]]+A[B[$+11]]+A[B[$+12]]+A[B[$+13]]+A[B[$+14]]+A[B[$+15]]).toLowerCase()}(re)}},1949:(fe,Y,D)=>{D.d(Y,{Z:()=>He});var P=D(7882),n=D(2711),p=D(4354);function j(I,c){let m=[];for(let y=0;y<c;y+=1)m[y]=[];for(let y of I)m[y.row].push(y);return m}function A(I,c){let m=[];for(let y=0;y<c;y+=1)m[y]=[];for(let y of I)m[y.firstCol].push(y);return m}function H(I,c){let m=[];if(I){for(let y=0;y<c;y+=1)m[y]={affectedInstances:I.affectedInstances,isEvent:I.isEvent,segs:[]};for(let y of I.segs)m[y.row].segs.push(y)}else for(let y=0;y<c;y+=1)m[y]=null;return m}(0,n.cw)(':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}');const U=(0,n.x)({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function x(I){let{display:c}=I.eventRange.ui;return"list-item"===c||"auto"===c&&!I.eventRange.def.allDay&&I.firstCol===I.lastCol&&I.isStart&&I.isEnd}class N extends n.B{render(){let{props:c}=this;return(0,p.az)(n.cj,Object.assign({},c,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:U,defaultDisplayEventEnd:c.defaultDisplayEventEnd,disableResizing:!c.seg.eventRange.def.allDay}))}}class F extends n.B{render(){let{props:c,context:m}=this,{options:y}=m,{seg:C}=c,h=(0,n.bQ)(C,y.eventTimeFormat||U,m,!0,c.defaultDisplayEventEnd);return(0,p.az)(n.cn,Object.assign({},c,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:(0,n.bU)(c.seg,m),defaultGenerator:B,timeText:h,isResizing:!1,isDateSelecting:!1}))}}function B(I){return(0,p.az)(p.HY,null,(0,p.az)("div",{className:"fc-daygrid-event-dot",style:{borderColor:I.borderColor||I.backgroundColor}}),I.timeText&&(0,p.az)("div",{className:"fc-event-time"},I.timeText),(0,p.az)("div",{className:"fc-event-title"},I.event.title||(0,p.az)(p.HY,null,"\xa0")))}class $ extends n.B{constructor(){super(...arguments),this.compileSegs=(0,n.z)(ie)}render(){let{props:c}=this,{allSegs:m,invisibleSegs:y}=this.compileSegs(c.singlePlacements);return(0,p.az)(n.cr,{elClasses:["fc-daygrid-more-link"],dateProfile:c.dateProfile,todayRange:c.todayRange,allDayDate:c.allDayDate,moreCnt:c.moreCnt,allSegs:m,hiddenSegs:y,alignmentElRef:c.alignmentElRef,alignGridTop:c.alignGridTop,extraDateSpan:c.extraDateSpan,popoverContent:()=>{let C=(c.eventDrag?c.eventDrag.affectedInstances:null)||(c.eventResize?c.eventResize.affectedInstances:null)||{};return(0,p.az)(p.HY,null,m.map(v=>{let h=v.eventRange.instance.instanceId;return(0,p.az)("div",{className:"fc-daygrid-event-harness",key:h,style:{visibility:C[h]?"hidden":""}},x(v)?(0,p.az)(F,Object.assign({seg:v,isDragging:!1,isSelected:h===c.eventSelection,defaultDisplayEventEnd:!1},(0,n.bS)(v,c.todayRange))):(0,p.az)(N,Object.assign({seg:v,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:h===c.eventSelection,defaultDisplayEventEnd:!1},(0,n.bS)(v,c.todayRange))))}))}})}}function ie(I){let c=[],m=[];for(let y of I)c.push(y.seg),y.isVisible||m.push(y.seg);return{allSegs:c,invisibleSegs:m}}const re=(0,n.x)({week:"narrow"});class de extends n.be{constructor(){super(...arguments),this.rootElRef=(0,p.Vf)(),this.state={dayNumberId:(0,n.a5)()},this.handleRootEl=c=>{(0,n.Y)(this.rootElRef,c),(0,n.Y)(this.props.elRef,c)}}render(){let{context:c,props:m,state:y,rootElRef:C}=this,{options:v,dateEnv:h}=c,{date:a,dateProfile:o}=m;const l=m.showDayNumber&&function pe(I,c,m){const{start:y,end:C}=c,v=(0,n.bg)(C,-1),h=m.getYear(y),a=m.getMonth(y),o=m.getYear(v),l=m.getMonth(v);return!(h===o&&a===l)&&(I.valueOf()===y.valueOf()||1===m.getDay(I)&&I.valueOf()<C.valueOf())}(a,o.currentRange,h);return(0,p.az)(n.cl,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...m.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},m.extraDataAttrs),m.showDayNumber?{"aria-labelledby":y.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:Re,date:a,dateProfile:o,todayRange:m.todayRange,showDayNumber:m.showDayNumber,isMonthStart:l,extraRenderProps:m.extraRenderProps},(u,f)=>(0,p.az)("div",{ref:m.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:m.minHeight}},m.showWeekNumber&&(0,p.az)(n.cq,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:(0,n.b0)(c,a,"week"),date:a,defaultFormat:re}),!f.isDisabled&&(m.showDayNumber||(0,n.cm)(v)||m.forceDayTop)?(0,p.az)("div",{className:"fc-daygrid-day-top"},(0,p.az)(u,{elTag:"a",elClasses:["fc-daygrid-day-number",l&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},(0,n.b0)(c,a)),{id:y.dayNumberId})})):m.showDayNumber?(0,p.az)("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},(0,p.az)("a",{className:"fc-daygrid-day-number"},"\xa0")):void 0,(0,p.az)("div",{className:"fc-daygrid-day-events",ref:m.fgContentElRef},m.fgContent,(0,p.az)("div",{className:"fc-daygrid-day-bottom",style:{marginTop:m.moreMarginTop}},(0,p.az)($,{allDayDate:a,singlePlacements:m.singlePlacements,moreCnt:m.moreCnt,alignmentElRef:C,alignGridTop:!m.showDayNumber,extraDateSpan:m.extraDateSpan,dateProfile:m.dateProfile,eventSelection:m.eventSelection,eventDrag:m.eventDrag,eventResize:m.eventResize,todayRange:m.todayRange}))),(0,p.az)("div",{className:"fc-daygrid-day-bg"},m.bgContent)))}}function Re(I){return I.dayNumberText||(0,p.az)(p.HY,null,"\xa0")}function oe(I,c,m,y){if(I.firstCol===c&&I.lastCol===m-1)return I;let C=I.eventRange,v=C.range,h=(0,n.o)(v,{start:y[c].date,end:(0,n.t)(y[m-1].date,1)});return Object.assign(Object.assign({},I),{firstCol:c,lastCol:m-1,eventRange:{def:C.def,ui:Object.assign(Object.assign({},C.ui),{durationEditable:!1}),instance:C.instance,range:h},isStart:I.isStart&&h.start.valueOf()===v.start.valueOf(),isEnd:I.isEnd&&h.end.valueOf()===v.end.valueOf()})}class Oe extends n.bA{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(c){const m=super.addSegs(c),{entriesByLevel:y}=this,C=v=>!this.forceHidden[(0,n.bB)(v)];for(let v=0;v<y.length;v+=1)y[v]=y[v].filter(C);return m}handleInvalidInsertion(c,m,y){const{entriesByLevel:C,forceHidden:v}=this,{touchingEntry:h,touchingLevel:a,touchingLateral:o}=c;if(this.hiddenConsumes&&h){const l=(0,n.bB)(h);if(!v[l])if(this.allowReslicing){const u=Object.assign(Object.assign({},h),{span:(0,n.bF)(h.span,m.span)});v[(0,n.bB)(u)]=!0,C[a][o]=u,this.splitEntry(h,m,y)}else v[l]=!0,y.push(h)}return super.handleInvalidInsertion(c,m,y)}}class Ie extends n.be{constructor(){super(...arguments),this.cellElRefs=new n.cf,this.frameElRefs=new n.cf,this.fgElRefs=new n.cf,this.segHarnessRefs=new n.cf,this.rootElRef=(0,p.Vf)(),this.state={framePositions:null,maxContentHeight:null,eventInstanceHeights:{}},this.handleResize=c=>{c&&this.updateSizing(!0)}}render(){let{props:c,state:m,context:y}=this,{options:C}=y,v=c.cells.length,h=A(c.businessHourSegs,v),a=A(c.bgEventSegs,v),o=A(this.getHighlightSegs(),v),l=A(this.getMirrorSegs(),v),{singleColPlacements:u,multiColPlacements:f,moreCnts:b,moreMarginTops:_}=function ue(I,c,m,y,C,v,h){let a=new Oe;a.allowReslicing=!0,a.strictOrder=y,!0===c||!0===m?(a.maxCoord=v,a.hiddenConsumes=!0):"number"==typeof c?a.maxStackCnt=c:"number"==typeof m&&(a.maxStackCnt=m,a.hiddenConsumes=!0);let o=[],l=[];for(let M=0;M<I.length;M+=1){let k=I[M],{instanceId:z}=k.eventRange.instance,V=C[z];null!=V?o.push({index:M,thickness:V,span:{start:k.firstCol,end:k.lastCol+1}}):l.push(k)}let u=a.addSegs(o),f=a.toRects(),{singleColPlacements:b,multiColPlacements:_,leftoverMargins:E}=function Ue(I,c,m){let y=function me(I,c){let m=[];for(let y=0;y<c;y+=1)m.push([]);for(let y of I)for(let C=y.span.start;C<y.span.end;C+=1)m[C].push(y);return m}(I,m.length),C=[],v=[],h=[];for(let a=0;a<m.length;a+=1){let o=y[a],l=[],u=0,f=0;for(let _ of o)l.push({seg:oe(c[_.index],a,a+1,m),isVisible:!0,isAbsolute:!1,absoluteTop:_.levelCoord,marginTop:_.levelCoord-u}),u=_.levelCoord+_.thickness;let b=[];u=0,f=0;for(let _ of o){let E=c[_.index],R=_.span.start===a;f+=_.levelCoord-u,u=_.levelCoord+_.thickness,_.span.end-_.span.start>1?(f+=_.thickness,R&&b.push({seg:oe(E,_.span.start,_.span.end,m),isVisible:!0,isAbsolute:!0,absoluteTop:_.levelCoord,marginTop:0})):R&&(b.push({seg:oe(E,_.span.start,_.span.end,m),isVisible:!0,isAbsolute:!1,absoluteTop:_.levelCoord,marginTop:f}),f=0)}C.push(l),v.push(b),h.push(f)}return{singleColPlacements:C,multiColPlacements:v,leftoverMargins:h}}(f,I,h),w=[],R=[];for(let M of l){_[M.firstCol].push({seg:M,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let k=M.firstCol;k<=M.lastCol;k+=1)b[k].push({seg:oe(M,k,k+1,h),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let M=0;M<h.length;M+=1)w.push(0);for(let M of u){let k=I[M.index],z=M.span;_[z.start].push({seg:oe(k,z.start,z.end,h),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let V=z.start;V<z.end;V+=1)w[V]+=1,b[V].push({seg:oe(k,V,V+1,h),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let M=0;M<h.length;M+=1)R.push(E[M]);return{singleColPlacements:b,multiColPlacements:_,moreCnts:w,moreMarginTops:R}}((0,n.bR)(c.fgEventSegs,C.eventOrder),c.dayMaxEvents,c.dayMaxEventRows,C.eventOrderStrict,m.eventInstanceHeights,m.maxContentHeight,c.cells),E=c.eventDrag&&c.eventDrag.affectedInstances||c.eventResize&&c.eventResize.affectedInstances||{};return(0,p.az)("tr",{ref:this.rootElRef,role:"row"},c.renderIntro&&c.renderIntro(),c.cells.map((w,R)=>{let M=this.renderFgSegs(R,c.forPrint?u[R]:f[R],c.todayRange,E),k=this.renderFgSegs(R,function Ne(I,c){if(!I.length)return[];let m=function ye(I){let c={};for(let m of I)for(let y of m)c[y.seg.eventRange.instance.instanceId]=y.absoluteTop;return c}(c);return I.map(y=>({seg:y,isVisible:!0,isAbsolute:!0,absoluteTop:m[y.eventRange.instance.instanceId],marginTop:0}))}(l[R],f),c.todayRange,{},!!c.eventDrag,!!c.eventResize,!1);return(0,p.az)(de,{key:w.key,elRef:this.cellElRefs.createRef(w.key),innerElRef:this.frameElRefs.createRef(w.key),dateProfile:c.dateProfile,date:w.date,showDayNumber:c.showDayNumbers,showWeekNumber:c.showWeekNumbers&&0===R,forceDayTop:c.showWeekNumbers,todayRange:c.todayRange,eventSelection:c.eventSelection,eventDrag:c.eventDrag,eventResize:c.eventResize,extraRenderProps:w.extraRenderProps,extraDataAttrs:w.extraDataAttrs,extraClassNames:w.extraClassNames,extraDateSpan:w.extraDateSpan,moreCnt:b[R],moreMarginTop:_[R],singlePlacements:u[R],fgContentElRef:this.fgElRefs.createRef(w.key),fgContent:(0,p.az)(p.HY,null,(0,p.az)(p.HY,null,M),(0,p.az)(p.HY,null,k)),bgContent:(0,p.az)(p.HY,null,this.renderFillSegs(o[R],"highlight"),this.renderFillSegs(h[R],"non-business"),this.renderFillSegs(a[R],"bg-event")),minHeight:c.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(c,m){this.updateSizing(!(0,n.E)(c,this.props))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:c}=this;return c.eventDrag&&c.eventDrag.segs.length?c.eventDrag.segs:c.eventResize&&c.eventResize.segs.length?c.eventResize.segs:c.dateSelectionSegs}getMirrorSegs(){let{props:c}=this;return c.eventResize&&c.eventResize.segs.length?c.eventResize.segs:[]}renderFgSegs(c,m,y,C,v,h,a){let{context:o}=this,{eventSelection:l}=this.props,{framePositions:u}=this.state,f=1===this.props.cells.length,b=v||h||a,_=[];if(u)for(let E of m){let{seg:w}=E,{instanceId:R}=w.eventRange.instance,M=R+":"+c,k=E.isVisible&&!C[R],z=E.isAbsolute,V="",ee="";z&&(o.isRtl?(ee=0,V=u.lefts[w.lastCol]-u.lefts[w.firstCol]):(V=0,ee=u.rights[w.firstCol]-u.rights[w.lastCol])),_.push((0,p.az)("div",{className:"fc-daygrid-event-harness"+(z?" fc-daygrid-event-harness-abs":""),key:M,ref:b?null:this.segHarnessRefs.createRef(M),style:{visibility:k?"":"hidden",marginTop:z?"":E.marginTop,top:z?E.absoluteTop:"",left:V,right:ee}},x(w)?(0,p.az)(F,Object.assign({seg:w,isDragging:v,isSelected:R===l,defaultDisplayEventEnd:f},(0,n.bS)(w,y))):(0,p.az)(N,Object.assign({seg:w,isDragging:v,isResizing:h,isDateSelecting:a,isSelected:R===l,defaultDisplayEventEnd:f},(0,n.bS)(w,y)))))}return _}renderFillSegs(c,m){let{isRtl:y}=this.context,{todayRange:C}=this.props,{framePositions:v}=this.state,h=[];if(v)for(let a of c){let o=y?{right:0,left:v.lefts[a.lastCol]-v.lefts[a.firstCol]}:{left:0,right:v.rights[a.firstCol]-v.rights[a.lastCol]};h.push((0,p.az)("div",{key:(0,n.bT)(a.eventRange),className:"fc-daygrid-bg-harness",style:o},"bg-event"===m?(0,p.az)(n.cp,Object.assign({seg:a},(0,n.bS)(a,C))):(0,n.co)(m)))}return(0,p.az)(p.HY,{},...h)}updateSizing(c){let{props:m,state:y,frameElRefs:C}=this;if(!m.forPrint&&null!==m.clientWidth){if(c){let o=m.cells.map(l=>C.currentMap[l.key]);if(o.length){let l=this.rootElRef.current,u=new n.ba(l,o,!0,!1);(!y.framePositions||!y.framePositions.similarTo(u))&&this.setState({framePositions:new n.ba(l,o,!0,!1)})}}const v=this.state.eventInstanceHeights,h=this.queryEventInstanceHeights(),a=!0===m.dayMaxEvents||!0===m.dayMaxEventRows;this.safeSetState({eventInstanceHeights:Object.assign(Object.assign({},v),h),maxContentHeight:a?this.computeMaxContentHeight():null})}}queryEventInstanceHeights(){let c=this.segHarnessRefs.currentMap,m={};for(let y in c){let C=Math.round(c[y].getBoundingClientRect().height),v=y.split(":")[0];m[v]=Math.max(m[v]||0,C)}return m}computeMaxContentHeight(){let c=this.props.cells[0].key,y=this.fgElRefs.currentMap[c];return this.cellElRefs.currentMap[c].getBoundingClientRect().bottom-y.getBoundingClientRect().top}getCellEls(){let c=this.cellElRefs.currentMap;return this.props.cells.map(m=>c[m.key])}}Ie.addStateEquality({eventInstanceHeights:n.E});class je extends n.be{constructor(){super(...arguments),this.splitBusinessHourSegs=(0,n.z)(j),this.splitBgEventSegs=(0,n.z)(j),this.splitFgEventSegs=(0,n.z)(j),this.splitDateSelectionSegs=(0,n.z)(j),this.splitEventDrag=(0,n.z)(H),this.splitEventResize=(0,n.z)(H),this.rowRefs=new n.cf}render(){let{props:c,context:m}=this,y=c.cells.length,C=this.splitBusinessHourSegs(c.businessHourSegs,y),v=this.splitBgEventSegs(c.bgEventSegs,y),h=this.splitFgEventSegs(c.fgEventSegs,y),a=this.splitDateSelectionSegs(c.dateSelectionSegs,y),o=this.splitEventDrag(c.eventDrag,y),l=this.splitEventResize(c.eventResize,y),u=y>=7&&c.clientWidth?c.clientWidth/m.options.aspectRatio/6:null;return(0,p.az)(n.ch,{unit:"day"},(f,b)=>(0,p.az)(p.HY,null,c.cells.map((_,E)=>(0,p.az)(Ie,{ref:this.rowRefs.createRef(E),key:_.length?_[0].date.toISOString():E,showDayNumbers:y>1,showWeekNumbers:c.showWeekNumbers,todayRange:b,dateProfile:c.dateProfile,cells:_,renderIntro:c.renderRowIntro,businessHourSegs:C[E],eventSelection:c.eventSelection,bgEventSegs:v[E].filter(Ee),fgEventSegs:h[E],dateSelectionSegs:a[E],eventDrag:o[E],eventResize:l[E],dayMaxEvents:c.dayMaxEvents,dayMaxEventRows:c.dayMaxEventRows,clientWidth:c.clientWidth,clientHeight:c.clientHeight,cellMinHeight:u,forPrint:c.forPrint}))))}componentDidMount(){const c=this.rowRefs.currentMap[0].getCellEls()[0];this.rootEl=c?c.closest(".fc-daygrid-body"):null,this.rootEl&&this.context.registerInteractiveComponent(this,{el:this.rootEl,isHitComboAllowed:this.props.isHitComboAllowed})}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new n.ba(this.rootEl,this.rowRefs.collect().map(c=>c.getCellEls()[0]),!1,!0),this.colPositions=new n.ba(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(c,m){let{colPositions:y,rowPositions:C}=this,v=y.leftToIndex(c),h=C.topToIndex(m);if(null!=h&&null!=v){let a=this.props.cells[h][v];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(h,v),allDay:!0},a.extraDateSpan),dayEl:this.getCellEl(h,v),rect:{left:y.lefts[v],right:y.rights[v],top:C.tops[h],bottom:C.bottoms[h]},layer:0}}return null}getCellEl(c,m){return this.rowRefs.currentMap[c].getCellEls()[m]}getCellRange(c,m){let y=this.props.cells[c][m].date;return{start:y,end:(0,n.t)(y,1)}}}function Ee(I){return I.eventRange.def.allDay}class Le extends n.be{constructor(){super(...arguments),this.elRef=(0,p.Vf)(),this.needsScrollReset=!1}render(){let{props:c}=this,{dayMaxEventRows:m,dayMaxEvents:y,expandRows:C}=c,v=!0===y||!0===m;return v&&!C&&(v=!1,m=null,y=null),(0,p.az)("div",{ref:this.elRef,className:["fc-daygrid-body",v?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",C?"":"fc-daygrid-body-natural"].join(" "),style:{width:c.clientWidth,minWidth:c.tableMinWidth}},(0,p.az)("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:c.clientWidth,minWidth:c.tableMinWidth,height:C?c.clientHeight:""}},c.colGroupNode,(0,p.az)("tbody",{role:"presentation"},(0,p.az)(je,{dateProfile:c.dateProfile,cells:c.cells,renderRowIntro:c.renderRowIntro,showWeekNumbers:c.showWeekNumbers,clientWidth:c.clientWidth,clientHeight:c.clientHeight,businessHourSegs:c.businessHourSegs,bgEventSegs:c.bgEventSegs,fgEventSegs:c.fgEventSegs,dateSelectionSegs:c.dateSelectionSegs,eventSelection:c.eventSelection,eventDrag:c.eventDrag,eventResize:c.eventResize,dayMaxEvents:y,dayMaxEventRows:m,forPrint:c.forPrint,isHitComboAllowed:c.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(c){c.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const c=function $e(I,c){let m;return c.currentRangeUnit.match(/year|month/)&&(m=I.querySelector(`[data-date="${(0,n.bx)(c.currentDate)}-01"]`)),m||(m=I.querySelector(`[data-date="${(0,n.bv)(c.currentDate)}"]`)),m}(this.elRef.current,this.props.dateProfile);if(c){const m=c.closest(".fc-daygrid-body"),y=m.closest(".fc-scroller"),C=c.getBoundingClientRect().top-m.getBoundingClientRect().top;y.scrollTop=C?C+1:0}this.needsScrollReset=!1}}}class ve extends n.bW{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(c,m){return m.sliceRange(c)}}class Ve extends n.be{constructor(){super(...arguments),this.slicer=new ve,this.tableRef=(0,p.Vf)()}render(){let{props:c,context:m}=this;return(0,p.az)(Le,Object.assign({ref:this.tableRef},this.slicer.sliceProps(c,c.dateProfile,c.nextDayThreshold,m,c.dayTableModel),{dateProfile:c.dateProfile,cells:c.dayTableModel.cells,colGroupNode:c.colGroupNode,tableMinWidth:c.tableMinWidth,renderRowIntro:c.renderRowIntro,dayMaxEvents:c.dayMaxEvents,dayMaxEventRows:c.dayMaxEventRows,showWeekNumbers:c.showWeekNumbers,expandRows:c.expandRows,headerAlignElRef:c.headerAlignElRef,clientWidth:c.clientWidth,clientHeight:c.clientHeight,forPrint:c.forPrint}))}}class Ge extends n.be{constructor(){super(...arguments),this.headerElRef=(0,p.Vf)()}renderSimpleLayout(c,m){let{props:y,context:C}=this,v=[],h=(0,n.cc)(C.options);return c&&v.push({type:"header",key:"header",isSticky:h,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:c}}),v.push({type:"body",key:"body",liquid:!0,chunk:{content:m}}),(0,p.az)(n.ct,{elClasses:["fc-daygrid"],viewSpec:C.viewSpec},(0,p.az)(n.b$,{liquid:!y.isHeightAuto&&!y.forPrint,collapsibleWidth:y.forPrint,cols:[],sections:v}))}renderHScrollLayout(c,m,y,C){let v=this.context.pluginHooks.scrollGridImpl;if(!v)throw new Error("No ScrollGrid implementation");let{props:h,context:a}=this,o=!h.forPrint&&(0,n.cc)(a.options),l=!h.forPrint&&(0,n.cb)(a.options),u=[];return c&&u.push({type:"header",key:"header",isSticky:o,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:c}]}),u.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:m}]}),l&&u.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:n.ca}]}),(0,p.az)(n.ct,{elClasses:["fc-daygrid"],viewSpec:a.viewSpec},(0,p.az)(v,{liquid:!h.isHeightAuto&&!h.forPrint,forPrint:h.forPrint,collapsibleWidth:h.forPrint,colGroups:[{cols:[{span:y,minWidth:C}]}],sections:u}))}}function Pe(I,c){let m=new n.bO(I.renderRange,c);return new n.bV(m,/year|month|week/.test(I.currentRangeUnit))}var He=(0,P.rx)({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:class Ye extends Ge{constructor(){super(...arguments),this.buildDayTableModel=(0,n.z)(Pe),this.headerRef=(0,p.Vf)(),this.tableRef=(0,p.Vf)()}render(){let{options:c,dateProfileGenerator:m}=this.context,{props:y}=this,C=this.buildDayTableModel(y.dateProfile,m),v=c.dayHeaders&&(0,p.az)(n.bK,{ref:this.headerRef,dateProfile:y.dateProfile,dates:C.headerDates,datesRepDistinctDays:1===C.rowCnt}),h=a=>(0,p.az)(Ve,{ref:this.tableRef,dateProfile:y.dateProfile,dayTableModel:C,businessHours:y.businessHours,dateSelection:y.dateSelection,eventStore:y.eventStore,eventUiBases:y.eventUiBases,eventSelection:y.eventSelection,eventDrag:y.eventDrag,eventResize:y.eventResize,nextDayThreshold:c.nextDayThreshold,colGroupNode:a.tableColGroupNode,tableMinWidth:a.tableMinWidth,dayMaxEvents:c.dayMaxEvents,dayMaxEventRows:c.dayMaxEventRows,showWeekNumbers:c.weekNumbers,expandRows:!y.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:a.clientWidth,clientHeight:a.clientHeight,forPrint:y.forPrint});return c.dayMinWidth?this.renderHScrollLayout(v,h,C.colCnt,c.dayMinWidth):this.renderSimpleLayout(v,h)}},dateProfileGeneratorClass:class qe extends n.U{buildRenderRange(c,m,y){let C=super.buildRenderRange(c,m,y),{props:v}=this;return function We(I){let v,{dateEnv:c,currentRange:m}=I,{start:y,end:C}=m;if(I.snapToWeek&&(y=c.startOfWeek(y),v=c.startOfWeek(C),v.valueOf()!==C.valueOf()&&(C=(0,n.bh)(v,1))),I.fixedWeekCount){let h=c.startOfWeek(c.startOfMonth((0,n.t)(m.end,-1))),a=Math.ceil((0,n.bi)(h,C));C=(0,n.bh)(C,6-a)}return{start:y,end:C}}({currentRange:C,snapToWeek:/^(year|month)$/.test(m),fixedWeekCount:v.fixedWeekCount,dateEnv:v.dateEnv})}}},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}})},6111:(fe,Y,D)=>{D.d(Y,{ZP:()=>v});var P=D(7882),n=D(2711);n.bI.touchMouseIgnoreWait=500;let p=0,W=0,j=!1;class A{constructor(a){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=o=>{if(!this.shouldIgnoreMouse()&&function H(h){return 0===h.button&&!h.ctrlKey}(o)&&this.tryStart(o)){let l=this.createEventFromMouse(o,!0);this.emitter.trigger("pointerdown",l),this.initScrollWatch(l),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=o=>{let l=this.createEventFromMouse(o);this.recordCoords(l),this.emitter.trigger("pointermove",l)},this.handleMouseUp=o=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(o)),this.cleanup()},this.handleTouchStart=o=>{if(this.tryStart(o)){this.isTouchDragging=!0;let l=this.createEventFromTouch(o,!0);this.emitter.trigger("pointerdown",l),this.initScrollWatch(l);let u=o.target;this.shouldIgnoreMove||u.addEventListener("touchmove",this.handleTouchMove),u.addEventListener("touchend",this.handleTouchEnd),u.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=o=>{let l=this.createEventFromTouch(o);this.recordCoords(l),this.emitter.trigger("pointermove",l)},this.handleTouchEnd=o=>{if(this.isDragging){let l=o.target;l.removeEventListener("touchmove",this.handleTouchMove),l.removeEventListener("touchend",this.handleTouchEnd),l.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(o)),this.cleanup(),this.isTouchDragging=!1,function U(){p+=1,setTimeout(()=>{p-=1},n.bI.touchMouseIgnoreWait)}()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=o=>{if(!this.shouldIgnoreMove){let l=window.pageXOffset-this.prevScrollX+this.prevPageX,u=window.pageYOffset-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:o,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:l,pageY:u,deltaX:l-this.origPageX,deltaY:u-this.origPageY})}},this.containerEl=a,this.emitter=new n.F,a.addEventListener("mousedown",this.handleMouseDown),a.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),function x(){W+=1,1===W&&window.addEventListener("touchmove",F,{passive:!1})}()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),function N(){W-=1,W||window.removeEventListener("touchmove",F,{passive:!1})}()}tryStart(a){let o=this.querySubjectEl(a);return!(!o||this.handleSelector&&!(0,n.$)(a.target,this.handleSelector)||(this.subjectEl=o,this.isDragging=!0,this.wasTouchScroll=!1,0))}cleanup(){j=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(a){return this.selector?(0,n.$)(a.target,this.selector):this.containerEl}shouldIgnoreMouse(){return p||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(j=!0)}initScrollWatch(a){this.shouldWatchScroll&&(this.recordCoords(a),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(a){this.shouldWatchScroll&&(this.prevPageX=a.pageX,this.prevPageY=a.pageY,this.prevScrollX=window.pageXOffset,this.prevScrollY=window.pageYOffset)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(a,o){let l=0,u=0;return o?(this.origPageX=a.pageX,this.origPageY=a.pageY):(l=a.pageX-this.origPageX,u=a.pageY-this.origPageY),{origEvent:a,isTouch:!1,subjectEl:this.subjectEl,pageX:a.pageX,pageY:a.pageY,deltaX:l,deltaY:u}}createEventFromTouch(a,o){let u,f,l=a.touches,b=0,_=0;return l&&l.length?(u=l[0].pageX,f=l[0].pageY):(u=a.pageX,f=a.pageY),o?(this.origPageX=u,this.origPageY=f):(b=u-this.origPageX,_=f-this.origPageY),{origEvent:a,isTouch:!0,subjectEl:this.subjectEl,pageX:u,pageY:f,deltaX:b,deltaY:_}}}function F(h){j&&h.preventDefault()}class B{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(a,o,l){this.sourceEl=a,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=o-window.pageXOffset,this.origScreenY=l-window.pageYOffset,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(a,o){this.deltaX=a-window.pageXOffset-this.origScreenX,this.deltaY=o-window.pageYOffset-this.origScreenY,this.updateElPosition()}setIsVisible(a){a?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=a,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=a)}stop(a,o){let l=()=>{this.cleanup(),o()};a&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(l,this.revertDuration):setTimeout(l,0)}doRevertAnimation(a,o){let l=this.mirrorEl,u=this.sourceEl.getBoundingClientRect();l.style.transition="top "+o+"ms,left "+o+"ms",(0,n.aP)(l,{left:u.left,top:u.top}),(0,n.b2)(l,()=>{l.style.transition="",a()})}cleanup(){this.mirrorEl&&((0,n.aO)(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&(0,n.aP)(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let a=this.sourceElRect,o=this.mirrorEl;return o||(o=this.mirrorEl=this.sourceEl.cloneNode(!0),o.style.userSelect="none",o.classList.add("fc-event-dragging"),(0,n.aP)(o,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:a.right-a.left,height:a.bottom-a.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(o)),o}}class $ extends n.bb{constructor(a,o){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=a,this.doesListening=o,this.scrollTop=this.origScrollTop=a.getScrollTop(),this.scrollLeft=this.origScrollLeft=a.getScrollLeft(),this.scrollWidth=a.getScrollWidth(),this.scrollHeight=a.getScrollHeight(),this.clientWidth=a.getClientWidth(),this.clientHeight=a.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(a){this.scrollController.setScrollTop(a),this.doesListening||(this.scrollTop=Math.max(Math.min(a,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(a){this.scrollController.setScrollLeft(a),this.doesListening||(this.scrollLeft=Math.max(Math.min(a,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class ie extends ${constructor(a,o){super(new n.bc(a),o)}getEventTarget(){return this.scrollController.el}computeClientRect(){return(0,n.b3)(this.scrollController.el)}}class re extends ${constructor(a){super(new n.bd,a)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const de="function"==typeof performance?performance.now:Date.now;class Re{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let a=this.computeBestEdge(this.pointerScreenX+window.pageXOffset,this.pointerScreenY+window.pageYOffset);if(a){let o=de();this.handleSide(a,(o-this.msSinceRequest)/1e3),this.requestAnimation(o)}else this.isAnimating=!1}}}start(a,o,l){this.isEnabled&&(this.scrollCaches=this.buildCaches(l),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(a,o))}handleMove(a,o){if(this.isEnabled){let l=a-window.pageXOffset,u=o-window.pageYOffset,f=null===this.pointerScreenY?0:u-this.pointerScreenY,b=null===this.pointerScreenX?0:l-this.pointerScreenX;f<0?this.everMovedUp=!0:f>0&&(this.everMovedDown=!0),b<0?this.everMovedLeft=!0:b>0&&(this.everMovedRight=!0),this.pointerScreenX=l,this.pointerScreenY=u,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(de()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let a of this.scrollCaches)a.destroy();this.scrollCaches=null}}requestAnimation(a){this.msSinceRequest=a,requestAnimationFrame(this.animate)}handleSide(a,o){let{scrollCache:l}=a,{edgeThreshold:u}=this,f=u-a.distance,b=f*f/(u*u)*this.maxVelocity*o,_=1;switch(a.name){case"left":_=-1;case"right":l.setScrollLeft(l.getScrollLeft()+b*_);break;case"top":_=-1;case"bottom":l.setScrollTop(l.getScrollTop()+b*_)}}computeBestEdge(a,o){let{edgeThreshold:l}=this,u=null,f=this.scrollCaches||[];for(let b of f){let _=b.clientRect,E=a-_.left,w=_.right-a,R=o-_.top,M=_.bottom-o;E>=0&&w>=0&&R>=0&&M>=0&&(R<=l&&this.everMovedUp&&b.canScrollUp()&&(!u||u.distance>R)&&(u={scrollCache:b,name:"top",distance:R}),M<=l&&this.everMovedDown&&b.canScrollDown()&&(!u||u.distance>M)&&(u={scrollCache:b,name:"bottom",distance:M}),E<=l&&this.everMovedLeft&&b.canScrollLeft()&&(!u||u.distance>E)&&(u={scrollCache:b,name:"left",distance:E}),w<=l&&this.everMovedRight&&b.canScrollRight()&&(!u||u.distance>w)&&(u={scrollCache:b,name:"right",distance:w}))}return u}buildCaches(a){return this.queryScrollEls(a).map(o=>o===window?new re(!1):new ie(o,!1))}queryScrollEls(a){let o=[];for(let l of this.scrollQuery)"object"==typeof l?o.push(l):o.push(...Array.prototype.slice.call(a.getRootNode().querySelectorAll(l)));return o}}class pe extends n.bH{constructor(a,o){super(a),this.containerEl=a,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=u=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,(0,n.ar)(document.body),(0,n.at)(document.body),u.isTouch||u.origEvent.preventDefault(),this.emitter.trigger("pointerdown",u),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(u.subjectEl,u.pageX,u.pageY),this.startDelay(u),this.minDistance||this.handleDistanceSurpassed(u)))},this.onPointerMove=u=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",u),!this.isDistanceSurpassed){let b,f=this.minDistance,{deltaX:_,deltaY:E}=u;b=_*_+E*E,b>=f*f&&this.handleDistanceSurpassed(u)}this.isDragging&&("scroll"!==u.origEvent.type&&(this.mirror.handleMove(u.pageX,u.pageY),this.autoScroller.handleMove(u.pageX,u.pageY)),this.emitter.trigger("dragmove",u))}},this.onPointerUp=u=>{this.isInteracting&&(this.isInteracting=!1,(0,n.as)(document.body),(0,n.au)(document.body),this.emitter.trigger("pointerup",u),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(u)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let l=this.pointer=new A(a);l.emitter.on("pointerdown",this.onPointerDown),l.emitter.on("pointermove",this.onPointerMove),l.emitter.on("pointerup",this.onPointerUp),o&&(l.selector=o),this.mirror=new B,this.autoScroller=new Re}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(a){"number"==typeof this.delay?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(a)},this.delay):this.handleDelayEnd(a)}handleDelayEnd(a){this.isDelayEnded=!0,this.tryStartDrag(a)}handleDistanceSurpassed(a){this.isDistanceSurpassed=!0,this.tryStartDrag(a)}tryStartDrag(a){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(a.pageX,a.pageY,this.containerEl),this.emitter.trigger("dragstart",a),!1===this.touchScrollAllowed&&this.pointer.cancelTouchScroll())}tryStopDrag(a){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,a))}stopDrag(a){this.isDragging=!1,this.emitter.trigger("dragend",a)}setIgnoreMove(a){this.pointer.shouldIgnoreMove=a}setMirrorIsVisible(a){this.mirror.setIsVisible(a)}setMirrorNeedsRevert(a){this.mirrorNeedsRevert=a}setAutoScrollEnabled(a){this.autoScroller.isEnabled=a}}class ue{constructor(a){this.origRect=(0,n.b6)(a),this.scrollCaches=(0,n.b5)(a).map(o=>new ie(o,!0))}destroy(){for(let a of this.scrollCaches)a.destroy()}computeLeft(){let a=this.origRect.left;for(let o of this.scrollCaches)a+=o.origScrollLeft-o.getScrollLeft();return a}computeTop(){let a=this.origRect.top;for(let o of this.scrollCaches)a+=o.origScrollTop-o.getScrollTop();return a}isWithinClipping(a,o){let l={left:a,top:o};for(let u of this.scrollCaches)if(!Ue(u.getEventTarget())&&!(0,n.aF)(l,u.clientRect))return!1;return!0}}function Ue(h){let a=h.tagName;return"HTML"===a||"BODY"===a}class me{constructor(a,o){this.useSubjectCenter=!1,this.requireInitial=!0,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=l=>{let{dragging:u}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(l),this.initialHit||!this.requireInitial?(u.setIgnoreMove(!1),this.emitter.trigger("pointerdown",l)):u.setIgnoreMove(!0)},this.handleDragStart=l=>{this.emitter.trigger("dragstart",l),this.handleMove(l,!0)},this.handleDragMove=l=>{this.emitter.trigger("dragmove",l),this.handleMove(l)},this.handlePointerUp=l=>{this.releaseHits(),this.emitter.trigger("pointerup",l)},this.handleDragEnd=l=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,l),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",l)},this.droppableStore=o,a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("dragmove",this.handleDragMove),a.emitter.on("pointerup",this.handlePointerUp),a.emitter.on("dragend",this.handleDragEnd),this.dragging=a,this.emitter=new n.F}processFirstCoord(a){let f,o={left:a.pageX,top:a.pageY},l=o,u=a.subjectEl;u instanceof HTMLElement&&(f=(0,n.b6)(u),l=(0,n.aG)(l,f));let b=this.initialHit=this.queryHitForOffset(l.left,l.top);if(b){if(this.useSubjectCenter&&f){let _=(0,n.aE)(f,b.rect);_&&(l=(0,n.aH)(_))}this.coordAdjust=(0,n.aI)(l,o)}else this.coordAdjust={left:0,top:0}}handleMove(a,o){let l=this.queryHitForOffset(a.pageX+this.coordAdjust.left,a.pageY+this.coordAdjust.top);(o||!oe(this.movingHit,l))&&(this.movingHit=l,this.emitter.trigger("hitupdate",l,!1,a))}prepareHits(){this.offsetTrackers=(0,n.a)(this.droppableStore,a=>(a.component.prepareHits(),new ue(a.el)))}releaseHits(){let{offsetTrackers:a}=this;for(let o in a)a[o].destroy();this.offsetTrackers={}}queryHitForOffset(a,o){let{droppableStore:l,offsetTrackers:u}=this,f=null;for(let b in l){let _=l[b].component,E=u[b];if(E&&E.isWithinClipping(a,o)){let w=E.computeLeft(),R=E.computeTop(),M=a-w,k=o-R,{origRect:z}=E,V=z.right-z.left,ee=z.bottom-z.top;if(M>=0&&M<V&&k>=0&&k<ee){let q=_.queryHit(M,k,V,ee);q&&(0,n.b9)(q.dateProfile.activeRange,q.dateSpan.range)&&(!f||q.layer>f.layer)&&(q.componentId=b,q.context=_.context,q.rect.left+=w,q.rect.right+=w,q.rect.top+=R,q.rect.bottom+=R,f=q)}}}return f}}function oe(h,a){return!h&&!a||!!h==!!a&&(0,n.bf)(h.dateSpan,a.dateSpan)}function Oe(h,a){let o={};for(let l of a.pluginHooks.datePointTransforms)Object.assign(o,l(h,a));return Object.assign(o,function Ie(h,a){return{date:a.toDate(h.range.start),dateStr:a.formatIso(h.range.start,{omitTime:h.allDay}),allDay:h.allDay}}(h,a.dateEnv)),o}let Le=(()=>{class h extends n.Z{constructor(o){super(o),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=_=>{let E=_.origEvent.target,{component:w,dragging:R}=this,{mirror:M}=R,{options:k}=w.context,z=w.context;this.subjectEl=_.subjectEl;let V=this.subjectSeg=(0,n._)(_.subjectEl),q=(this.eventRange=V.eventRange).instance.instanceId;this.relevantEvents=(0,n.aV)(z.getCurrentData().eventStore,q),R.minDistance=_.isTouch?0:k.eventDragMinDistance,R.delay=_.isTouch&&q!==w.props.eventSelection?function ve(h){let{options:a}=h.context,o=a.eventLongPressDelay;return null==o&&(o=a.longPressDelay),o}(w):null,M.parentNode=k.fixedMirrorParent?k.fixedMirrorParent:(0,n.$)(E,".fc"),M.revertDuration=k.dragRevertDuration;let Se=w.isValidSegDownEl(E)&&!(0,n.$)(E,".fc-event-resizer");R.setIgnoreMove(!Se),this.isDragging=Se&&_.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=_=>{let E=this.component.context,w=this.eventRange,R=w.instance.instanceId;_.isTouch?R!==this.component.props.eventSelection&&E.dispatch({type:"SELECT_EVENT",eventInstanceId:R}):E.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(E.calendarApi.unselect(_),E.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new n.a0(E,w.def,w.instance),jsEvent:_.origEvent,view:E.viewApi}))},this.handleHitUpdate=(_,E)=>{if(!this.isDragging)return;let w=this.relevantEvents,R=this.hitDragging.initialHit,M=this.component.context,k=null,z=null,V=null,ee=!1,q={affectedEvents:w,mutatedEvents:(0,n.I)(),isEvent:!0};if(_){k=_.context;let Se=k.options;M===k||Se.editable&&Se.droppable?(z=function $e(h,a,o){let l=h.dateSpan,u=a.dateSpan,f=l.range.start,b=u.range.start,_={};l.allDay!==u.allDay&&(_.allDay=u.allDay,_.hasEnd=a.context.options.allDayMaintainDuration,u.allDay&&(f=(0,n.q)(f)));let E=(0,n.aA)(f,b,h.context.dateEnv,h.componentId===a.componentId?h.largeUnit:null);E.milliseconds&&(_.allDay=!1);let w={datesDelta:E,standardProps:_};for(let R of o)R(w,h,a);return w}(R,_,k.getCurrentData().pluginHooks.eventDragMutationMassagers),z&&(V=(0,n.bX)(w,k.getCurrentData().eventUiBases,z,k),q.mutatedEvents=V,(0,n.bZ)(q,_.dateProfile,k)||(ee=!0,z=null,V=null,q.mutatedEvents=(0,n.I)()))):k=null}this.displayDrag(k,q),ee?(0,n.ax)():(0,n.aw)(),E||(M===k&&oe(R,_)&&(z=null),this.dragging.setMirrorNeedsRevert(!z),this.dragging.setMirrorIsVisible(!_||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=k,this.validMutation=z,this.mutatedRelevantEvents=V)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=_=>{if(this.isDragging){let E=this.component.context,w=E.viewApi,{receivingContext:R,validMutation:M}=this,k=this.eventRange.def,z=this.eventRange.instance,V=new n.a0(E,k,z),ee=this.relevantEvents,q=this.mutatedRelevantEvents,{finalHit:Se}=this.hitDragging;if(this.clearDrag(),E.emitter.trigger("eventDragStop",{el:this.subjectEl,event:V,jsEvent:_.origEvent,view:w}),M){if(R===E){let st=new n.a0(E,q.defs[k.defId],z?q.instances[z.instanceId]:null);E.dispatch({type:"MERGE_EVENTS",eventStore:q});let Je={oldEvent:V,event:st,relatedEvents:(0,n.w)(q,E,z),revert(){E.dispatch({type:"MERGE_EVENTS",eventStore:ee})}},Xe={};for(let ot of E.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(Xe,ot(M,E));E.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},Je),Xe),{el:_.subjectEl,delta:M.datesDelta,jsEvent:_.origEvent,view:w})),E.emitter.trigger("eventChange",Je)}else if(R){let st={event:V,relatedEvents:(0,n.w)(ee,E,z),revert(){E.dispatch({type:"MERGE_EVENTS",eventStore:ee})}};E.emitter.trigger("eventLeave",Object.assign(Object.assign({},st),{draggedEl:_.subjectEl,view:w})),E.dispatch({type:"REMOVE_EVENTS",eventStore:ee}),E.emitter.trigger("eventRemove",st);let Xe=q.instances[z.instanceId],ot=new n.a0(R,q.defs[k.defId],Xe);R.dispatch({type:"MERGE_EVENTS",eventStore:q});let Ke={event:ot,relatedEvents:(0,n.w)(q,R,Xe),revert(){R.dispatch({type:"REMOVE_EVENTS",eventStore:q})}};R.emitter.trigger("eventAdd",Ke),_.isTouch&&R.dispatch({type:"SELECT_EVENT",eventInstanceId:z.instanceId}),R.emitter.trigger("drop",Object.assign(Object.assign({},Oe(Se.dateSpan,R)),{draggedEl:_.subjectEl,jsEvent:_.origEvent,view:Se.context.viewApi})),R.emitter.trigger("eventReceive",Object.assign(Object.assign({},Ke),{draggedEl:_.subjectEl,view:Se.context.viewApi}))}}else E.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:l}=this,{options:u}=l.context,f=this.dragging=new pe(o.el);f.pointer.selector=h.SELECTOR,f.touchScrollAllowed=!1,f.autoScroller.isEnabled=u.dragScroll;let b=this.hitDragging=new me(this.dragging,n.a7);b.useSubjectCenter=o.useEventCenter,b.emitter.on("pointerdown",this.handlePointerDown),b.emitter.on("dragstart",this.handleDragStart),b.emitter.on("hitupdate",this.handleHitUpdate),b.emitter.on("pointerup",this.handlePointerUp),b.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(o,l){let f=this.receivingContext;f&&f!==o&&f.dispatch(f===this.component.context?{type:"SET_EVENT_DRAG",state:{affectedEvents:l.affectedEvents,mutatedEvents:(0,n.I)(),isEvent:!0}}:{type:"UNSET_EVENT_DRAG"}),o&&o.dispatch({type:"SET_EVENT_DRAG",state:l})}clearDrag(){let o=this.component.context,{receivingContext:l}=this;l&&l.dispatch({type:"UNSET_EVENT_DRAG"}),o!==l&&o.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}return h.SELECTOR=".fc-event-draggable, .fc-event-resizable",h})();const Ge={fixedMirrorParent:n.n},Ye={dateClick:n.n,eventDragStart:n.n,eventDragStop:n.n,eventDrop:n.n,eventResizeStart:n.n,eventResizeStop:n.n,eventResize:n.n,drop:n.n,eventReceive:n.n,eventLeave:n.n};n.bI.dataAttrPrefix="";var v=(0,P.rx)({name:"@fullcalendar/interaction",componentInteractions:[class Ne extends n.Z{constructor(a){super(a),this.handlePointerDown=l=>{let{dragging:u}=this;u.setIgnoreMove(!this.component.isValidDateDownEl(l.origEvent.target))},this.handleDragEnd=l=>{let{component:u}=this,{pointer:f}=this.dragging;if(!f.wasTouchScroll){let{initialHit:b,finalHit:_}=this.hitDragging;if(b&&_&&oe(b,_)){let{context:E}=u,w=Object.assign(Object.assign({},Oe(b.dateSpan,E)),{dayEl:b.dayEl,jsEvent:l.origEvent,view:E.viewApi||E.calendarApi.view});E.emitter.trigger("dateClick",w)}}},this.dragging=new pe(a.el),this.dragging.autoScroller.isEnabled=!1;let o=this.hitDragging=new me(this.dragging,(0,n.bG)(a));o.emitter.on("pointerdown",this.handlePointerDown),o.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}},class ye extends n.Z{constructor(a){super(a),this.dragSelection=null,this.handlePointerDown=b=>{let{component:_,dragging:E}=this,{options:w}=_.context,R=w.selectable&&_.isValidDateDownEl(b.origEvent.target);E.setIgnoreMove(!R),E.delay=b.isTouch?function je(h){let{options:a}=h.context,o=a.selectLongPressDelay;return null==o&&(o=a.longPressDelay),o}(_):null},this.handleDragStart=b=>{this.component.context.calendarApi.unselect(b)},this.handleHitUpdate=(b,_)=>{let{context:E}=this.component,w=null,R=!1;if(b){let M=this.hitDragging.initialHit;b.componentId===M.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(M,b)||(w=function Ee(h,a,o){let l=h.dateSpan,u=a.dateSpan,f=[l.range.start,l.range.end,u.range.start,u.range.end];f.sort(n.av);let b={};for(let _ of o){let E=_(h,a);if(!1===E)return null;E&&Object.assign(b,E)}return b.range={start:f[0],end:f[3]},b.allDay=l.allDay,b}(M,b,E.pluginHooks.dateSelectionTransformers)),(!w||!(0,n.b_)(w,b.dateProfile,E))&&(R=!0,w=null)}w?E.dispatch({type:"SELECT_DATES",selection:w}):_||E.dispatch({type:"UNSELECT_DATES"}),R?(0,n.ax)():(0,n.aw)(),_||(this.dragSelection=w)},this.handlePointerUp=b=>{this.dragSelection&&((0,n.cu)(this.dragSelection,b,this.component.context),this.dragSelection=null)};let{component:o}=a,{options:l}=o.context,u=this.dragging=new pe(a.el);u.touchScrollAllowed=!1,u.minDistance=l.selectMinDistance||0,u.autoScroller.isEnabled=l.dragScroll;let f=this.hitDragging=new me(this.dragging,(0,n.bG)(a));f.emitter.on("pointerdown",this.handlePointerDown),f.emitter.on("dragstart",this.handleDragStart),f.emitter.on("hitupdate",this.handleHitUpdate),f.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}},Le,class Ve extends n.Z{constructor(a){super(a),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=f=>{let{component:b}=this,_=this.querySegEl(f),E=(0,n._)(_),w=this.eventRange=E.eventRange;this.dragging.minDistance=b.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(f.origEvent.target)||f.isTouch&&this.component.props.eventSelection!==w.instance.instanceId)},this.handleDragStart=f=>{let{context:b}=this.component,_=this.eventRange;this.relevantEvents=(0,n.aV)(b.getCurrentData().eventStore,this.eventRange.instance.instanceId);let E=this.querySegEl(f);this.draggingSegEl=E,this.draggingSeg=(0,n._)(E),b.calendarApi.unselect(),b.emitter.trigger("eventResizeStart",{el:E,event:new n.a0(b,_.def,_.instance),jsEvent:f.origEvent,view:b.viewApi})},this.handleHitUpdate=(f,b,_)=>{let{context:E}=this.component,w=this.relevantEvents,R=this.hitDragging.initialHit,M=this.eventRange.instance,k=null,z=null,V=!1,ee={affectedEvents:w,mutatedEvents:(0,n.I)(),isEvent:!0};f&&(f.componentId===R.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(R,f)||(k=function qe(h,a,o,l){let u=h.context.dateEnv,_=(0,n.aA)(h.dateSpan.range.start,a.dateSpan.range.start,u,h.largeUnit);if(o){if(u.add(l.start,_)<l.end)return{startDelta:_}}else if(u.add(l.end,_)>l.start)return{endDelta:_};return null}(R,f,_.subjectEl.classList.contains("fc-event-resizer-start"),M.range))),k&&(z=(0,n.bX)(w,E.getCurrentData().eventUiBases,k,E),ee.mutatedEvents=z,(0,n.bZ)(ee,f.dateProfile,E)||(V=!0,k=null,z=null,ee.mutatedEvents=null)),E.dispatch(z?{type:"SET_EVENT_RESIZE",state:ee}:{type:"UNSET_EVENT_RESIZE"}),V?(0,n.ax)():(0,n.aw)(),b||(k&&oe(R,f)&&(k=null),this.validMutation=k,this.mutatedRelevantEvents=z)},this.handleDragEnd=f=>{let{context:b}=this.component,_=this.eventRange.def,E=this.eventRange.instance,w=new n.a0(b,_,E),R=this.relevantEvents,M=this.mutatedRelevantEvents;if(b.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:w,jsEvent:f.origEvent,view:b.viewApi}),this.validMutation){let k=new n.a0(b,M.defs[_.defId],E?M.instances[E.instanceId]:null);b.dispatch({type:"MERGE_EVENTS",eventStore:M});let z={oldEvent:w,event:k,relatedEvents:(0,n.w)(M,b,E),revert(){b.dispatch({type:"MERGE_EVENTS",eventStore:R})}};b.emitter.trigger("eventResize",Object.assign(Object.assign({},z),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||(0,n.d)(0),endDelta:this.validMutation.endDelta||(0,n.d)(0),jsEvent:f.origEvent,view:b.viewApi})),b.emitter.trigger("eventChange",z)}else b.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:o}=a,l=this.dragging=new pe(a.el);l.pointer.selector=".fc-event-resizer",l.touchScrollAllowed=!1,l.autoScroller.isEnabled=o.context.options.dragScroll;let u=this.hitDragging=new me(this.dragging,(0,n.bG)(a));u.emitter.on("pointerdown",this.handlePointerDown),u.emitter.on("dragstart",this.handleDragStart),u.emitter.on("hitupdate",this.handleHitUpdate),u.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(a){return(0,n.$)(a.subjectEl,".fc-event")}}],calendarInteractions:[class We{constructor(a){this.context=a,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=l=>{l.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=l=>{let u=this.context.options.unselectCancel,f=(0,n.aR)(l.origEvent);this.matchesCancel=!!(0,n.$)(f,u),this.matchesEvent=!!(0,n.$)(f,Le.SELECTOR)},this.onDocumentPointerUp=l=>{let{context:u}=this,{documentPointer:f}=this,b=u.getCurrentData();if(!f.wasTouchScroll){if(b.dateSelection&&!this.isRecentPointerDateSelect){let _=u.options.unselectAuto;_&&(!_||!this.matchesCancel)&&u.calendarApi.unselect(l)}b.eventSelection&&!this.matchesEvent&&u.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let o=this.documentPointer=new A(document);o.shouldIgnoreMove=!0,o.shouldWatchScroll=!1,o.emitter.on("pointerdown",this.onDocumentPointerDown),o.emitter.on("pointerup",this.onDocumentPointerUp),a.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}],elementDraggingImpl:pe,optionRefiners:Ge,listenerRefiners:Ye})}}]);