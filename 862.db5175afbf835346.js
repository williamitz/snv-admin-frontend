"use strict";(self.webpackChunksnv_admin_frontend=self.webpackChunksnv_admin_frontend||[]).push([[862],{1609:(fe,Y,C)=>{C.d(Y,{I:()=>m});var k=C(6223),n=C(4004);class m{constructor(j,A,F,N=null){this._id="",this._idAux=(0,n.Z)(),this._id=N,this.idiom=new k.NI(j,[]),this.type=new k.NI(A,[k.kI.required]),this.rate=new k.NI(F,[k.kI.required,k.kI.min(.5)])}get invalid(){return this.idiom.invalid||this.type.invalid||this.rate.invalid}get invalidIdiom(){return this.idiom?.errors}get invalidType(){return this.type?.errors}get invalidRate(){return this.rate?.errors}get typeValue(){return this.type?.value}get auxId(){return this._idAux}get values(){return{id:this._id,idiom:this.idiom.value,type:this.type.value,rate:+this.rate.value}}}},2208:(fe,Y,C)=>{C.d(Y,{t:()=>k});var k=function(n){return n.documents="DOCUMENTS",n.profile="PROFILE",n.agency="AGENCY",n.resume="RESUME",n}(k||{})},4011:(fe,Y,C)=>{C.d(Y,{t:()=>g});var k=C(5861),n=C(5879),m=C(6223),W=C(5810),j=C(9315),A=C(4004);class F{constructor(S,v,a=null){this._id="",this._idAux=(0,A.Z)(),this._id=a,this.contactType=new m.NI(S,[m.kI.required]),this.contact=new m.NI(v,[m.kI.required])}get invalid(){return this.contactType.invalid||this.contact.invalid}get invalidType(){return this.contactType?.errors}get invalidContact(){return this.contact?.errors}get typeValue(){return this.contactType?.value}get auxId(){return this._idAux}get values(){return{id:this._id,contactType:this.contactType.value,contact:this.contact.value}}}class N{constructor(S,v,a,s,l){this._idAux=(0,A.Z)(),this._id="",this._dayName="",this._id=l??"",this._dayName=v,this.checked=new m.NI(S,[]),this.timeStart=new m.NI(a,1==S?[m.kI.required]:[]),this.timeEnd=new m.NI(s,1==S?[m.kI.required]:[])}get invalid(){return this.timeStart.invalid||this.timeEnd.invalid}get invalidChecked(){return this.checked?.errors}get invalidTimeStart(){return this.timeStart?.errors}get invalidTimeEnd(){return this.timeEnd?.errors}get auxId(){return this._idAux}get dayName(){return this._dayName}get values(){return{id:this._id,dayName:this._dayName,timeStart:this.timeStart.value,timeEnd:this.timeEnd.value,checked:this.checked.value}}onChangeValidators(){this.checked.value?(this.timeStart.addValidators([m.kI.required]),this.timeStart.updateValueAndValidity(),this.timeEnd.addValidators([m.kI.required]),this.timeEnd.updateValueAndValidity()):(this.timeStart.removeValidators([m.kI.required]),this.timeStart.updateValueAndValidity(),this.timeEnd.removeValidators([m.kI.required]),this.timeEnd.updateValueAndValidity())}}var x=C(1609),L=C(7379),z=C(2208),Z=C(6095),$=C(3947),ie=C(1674),re=C(604),he=C(907),we=C(7612),oe=C(6814),ye=C(8316);function Ue(h,S){if(1&h){const v=n.EpF();n.TgZ(0,"tr")(1,"th",30)(2,"div",31)(3,"input",32),n.NdJ("change",function(){const l=n.CHM(v).$implicit;return n.KtG(l.onChangeValidators())}),n.qZA()()(),n.TgZ(4,"td")(5,"label",33),n._uU(6),n.qZA()(),n.TgZ(7,"td"),n._UZ(8,"input",34),n.qZA(),n.TgZ(9,"td"),n._UZ(10,"input",34),n.qZA()()}if(2&h){const v=S.$implicit;n.xp6(3),n.MGl("id","chk-",v.dayName,""),n.Q6J("formControl",v.checked),n.xp6(2),n.MGl("for","chk-",v.dayName,""),n.xp6(1),n.hij(" ",v.dayName," "),n.xp6(2),n.ekj("is-invalid",v.invalidTimeStart),n.Q6J("formControl",v.timeStart),n.xp6(2),n.ekj("is-invalid",v.invalidTimeEnd),n.Q6J("formControl",v.timeEnd)}}function ve(h,S){1&h&&(n.TgZ(0,"div",35)(1,"span",36),n._uU(2,"Loading..."),n.qZA()())}function ae(h,S){1&h&&(n.TgZ(0,"span"),n._uU(1," Save "),n.qZA())}function Me(h,S){1&h&&(n.TgZ(0,"span"),n._uU(1," Saving... "),n.qZA())}let Re=(()=>{var h;class S{constructor(){this.officeHours=[],this._uisvc=(0,n.f3M)(we.F),this.saving=!1,this._interpretersvc=(0,n.f3M)($.t)}get invalid(){return this.officeHours.some(a=>a.invalid)}ngOnInit(){}onSumit(){if(this.saving)return;this.saving=!0;const a=this.officeHours.filter(s=>s.checked.value).map(s=>s.values);this._update$=this._interpretersvc.onUpdateOfficeHours(this.id??"xd",{officeHours:a}).subscribe({next:s=>{console.log("response ::: ",s),this._uisvc.onShowAlert("Profile Update",L.c.success),this.saving=!1,this._update$?.unsubscribe()},error:s=>{this.saving=!1,this._update$?.unsubscribe()}})}ngOnDestroy(){this._update$?.unsubscribe()}}return(h=S).\u0275fac=function(a){return new(a||h)},h.\u0275cmp=n.Xpm({type:h,selectors:[["app-interpreter-services"]],inputs:{id:"id",officeHours:"officeHours"},decls:63,vars:5,consts:[[1,"fs-15","mb-3","p-2","border-bottom","border-bottom-dashed"],[1,"row"],[1,"col-md-3"],[1,"form-check","form-check-danger","mb-3"],["type","checkbox","id","hippa",1,"form-check-input"],["for","hippa",1,"form-check-label"],["type","checkbox","id","experiencemedical",1,"form-check-input"],["for","experiencemedical",1,"form-check-label"],["type","checkbox","id","bussiness",1,"form-check-input"],["for","bussiness",1,"form-check-label"],["type","checkbox","id","aslcertification",1,"form-check-input"],["for","aslcertification",1,"form-check-label"],["type","checkbox","id","legalexperience",1,"form-check-input"],["for","legalexperience",1,"form-check-label"],["type","checkbox","id","educational",1,"form-check-input"],["for","educational",1,"form-check-label"],["type","checkbox","id","others",1,"form-check-input"],["for","others",1,"form-check-label"],[1,"fs-15","my-3","p-2","border-bottom","border-bottom-dashed"],[1,"table","table-hover","table-nowrap","table-striped","mb-0"],["scope","col",2,"width","25px"],[1,"form-check"],["type","checkbox","id","checkAll","value","option1",1,"form-check-input"],["scope","col"],[4,"ngFor","ngForOf"],[1,"hstack","gap-2","justify-content-center","mt-4"],[1,"btn","btn-danger","rounded-pill","fw-medium","px-5",3,"disabled","click"],["class","spinner-border text-light","role","status",4,"ngIf"],[4,"ngIf"],[1,"btn","btn-light","rounded-pill","fw-medium","px-5"],["scope","row"],[1,"form-check","form-check-danger"],["type","checkbox",1,"form-check-input",3,"id","formControl","change"],[3,"for"],["type","time","placeholder","00",1,"form-control",3,"formControl"],["role","status",1,"spinner-border","text-light"],[1,"sr-only"]],template:function(a,s){1&a&&(n.TgZ(0,"div")(1,"h5",0),n._uU(2,"Service Type"),n.qZA(),n.TgZ(3,"div",1)(4,"div",2)(5,"div",3),n._UZ(6,"input",4),n.TgZ(7,"label",5),n._uU(8," HIPPA "),n.qZA()()(),n.TgZ(9,"div",2)(10,"div",3),n._UZ(11,"input",6),n.TgZ(12,"label",7),n._uU(13," Medical Experience "),n.qZA()()(),n.TgZ(14,"div",2)(15,"div",3),n._UZ(16,"input",8),n.TgZ(17,"label",9),n._uU(18," Bussiness "),n.qZA()()(),n.TgZ(19,"div",2)(20,"div",3),n._UZ(21,"input",10),n.TgZ(22,"label",11),n._uU(23," ASL Certification / RID "),n.qZA()()(),n.TgZ(24,"div",2)(25,"div",3),n._UZ(26,"input",12),n.TgZ(27,"label",13),n._uU(28," Legal Experience "),n.qZA()()(),n.TgZ(29,"div",2)(30,"div",3),n._UZ(31,"input",14),n.TgZ(32,"label",15),n._uU(33," Educational "),n.qZA()()(),n.TgZ(34,"div",2)(35,"div",3),n._UZ(36,"input",16),n.TgZ(37,"label",17),n._uU(38," Others "),n.qZA()()()()(),n.TgZ(39,"div")(40,"h5",18),n._uU(41,"Interpreter Schedule"),n.qZA(),n.TgZ(42,"table",19)(43,"thead")(44,"tr")(45,"th",20)(46,"div",21),n._UZ(47,"input",22),n.qZA()(),n.TgZ(48,"th",23),n._uU(49,"Days"),n.qZA(),n.TgZ(50,"th",23),n._uU(51,"From"),n.qZA(),n.TgZ(52,"th",23),n._uU(53,"To"),n.qZA()()(),n.TgZ(54,"tbody"),n.YNc(55,Ue,11,10,"tr",24),n.qZA()(),n.TgZ(56,"div",25)(57,"button",26),n.NdJ("click",function(){return s.onSumit()}),n.YNc(58,ve,3,0,"div",27),n.YNc(59,ae,2,0,"span",28),n.YNc(60,Me,2,0,"span",28),n.qZA(),n.TgZ(61,"button",29),n._uU(62," Reset "),n.qZA()()()),2&a&&(n.xp6(55),n.Q6J("ngForOf",s.officeHours),n.xp6(2),n.Q6J("disabled",s.saving||s.invalid),n.xp6(1),n.Q6J("ngIf",s.saving),n.xp6(1),n.Q6J("ngIf",!s.saving),n.xp6(1),n.Q6J("ngIf",s.saving))},dependencies:[oe.sg,oe.O5,m.Fj,m.Wl,m.JJ,m.oH]}),S})();var Ne=C(9862),pe=C(7065);let ze=(()=>{var h;class S{constructor(){this._http=(0,n.f3M)(Ne.eN)}uploadInterpreter(a,s){return this._http.post(pe.fR+"/file-user"+(s?`/${s}`:""),a)}findAll(a,s,l){let c=`page=${a}`;return c+=`&limit=${s}`,this._http.get(pe.fR+`/file-user${l?`/findById/${l}`:""}?${c}`)}onDelete(a){return this._http.delete(pe.fR+`/file-user/${a}`)}}return(h=S).\u0275fac=function(a){return new(a||h)},h.\u0275prov=n.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),S})();var Oe=C(2049),ge=C(7680);function je(h,S){if(1&h){const v=n.EpF();n.TgZ(0,"ngx-dropzone-preview",17),n.NdJ("removed",function(){const l=n.CHM(v).$implicit,c=n.oxw();return n.KtG(c.onRemove(l))}),n.TgZ(1,"ngx-dropzone-label"),n._uU(2),n.qZA()()}if(2&h){const v=S.$implicit;n.Q6J("removable",!0)("file",v),n.xp6(2),n.AsE("",v.name," (",v.type,")")}}function $e(h,S){if(1&h){const v=n.EpF();n.TgZ(0,"tr")(1,"td"),n._uU(2),n.qZA(),n.TgZ(3,"td"),n._uU(4),n.qZA(),n.TgZ(5,"td")(6,"a",18),n.NdJ("click",function(){const l=n.CHM(v).$implicit,c=n.oxw();return n.KtG(c.onConfirm(l))}),n._UZ(7,"i",19),n.qZA()()()}if(2&h){const v=S.$implicit;n.xp6(2),n.hij(" ",v.name," "),n.xp6(2),n.hij(" ",v.description," ")}}let qe=(()=>{var h;class S{constructor(){this._files=[],this._filesInterpreter=[],this._frmBuilder=(0,n.f3M)(m.QS),this._firesvc=(0,n.f3M)(re.O),this._fileSvc=(0,n.f3M)(ze),this._pagersvc=(0,n.f3M)(Oe.e),this._uisvc=(0,n.f3M)(we.F),this._saving=!1,this._total=0,this.paginate={currentPage:0,endPage:1,pages:[],startPage:1,totalPages:0}}get controls(){return this.frmFile.controls}touched(a){return this.frmFile.get(a)?.touched}get invalid(){return this.frmFile.invalid}get total(){return this._total}get saving(){return this._saving}get values(){return this.frmFile.value}get filesInterpreter(){return this._filesInterpreter}get files(){return this._files}get currentPage(){return this.paginate.currentPage}ngOnInit(){this.frmFile=this._frmBuilder.group({description:["",[m.kI.required]],name:["",[]],nameFirebase:["",[]],url:["",[]],type:["",[]]}),this.getListFiles()}getListFiles(a=1){this._get$=this._fileSvc.findAll(a,5,this.id).subscribe({next:s=>{const{data:l,total:c}=s;this._filesInterpreter=l,this._total=c,this.paginate=this._pagersvc.getPager(c,a,5),console.log("response ::: ",s),this._get$?.unsubscribe()},error:s=>{this._get$?.unsubscribe()}})}onSelect(a){console.log(a),this._files=[],this._files.push(...a.addedFiles)}onRemove(a){this._files.splice(this._files.indexOf(a),1)}onSubmit(){var a=this;return(0,k.Z)(function*(){if(a.invalid||a._saving)return;a._saving=!0;const s=a._files[0],l=s.name.replaceAll(" ","_"),c=`${(0,A.Z)()}-${l}`;a._uisvc.onShowLoading();const f=yield a._firesvc.onUploadFirebase(s,c);a.frmFile.get("url")?.setValue(f),a.frmFile.get("name")?.setValue(s.name),a.frmFile.get("type")?.setValue(s.type),a.frmFile.get("nameFirebase")?.setValue(c),a._update$=a._fileSvc.uploadInterpreter(a.values,a.id).subscribe({next:b=>{console.log("response ::: ",b),a._saving=!1,a.frmFile.reset(),a._files=[],a._uisvc.onClose(),a.getListFiles(),a._update$?.unsubscribe()},error:b=>{a._saving=!1,a._uisvc.onClose(),a._update$?.unsubscribe()}})})()}onConfirm(a){const{id:s,name:l,nameFirebase:c}=a;this._uisvc.onShowConfirm(`\xbfEst\xe1 seguro de eliminar documento: "${l}" ?`).then(f=>{f.isConfirmed&&this.onDeleteRole(s,c)})}onDeleteRole(a,s){var l=this;return(0,k.Z)(function*(){l._uisvc.onShowLoading(),yield l._firesvc.onDeleteFirebase(s),l._delete$=l._fileSvc.onDelete(a).subscribe({next:c=>{l.getListFiles(l.currentPage),l._uisvc.onClose(),l._uisvc.onShowAlert("Documento eliminado exitosamente",L.c.success),l._delete$?.unsubscribe()},error:c=>{l._delete$?.unsubscribe()}})})()}ngOnDestroy(){this._delete$?.unsubscribe(),this._get$?.unsubscribe(),this._update$?.unsubscribe()}}return(h=S).\u0275fac=function(a){return new(a||h)},h.\u0275cmp=n.Xpm({type:h,selectors:[["app-interpreter-files"]],inputs:{id:"id"},decls:32,vars:5,consts:[[1,"row","gy-4"],[1,"col-lg-5","col-md-6","col-sm-12","mb-4"],[1,"me-4"],["for","formFile",1,"form-label"],["accept","image/jpeg,image/jpg,application/pdf",1,"dropzone_sec",3,"multiple","change"],["class","c-dropzone-preview",3,"removable","file","removed",4,"ngFor","ngForOf"],[3,"formGroup"],[1,"mt-2"],["for","firstname",1,"form-label"],["type","text","id","firstname","placeholder","Enter description","formControlName","description",1,"form-control"],[1,"hstack","gap-2","justify-content-center","mt-4"],[1,"btn","btn-danger","rounded-pill","fw-medium","px-5",3,"disabled","click"],[1,"col-lg-7","col-md-6","col-sm-12"],[1,"fs-15","my-3","p-2","border-bottom","border-bottom-dashed"],[1,"table","table-hover","table-nowrap","table-striped","mb-0"],["scope","col"],[4,"ngFor","ngForOf"],[1,"c-dropzone-preview",3,"removable","file","removed"],["href","javascript:void(0);",1,"link-danger","fs-15",3,"click"],[1,"ri-delete-bin-line"]],template:function(a,s){1&a&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),n._uU(4,"File"),n.qZA(),n.TgZ(5,"ngx-dropzone",4),n.NdJ("change",function(c){return s.onSelect(c)}),n.TgZ(6,"ngx-dropzone-label"),n._uU(7,"Drop or selec file"),n.qZA(),n.YNc(8,je,3,4,"ngx-dropzone-preview",5),n.qZA(),n.TgZ(9,"form",6)(10,"div",7)(11,"label",8),n._uU(12,"Description"),n.qZA(),n._UZ(13,"input",9),n.qZA(),n.TgZ(14,"div",10)(15,"button",11),n.NdJ("click",function(){return s.onSubmit()}),n._uU(16," Upload document "),n.qZA()()()()(),n.TgZ(17,"div",12)(18,"div")(19,"h5",13),n._uU(20,"Documents"),n.qZA(),n.TgZ(21,"table",14)(22,"thead")(23,"tr")(24,"th",15),n._uU(25,"Document"),n.qZA(),n.TgZ(26,"th",15),n._uU(27,"Description"),n.qZA(),n.TgZ(28,"th",15),n._uU(29,"Delete"),n.qZA()()(),n.TgZ(30,"tbody"),n.YNc(31,$e,8,2,"tr",16),n.qZA()()()()()),2&a&&(n.xp6(5),n.Q6J("multiple",!1),n.xp6(3),n.Q6J("ngForOf",s.files),n.xp6(1),n.Q6J("formGroup",s.frmFile),n.xp6(6),n.Q6J("disabled",s.invalid||s.saving),n.xp6(16),n.Q6J("ngForOf",s.filesInterpreter))},dependencies:[oe.sg,m._Y,m.Fj,m.JJ,m.JL,m.sg,m.u,ge._f,ge.NP,ge.dt],styles:['.file-select[_ngcontent-%COMP%]{display:inline-block;position:relative;width:100%}.file-select[_ngcontent-%COMP%]:before{background-color:#eff2f7;color:#222;display:flex;justify-content:center;align-items:center;border-radius:20px 0 0 20px;border:solid 1px #ced4da;content:"Seleccionar";position:absolute;inset:0;width:28%}.file-select[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{width:100%;height:37px;display:inline-block}.file-select[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]:before{content:"dfddf";position:absolute;left:300px}.file-select[_ngcontent-%COMP%]:before{content:"Select File"}.c-dropzone-preview[_ngcontent-%COMP%]{min-height:25px!important;max-height:25px!important;font-size:11px;max-width:100%!important}.dropzone_sec[_ngcontent-%COMP%]{height:50px}']}),S})();function Ve(h,S){if(1&h&&(n.TgZ(0,"option",82),n._uU(1),n.qZA()),2&h){const v=S.$implicit;n.Q6J("value",v.value),n.xp6(1),n.hij(" ",v.value," ")}}function We(h,S){if(1&h){const v=n.EpF();n.TgZ(0,"tr")(1,"td")(2,"select",75)(3,"option",76),n._uU(4,"Select"),n.qZA(),n.YNc(5,Ve,2,2,"option",77),n.qZA()(),n.TgZ(6,"td"),n._UZ(7,"input",78),n.qZA(),n.TgZ(8,"td")(9,"div",79)(10,"a",80),n.NdJ("click",function(){const l=n.CHM(v).$implicit,c=n.oxw();return n.KtG(c.onRemoveContact(l))}),n._UZ(11,"i",81),n.qZA()()()()}if(2&h){const v=S.$implicit,a=n.oxw();n.xp6(2),n.ekj("is-invalid",v.invalidType),n.Q6J("formControl",v.contactType),n.xp6(3),n.Q6J("ngForOf",a.contacttype),n.xp6(2),n.ekj("is-invalid",v.invalidContact),n.Q6J("formControl",v.contact)}}function Ge(h,S){1&h&&(n.TgZ(0,"tr")(1,"td",83),n._uU(2," Add to contact to interpreter "),n.qZA()())}function Ye(h,S){if(1&h){const v=n.EpF();n.TgZ(0,"ngx-dropzone-preview",84),n.NdJ("removed",function(){n.CHM(v);const s=n.oxw();return n.KtG(s.onRemove(s.file))}),n.TgZ(1,"ngx-dropzone-label"),n._uU(2),n.qZA()()}if(2&h){const v=n.oxw();n.Q6J("removable",!0)("file",v.file),n.xp6(2),n.AsE("",v.file.name," (",v.file.type,")")}}function Pe(h,S){if(1&h&&(n.TgZ(0,"div",85)(1,"label",62),n._uU(2),n.qZA()()),2&h){const v=n.oxw();n.xp6(2),n.hij(" ",v.resumeName," ")}}function Le(h,S){if(1&h&&(n.TgZ(0,"option",82),n._uU(1),n.qZA()),2&h){const v=S.$implicit;n.Q6J("value",v.value),n.xp6(1),n.hij(" ",v.value," ")}}function D(h,S){if(1&h){const v=n.EpF();n.TgZ(0,"tr")(1,"td"),n._UZ(2,"ng-select",86),n.qZA(),n.TgZ(3,"td")(4,"select",75)(5,"option",76),n._uU(6,"Select"),n.qZA(),n.YNc(7,Le,2,2,"option",77),n.qZA()(),n.TgZ(8,"td"),n._UZ(9,"input",78),n.qZA(),n.TgZ(10,"td")(11,"div",79)(12,"a",80),n.NdJ("click",function(){const l=n.CHM(v).$implicit,c=n.oxw();return n.KtG(c.onRemoveRate(l))}),n._UZ(13,"i",81),n.qZA()()()()}if(2&h){const v=S.$implicit,a=n.oxw();n.xp6(2),n.ekj("is-invalid",v.invalidIdiom),n.Q6J("items",a.rateTargetIdioms)("formControl",v.idiom),n.xp6(2),n.ekj("is-invalid",v.invalidType),n.Q6J("formControl",v.type),n.xp6(3),n.Q6J("ngForOf",a.calltype),n.xp6(2),n.ekj("is-invalid",v.invalidRate),n.Q6J("formControl",v.rate)}}function d(h,S){1&h&&(n.TgZ(0,"tr")(1,"td",87),n._uU(2," Add to contact to interpreter "),n.qZA()())}let g=(()=>{var h;class S{constructor(){this._acivatedRoute=(0,n.f3M)(W.gz),this._idiomsvc=(0,n.f3M)(Z.S),this._router=(0,n.f3M)(W.F0),this._interpretersvc=(0,n.f3M)($.t),this._timezonesvc=(0,n.f3M)(ie.B),this._nomenclaturesvc=(0,n.f3M)(he.g),this._firesvc=(0,n.f3M)(re.O),this._uisvc=(0,n.f3M)(we.F),this._officeHour=[],this._days=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],this.officeHours=[new N(!1,"Monday",null,null),new N(!1,"Tuesday",null,null),new N(!1,"Wednesday",null,null),new N(!1,"Thursday",null,null),new N(!1,"Friday",null,null),new N(!1,"Saturday",null,null),new N(!1,"Sunday",null,null)],this._id="",this.targetIdioms=[],this.rateTargetIdioms=[],this.timezones=[],this.calltype=[],this.contacttype=[],this.rates=[],this.contacts=[],this.loadingIdioms=!1,this.loadingTimezone=!1,this.saving=!1,this._frmBuilder=(0,n.f3M)(m.QS)}onSelect(a){console.log(a),this.file=a.addedFiles[0]}onRemove(a){console.log(a),this.file=void 0}get controls(){return this.frmInterpreter.controls}touched(a){return this.frmInterpreter.get(a)?.touched}get invalid(){return this.frmInterpreter.invalid}get invalidRepit(){let a=!1;return this.rates.forEach((s,l,c)=>{c.some(f=>f.typeValue==s.typeValue&&s.auxId!=f.auxId)&&(a=!0)}),a}get values(){return this.frmInterpreter.value}get invalidRate(){return this.rates.some(a=>a.invalid)}get counterContacts(){return this.contacts.length}get counterRates(){return this.rates.length}get id(){return this._id}get resumeName(){return this.values.resumeName??""}ngOnInit(){this._id=this._acivatedRoute.snapshot.paramMap.get("id")??"",this.onBuildFrm(),this.onLoadProfile(),this.onGetTargetIdioms(),this.onLoadCallType(),this.onLoadContactType()}onBuildFrm(){this.frmInterpreter=this._frmBuilder.group({name:["",[m.kI.required]],surname:["",[m.kI.required]],email:["",[m.kI.required]],phone:["",[]],countryCode:[null,[m.kI.required]],timzoneId:[null,[m.kI.required]],nativeLanguageId:[null,[]],gender:["Male",[m.kI.required]],targetLanguages:[[],[m.kI.required,m.kI.min(1)]],resumeUrl:["",[]],resumeName:["",[]],resumeFirebase:["",[]],resumeType:["",[]]})}onGetTargetIdioms(){this.loadingIdioms=!0,this._targetIdiom$=this._idiomsvc.findIdiomsAll().subscribe({next:a=>{const{data:s}=a;this.targetIdioms=[...s],this.loadingIdioms=!1,this._targetIdiom$?.unsubscribe()},error:a=>{this.loadingIdioms=!1,this._targetIdiom$?.unsubscribe()}})}onLoadProfile(){this._findById$=this._interpretersvc.onFindById(this._id).subscribe({next:a=>{const{data:s}=a;this.frmInterpreter.get("name")?.setValue(s.name),this.frmInterpreter.get("surname")?.setValue(s.surname),this.frmInterpreter.get("email")?.setValue(s.email),this.frmInterpreter.get("phone")?.setValue(s.phone),this.frmInterpreter.get("countryCode")?.setValue(s.countryCode),this.frmInterpreter.get("timzoneId")?.setValue(s.timezone.id),this.frmInterpreter.get("nativeLanguageId")?.setValue(s?.nativeLanguage?.id),this.frmInterpreter.get("gender")?.setValue(s.gender),this.frmInterpreter.get("resumeUrl")?.setValue(s.resumeUrl),this.frmInterpreter.get("resumeName")?.setValue(s.resumeName),this.frmInterpreter.get("resumeFirebase")?.setValue(s.resumeFirebase),this.frmInterpreter.get("resumeType")?.setValue(s.resumeType),this.frmInterpreter.get("targetLanguages")?.setValue(s.targetLanguages.map(f=>f.id)),this.rateTargetIdioms=s.targetLanguages,this._officeHour=s.officeHours,this.officeHours=[],this.officeHours=this._days.map(f=>{const b=this._officeHour.find(E=>E.dayName==f);return b?new N(b.status,f,b.timeStart,b.timeEnd,b.id):new N(!1,f,null,null)}),this.onGetTimeZones(s.countryCode.substring(0,2));const l=[...s.rates];this.rates=[],this.rates=l.map(f=>new x.I(f.idiom.id??null,f.type,+f.rate,f.id));const c=[...s.contacts];this.contacts=[],this.contacts=c.map(f=>new F(f.contactType,f.contact,f.id)),this._findById$?.unsubscribe()},error:a=>{this._findById$?.unsubscribe()}})}onGetTimeZones(a){this.loadingTimezone=!0,this._timezone$=this._timezonesvc.onFindAll(a).subscribe(s=>{const{data:l}=s;this.timezones=l,this.loadingTimezone=!1,this._timezone$?.unsubscribe()})}onAddrate(){this.rates.push(new x.I(null,"",0))}onAddContact(){this.contacts.push(new F("",""))}onRemoveContact(a){this.contacts=this.contacts.filter(s=>s.auxId!=a.auxId)}onRemoveRate(a){this.rates=this.rates.filter(s=>s.auxId!=a.auxId)}onSubmit(){var a=this;return(0,k.Z)(function*(){if(a.invalid||a.invalidRate||a.saving)return;if(a.invalidRepit)return void a._uisvc.onShowAlert("Please type call, not repeat",L.c.warning);a.saving=!0,a._uisvc.onShowLoading();const s=a.rates.map(c=>c.values),l=a.contacts.map(c=>c.values);if(a.file){const c=a.frmInterpreter.get("resumeFirebase")?.value;c&&""!=c&&(yield a._firesvc.onDeleteFirebase(c,z.t.resume));const f=a.file.name.replaceAll(" ","_"),b=`${(0,A.Z)()}-${f}`,E=yield a._firesvc.onUploadFirebase(a.file,b,z.t.resume);a.frmInterpreter.get("resumeUrl")?.setValue(E),a.frmInterpreter.get("resumeName")?.setValue(a.file.name),a.frmInterpreter.get("resumeType")?.setValue(a.file.type),a.frmInterpreter.get("resumeFirebase")?.setValue(b)}a._update$=(0,j.D)({updateResponse:a._interpretersvc.onUpdate(a.values,a._id),rateResponse:a._interpretersvc.onUpdateRate(a._id,{rates:s}),contactResponse:a._interpretersvc.onUpdateContact(a._id,{contacts:l})}).subscribe({next:c=>{const{rateResponse:f,contactResponse:b}=c,E=f.rates,_=b.contacts;a.rates=[],a.rates=E?.map(y=>new x.I(y.idiom.id,y.type,+y.rate,y.id))??[],a.contacts=[],a.contacts=_?.map(y=>new F(y.contactType,y.contact,y.id))??[],console.log("contactResponse ::: ",b),a.saving=!1,a._uisvc.onClose(),a._uisvc.onShowAlert("Perfil actualziado con \xe9xito",L.c.success),a._update$?.unsubscribe()},error:c=>{a.saving=!1,a._update$?.unsubscribe()}})})()}onLoadCallType(){this._calltype$=this._nomenclaturesvc.onGetCallType().subscribe({next:a=>{const{data:s}=a;this.calltype=s,this._calltype$?.unsubscribe()},error:a=>{this._calltype$?.unsubscribe()}})}onLoadContactType(){this._contacttype$=this._nomenclaturesvc.onGetContactType().subscribe({next:a=>{const{data:s}=a;this.contacttype=s,this._contacttype$?.unsubscribe()},error:a=>{this._contacttype$?.unsubscribe()}})}onSelectTargetLanguages(a){this.rateTargetIdioms=[...a]}ngOnDestroy(){this._findById$?.unsubscribe(),this._targetIdiom$?.unsubscribe(),this._update$?.unsubscribe(),this._contacttype$?.unsubscribe()}}return(h=S).\u0275fac=function(a){return new(a||h)},h.\u0275cmp=n.Xpm({type:h,selectors:[["app-profile-interpreter"]],decls:163,vars:22,consts:[[1,"row"],[1,"col-12"],[1,"page-title-box","d-sm-flex","align-items-center","justify-content-between"],[1,"mb-sm-0"],[1,"page-title-right"],[1,"breadcrumb","m-0"],[1,"breadcrumb-item"],["href","javascript: void(0);"],[1,"breadcrumb-item","active"],[1,"col-xxl-12"],[1,"card"],[1,"card-header"],["role","tablist",1,"nav","nav-pills","nav-primary"],["role","presentation",1,"nav-item","waves-effect","waves-light"],["data-bs-toggle","tab","href","#home-1","role","tab","aria-selected","false","tabindex","-1",1,"nav-link","active"],["data-bs-toggle","tab","href","#profile-1","role","tab","aria-selected","false","tabindex","-1",1,"nav-link"],["data-bs-toggle","tab","href","#messages-1","role","tab","aria-selected","true",1,"nav-link"],["data-bs-toggle","tab","href","#resume-tap","role","tab","aria-selected","true",1,"nav-link"],[1,"card-body"],[1,"tab-content","text-muted"],["id","home-1","role","tabpanel",1,"tab-pane","active","show"],[3,"formGroup"],[1,"row","mt-4"],[1,"col-lg-3","col-md-3","col-sm-12","text-center"],["src","assets/images/users/avatar-8.jpg","alt","",1,"rounded-circle","avatar-xl"],[1,"col-lg-9","col-md-9","col-sm-12"],[1,"col-lg-4","col-md-4","col-sm-6"],["for","firstname",1,"form-label"],["type","text","id","firstname","placeholder","Enter your name","formControlName","name",1,"form-control","rounded-pill"],["for","lastname",1,"form-label"],["type","text","id","lastname","placeholder","Enter your name","formControlName","surname",1,"form-control","rounded-pill"],[1,"col-lg-4","col-md-4","col-sm-12"],["for","iconInput",1,"form-label"],["type","email","id","iconInput","placeholder","example@gmail.com","readonly","","formControlName","email",1,"form-control","rounded-pill",3,"disabled"],[1,"row","pt-3"],["for","exampleInputtime",1,"form-label"],["bindLabel","zoneName","bindValue","id","placeholder","Select Time zone","formControlName","timzoneId",3,"items","loading"],["aria-label","Default select example","formControlName","gender",1,"form-select","rounded-pill"],["selected",""],["value","Male"],["value","Female"],["value","Other"],["aria-label","Default select example",1,"form-select","rounded-pill"],["value","1"],["value","2"],["value","3"],["type","text","id","lastname","placeholder","Enter your name",1,"form-control","rounded-pill"],["type","number","id","lastname","placeholder","Enter your name","formControlName","phone",1,"form-control","rounded-pill"],["for","cleave-phone",1,"form-label"],["bindLabel","language","bindValue","id","placeholder","Select target languages","formControlName","targetLanguages",1,"",3,"items","multiple","loading","change"],[1,"col-lg-6","col-md-6","col-sm-12"],[1,"row","mt-md-0","mt-3","pb-2"],[1,"col-6"],[1,"m-0","lh-base"],[1,"col-6","d-flex","justify-content-end"],["type","button",1,"btn","btn-sm","btn-danger",3,"click"],[1,"ri-add-line","align-bottom","me-1"],[1,"table","table-responsive","table-nowrap","mb-0"],[1,"table-light"],["scope","col"],[4,"ngFor","ngForOf"],[4,"ngIf"],["for","formFile",1,"form-label"],["accept","image/jpeg,image/jpg,application/pdf",1,"dropzone_sec",3,"multiple","change"],["class","c-dropzone-preview",3,"removable","file","removed",4,"ngIf"],["class","pt-4 text-center",4,"ngIf"],[1,"hstack","gap-2","justify-content-center","mt-4"],[1,"btn","btn-danger","rounded-pill","fw-medium","px-5",3,"disabled","click"],[1,"btn","btn-light","rounded-pill","fw-medium","px-5"],["id","profile-1","role","tabpanel",1,"tab-pane"],[3,"id","officeHours"],["id","messages-1","role","tabpanel",1,"tab-pane"],[3,"id"],["id","resume-tap","role","tabpanel",1,"tab-pane"],[1,"headline-1"],["aria-label","Default select example",1,"form-select","rounded-pill",3,"formControl"],["selected","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Access Code",1,"form-control","rounded-pill",3,"formControl"],[1,"mt-2","text-center"],["href","javascript:void(0);",1,"link-danger",3,"click"],[1,"ri-delete-bin-line","align-bottom"],[3,"value"],["colspan","3",1,"text-muted","text-center"],[1,"c-dropzone-preview",3,"removable","file","removed"],[1,"pt-4","text-center"],["bindLabel","language","bindValue","id","placeholder","Select language",1,"",3,"items","formControl"],["colspan","4",1,"text-muted","text-center"]],template:function(a,s){1&a&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),n._uU(4,"Interpreters Profile"),n.qZA(),n.TgZ(5,"div",4)(6,"ol",5)(7,"li",6)(8,"a",7),n._uU(9,"Segurity"),n.qZA()(),n.TgZ(10,"li",8),n._uU(11,"Role"),n.qZA()()()()()(),n.TgZ(12,"div",0)(13,"div",9)(14,"div",10)(15,"div",11)(16,"ul",12)(17,"li",13)(18,"a",14),n._uU(19,"Personal"),n.qZA()(),n.TgZ(20,"li",13)(21,"a",15),n._uU(22,"Services"),n.qZA()(),n.TgZ(23,"li",13)(24,"a",16),n._uU(25,"Documentation"),n.qZA()(),n.TgZ(26,"li",13)(27,"a",17),n._uU(28,"Resume"),n.qZA()()()(),n.TgZ(29,"div",18)(30,"div",19)(31,"div",20)(32,"form",21)(33,"div",22)(34,"div",23),n._UZ(35,"img",24),n.qZA(),n.TgZ(36,"div",25)(37,"div",0)(38,"div",26)(39,"label",27),n._uU(40,"First Name"),n.qZA(),n._UZ(41,"input",28),n.qZA(),n.TgZ(42,"div",26)(43,"label",29),n._uU(44,"Last Name"),n.qZA(),n._UZ(45,"input",30),n.qZA(),n.TgZ(46,"div",31)(47,"label",32),n._uU(48,"E-mail"),n.qZA(),n._UZ(49,"input",33),n.qZA()(),n.TgZ(50,"div",34)(51,"div",26)(52,"label",35),n._uU(53,"Time Zone"),n.qZA(),n._UZ(54,"ng-select",36),n.qZA(),n.TgZ(55,"div",26)(56,"label",29),n._uU(57,"Gender"),n.qZA(),n.TgZ(58,"select",37)(59,"option",38),n._uU(60,"Select"),n.qZA(),n.TgZ(61,"option",39),n._uU(62,"Male"),n.qZA(),n.TgZ(63,"option",40),n._uU(64,"Female"),n.qZA(),n.TgZ(65,"option",41),n._uU(66,"Other"),n.qZA()()(),n.TgZ(67,"div",31)(68,"label",29),n._uU(69,"Specialized Types"),n.qZA(),n.TgZ(70,"select",42)(71,"option",38),n._uU(72,"Select"),n.qZA(),n.TgZ(73,"option",43),n._uU(74,"Specialized 1"),n.qZA(),n.TgZ(75,"option",44),n._uU(76,"Specialized 2"),n.qZA(),n.TgZ(77,"option",45),n._uU(78,"Specialized 3"),n.qZA()()()(),n.TgZ(79,"div",34)(80,"div",26)(81,"label",29),n._uU(82,"Years of Experience"),n.qZA(),n._UZ(83,"input",46),n.qZA(),n.TgZ(84,"div",26)(85,"label",29),n._uU(86,"Telephone Number"),n.qZA(),n._UZ(87,"input",47),n.qZA(),n.TgZ(88,"div",31)(89,"label",48),n._uU(90,"Target languages"),n.qZA(),n.TgZ(91,"ng-select",49),n.NdJ("change",function(c){return s.onSelectTargetLanguages(c)}),n.qZA()()()()()(),n._UZ(92,"hr"),n.TgZ(93,"div",34)(94,"div",50)(95,"div",51)(96,"div",52)(97,"h5",53),n._uU(98,"Contact"),n.qZA()(),n.TgZ(99,"div",54)(100,"button",55),n.NdJ("click",function(){return s.onAddContact()}),n._UZ(101,"i",56),n._uU(102," Add "),n.qZA()()(),n.TgZ(103,"div",0)(104,"div",1)(105,"table",57)(106,"thead",58)(107,"tr")(108,"th",59),n._uU(109,"Type"),n.qZA(),n.TgZ(110,"th",59),n._uU(111,"Rate"),n.qZA(),n.TgZ(112,"th",59),n._uU(113,"Actions"),n.qZA()()(),n.TgZ(114,"tbody"),n.YNc(115,We,12,7,"tr",60),n.YNc(116,Ge,3,0,"tr",61),n.qZA()()()()(),n.TgZ(117,"div",50)(118,"label",62),n._uU(119,"Resume File"),n.qZA(),n.TgZ(120,"ngx-dropzone",63),n.NdJ("change",function(c){return s.onSelect(c)}),n.TgZ(121,"ngx-dropzone-label"),n._uU(122,"Drop or selec file"),n.qZA(),n.YNc(123,Ye,3,4,"ngx-dropzone-preview",64),n.qZA(),n.YNc(124,Pe,3,1,"div",65),n.qZA()(),n.TgZ(125,"div",34)(126,"div",1)(127,"div",51)(128,"div",52)(129,"h5",53),n._uU(130,"Rate For language"),n.qZA()(),n.TgZ(131,"div",54)(132,"button",55),n.NdJ("click",function(){return s.onAddrate()}),n._UZ(133,"i",56),n._uU(134," Add "),n.qZA()()(),n.TgZ(135,"div",0)(136,"div",1)(137,"table",57)(138,"thead",58)(139,"tr")(140,"th",59),n._uU(141,"Language"),n.qZA(),n.TgZ(142,"th",59),n._uU(143,"Type"),n.qZA(),n.TgZ(144,"th",59),n._uU(145,"Rate"),n.qZA(),n.TgZ(146,"th",59),n._uU(147,"Actions"),n.qZA()()(),n.TgZ(148,"tbody"),n.YNc(149,D,14,11,"tr",60),n.YNc(150,d,3,0,"tr",61),n.qZA()()()()()(),n.TgZ(151,"div",66)(152,"button",67),n.NdJ("click",function(){return s.onSubmit()}),n._uU(153," Save "),n.qZA(),n.TgZ(154,"button",68),n._uU(155," Reset "),n.qZA()()(),n.TgZ(156,"div",69),n._UZ(157,"app-interpreter-services",70),n.qZA(),n.TgZ(158,"div",71),n._UZ(159,"app-interpreter-files",72),n.qZA(),n.TgZ(160,"div",73)(161,"h1",74),n._uU(162," My resume "),n.qZA()()()()()()()),2&a&&(n.xp6(32),n.Q6J("formGroup",s.frmInterpreter),n.xp6(17),n.Q6J("disabled",!0),n.xp6(5),n.ekj("is-invalid",s.controls.timzoneId.errors&&s.touched("timzoneId")),n.Q6J("items",s.timezones)("loading",s.loadingTimezone),n.xp6(37),n.ekj("is-invalid",s.controls.targetLanguages.errors&&s.touched("targetLanguages")),n.Q6J("items",s.targetIdioms)("multiple",!0)("loading",s.loadingIdioms),n.xp6(24),n.Q6J("ngForOf",s.contacts),n.xp6(1),n.Q6J("ngIf",0==s.counterContacts),n.xp6(4),n.Q6J("multiple",!1),n.xp6(3),n.Q6J("ngIf",s.file),n.xp6(1),n.Q6J("ngIf",""!==s.resumeName),n.xp6(25),n.Q6J("ngForOf",s.rates),n.xp6(1),n.Q6J("ngIf",0==s.counterRates),n.xp6(2),n.Q6J("disabled",s.invalid||s.invalidRate||s.saving),n.xp6(5),n.Q6J("id",s.id)("officeHours",s.officeHours),n.xp6(2),n.Q6J("id",s.id))},dependencies:[oe.sg,oe.O5,m._Y,m.YN,m.Kr,m.Fj,m.wV,m.EJ,m.JJ,m.JL,m.oH,m.sg,m.u,ye.w9,Re,qe,ge._f,ge.NP,ge.dt],styles:['.file-select[_ngcontent-%COMP%]{display:inline-block;position:relative;width:100%}.file-select[_ngcontent-%COMP%]:before{background-color:#eff2f7;color:#222;display:flex;justify-content:center;align-items:center;border-radius:20px 0 0 20px;border:solid 1px #ced4da;content:"Seleccionar";position:absolute;inset:0;width:28%}.file-select[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{width:100%;height:37px;display:inline-block}.file-select[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]:before{content:"dfddf";position:absolute;left:300px}.file-select[_ngcontent-%COMP%]:before{content:"Select File"}.dropzone_sec[_ngcontent-%COMP%]{height:120px}.c-dropzone-preview[_ngcontent-%COMP%]{min-height:40px!important;max-height:40px!important;font-size:12px;max-width:100%!important}.dropzone_sec[_ngcontent-%COMP%]{height:64px}']}),S})()},6095:(fe,Y,C)=>{C.d(Y,{S:()=>W});var k=C(9862),n=C(5879),m=C(7065);let W=(()=>{var j;class A{constructor(){this._http=(0,n.f3M)(k.eN)}findAll(N="",x=""){let L=`filter=${N}`;return L+=`&ignore=${x}`,this._http.get(m.fR+`/language?${L}`)}findIdiomsAll(N=""){return this._http.get(m.fR+`/idiom?filter=${N}`)}}return(j=A).\u0275fac=function(N){return new(N||j)},j.\u0275prov=n.Yz7({token:j,factory:j.\u0275fac,providedIn:"root"}),A})()},3947:(fe,Y,C)=>{C.d(Y,{t:()=>j});var k=C(5879),n=C(9862),m=C(7065),W=C(7398);let j=(()=>{var A;class F{constructor(){this._http=(0,k.f3M)(n.eN)}onCreate(x){return this._http.post(m.fR+"/interpreter",x)}onFindAll(x,L){let z=`page=${L}`;return z+=`&filter=${x.filter}`,z+=`&active=${!x.active}`,z+=`&limit=${x.limit}`,z+=`&order=${x.order}`,this._http.get(m.fR+`/interpreter?${z}`)}onFindById(x){return this._http.get(m.fR+(""==x?"/interpreter/find/my-profile":`/interpreter/${x}`)).pipe((0,W.U)(z=>{const{data:Z}=z;return z.data.rates=Z.rates.filter($=>$.status),z}))}onUpdate(x,L){return this._http.put(m.fR+(""==L?"/interpreter/update/my-profile":`/interpreter/${L}`),x)}onDelete(x){return this._http.delete(m.fR+`/interpreter/${x}`)}onUpdateRate(x,L){return this._http.put(m.fR+(""==x?"/interpreter/update/rate-profile":`/interpreter/${x}/rate`),L)}onUpdateContact(x,L){return this._http.put(m.fR+(""==x?"/interpreter/update/contact-profile":`/interpreter/${x}/contact`),L)}onUpdateOfficeHours(x,L){return this._http.put(m.fR+(""==x?"/interpreter/update/office-hours-profile":`/interpreter/${x}/office-hours`),L)}onUpdateAdditional(x){return this._http.put(m.fR+"/interpreter/update/additional",x)}}return(A=F).\u0275fac=function(x){return new(x||A)},A.\u0275prov=k.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),F})()},1674:(fe,Y,C)=>{C.d(Y,{B:()=>j});var k=C(9862),n=C(5879),m=C(7065);let j=(()=>{var A;class F{constructor(){this._http=(0,n.f3M)(k.eN)}onFindAll(x){return this._http.get(m.fR+`/time-zone/by-country?filter=${x}`)}}return(A=F).\u0275fac=function(x){return new(x||A)},A.\u0275prov=n.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),F})()},604:(fe,Y,C)=>{C.d(Y,{O:()=>Ls});var k=C(5861);const j=function(t){const e=[];let i=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=63&o|128):55296==(64512&o)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&t.charCodeAt(++r)),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=63&o|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=63&o|128)}return e},F={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const u=t[o],p=o+1<t.length,w=p?t[o+1]:0,T=o+2<t.length,O=T?t[o+2]:0;let G=(15&w)<<2|O>>6,Q=63&O;T||(Q=64,p||(G=64)),r.push(i[u>>2],i[(3&u)<<4|w>>4],i[G],i[Q])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(j(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let i=0,r=0;for(;i<t.length;){const o=t[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=t[i++];e[r++]=String.fromCharCode((31&o)<<6|63&u)}else if(o>239&&o<365){const T=((7&o)<<18|(63&t[i++])<<12|(63&t[i++])<<6|63&t[i++])-65536;e[r++]=String.fromCharCode(55296+(T>>10)),e[r++]=String.fromCharCode(56320+(1023&T))}else{const u=t[i++],p=t[i++];e[r++]=String.fromCharCode((15&o)<<12|(63&u)<<6|63&p)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const u=i[t.charAt(o++)],w=o<t.length?i[t.charAt(o)]:0;++o;const O=o<t.length?i[t.charAt(o)]:64;++o;const U=o<t.length?i[t.charAt(o)]:64;if(++o,null==u||null==w||null==O||null==U)throw new N;r.push(u<<2|w>>4),64!==O&&(r.push(w<<4&240|O>>2),64!==U&&r.push(O<<6&192|U))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class N extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const L=function(t){return function(t){const e=j(t);return F.encodeByteArray(e,!0)}(t).replace(/\./g,"")},ye=()=>{try{return function re(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&function(t){try{return F.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},ae=()=>{var t;return null===(t=ye())||void 0===t?void 0:t.config};class Re{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(i):e(i,r))}}}class g extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,g.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,h.prototype.create)}}class h{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,u=this.errors[e],p=u?function S(t,e){return t.replace(v,(i,r)=>{const o=e[r];return null!=o?String(o):`<${r}?>`})}(u,r):"Error";return new g(o,`${this.serviceName}: ${p} (${o}).`,r)}}const v=/\{\$([^}]+)}/g;function M(t,e){if(t===e)return!0;const i=Object.keys(t),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const u=t[o],p=e[o];if(P(u)&&P(p)){if(!M(u,p))return!1}else if(u!==p)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function P(t){return null!==t&&"object"==typeof t}function at(t){return t&&t._delegate?t._delegate:t}class lt{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const He="[DEFAULT]";class Jn{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new Re;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const r=this.normalizeInstanceIdentifier(e?.identifier),o=null!==(i=e?.optional)&&void 0!==i&&i;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(o)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(u){if(o)return null;throw u}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Qn(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:He})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=He){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return(0,k.Z)(function*(){const i=Array.from(e.instances.values());yield Promise.all([...i.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...i.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=He){return this.instances.has(e)}getOptions(e=He){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,p]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(u)&&p.resolve(o);return o}onInit(e,i){var r;const o=this.normalizeInstanceIdentifier(i),u=null!==(r=this.onInitCallbacks.get(o))&&void 0!==r?r:new Set;u.add(e),this.onInitCallbacks.set(o,u);const p=this.instances.get(o);return p&&e(p,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===He?void 0:t),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=He){return this.component?this.component.multipleInstances?e:He:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ei{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new Jn(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}const wt=[];var X=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(X||{});const Xt={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},ti=X.INFO,ni={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},ii=(t,e,...i)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),o=ni[e];if(!o)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[o](`[${r}]  ${t.name}:`,...i)},si=(t,e)=>e.some(i=>t instanceof i);let Jt,Kt;const Qt=new WeakMap,Rt=new WeakMap,en=new WeakMap,Dt=new WeakMap,It=new WeakMap;let Ct={get(t,e,i){if(t instanceof IDBTransaction){if("done"===e)return Rt.get(t);if("objectStoreNames"===e)return t.objectStoreNames||en.get(t);if("store"===e)return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ke(t[e])},set:(t,e,i)=>(t[e]=i,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function hi(t){return"function"==typeof t?function ui(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ai(){return Kt||(Kt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(xt(this),e),ke(Qt.get(this))}:function(...e){return ke(t.apply(xt(this),e))}:function(e,...i){const r=t.call(xt(this),e,...i);return en.set(r,e.sort?e.sort():[e]),ke(r)}}(t):(t instanceof IDBTransaction&&function ci(t){if(Rt.has(t))return;const e=new Promise((i,r)=>{const o=()=>{t.removeEventListener("complete",u),t.removeEventListener("error",p),t.removeEventListener("abort",p)},u=()=>{i(),o()},p=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",u),t.addEventListener("error",p),t.addEventListener("abort",p)});Rt.set(t,e)}(t),si(t,function oi(){return Jt||(Jt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Ct):t)}function ke(t){if(t instanceof IDBRequest)return function li(t){const e=new Promise((i,r)=>{const o=()=>{t.removeEventListener("success",u),t.removeEventListener("error",p)},u=()=>{i(ke(t.result)),o()},p=()=>{r(t.error),o()};t.addEventListener("success",u),t.addEventListener("error",p)});return e.then(i=>{i instanceof IDBCursor&&Qt.set(i,t)}).catch(()=>{}),It.set(e,t),e}(t);if(Dt.has(t))return Dt.get(t);const e=hi(t);return e!==t&&(Dt.set(t,e),It.set(e,t)),e}const xt=t=>It.get(t),pi=["get","getKey","getAll","getAllKeys","count"],gi=["put","add","delete","clear"],At=new Map;function tn(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(At.get(e))return At.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=gi.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!pi.includes(i))return;const u=function(){var p=(0,k.Z)(function*(w,...T){const O=this.transaction(w,o?"readwrite":"readonly");let B=O.store;return r&&(B=B.index(T.shift())),(yield Promise.all([B[i](...T),o&&O.done]))[0]});return function(T){return p.apply(this,arguments)}}();return At.set(e,u),u}!function di(t){Ct=t(Ct)}(t=>({...t,get:(e,i,r)=>tn(e,i)||t.get(e,i,r),has:(e,i)=>!!tn(e,i)||t.has(e,i)}));class mi{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(function vi(t){const e=t.getComponent();return"VERSION"===e?.type}(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}return null}).filter(i=>i).join(" ")}}const Mt="@firebase/app",Be=new class ri{constructor(e){this.name=e,this._logLevel=ti,this._logHandler=ii,this._userLogHandler=null,wt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in X))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Xt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...e),this._logHandler(this,X.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...e),this._logHandler(this,X.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,X.INFO,...e),this._logHandler(this,X.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,X.WARN,...e),this._logHandler(this,X.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...e),this._logHandler(this,X.ERROR,...e)}}("@firebase/app"),gt="[DEFAULT]",ji={[Mt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ze=new Map,mt=new Map;function $i(t,e){try{t.container.addComponent(e)}catch(i){Be.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,i)}}function vt(t){const e=t.name;if(mt.has(e))return Be.debug(`There were multiple attempts to register component ${e}.`),!1;mt.set(e,t);for(const i of Ze.values())$i(i,t);return!0}const De=new h("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Vi{constructor(e,i,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new lt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw De.create("app-deleted",{appName:this._name})}}function sn(t,e={}){let i=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:gt,automaticDataCollectionEnabled:!1},e),o=r.name;if("string"!=typeof o||!o)throw De.create("bad-app-name",{appName:String(o)});if(i||(i=ae()),!i)throw De.create("no-options");const u=Ze.get(o);if(u){if(M(i,u.options)&&M(r,u.config))return u;throw De.create("duplicate-app",{appName:o})}const p=new ei(o);for(const T of mt.values())p.addComponent(T);const w=new Vi(i,r,p);return Ze.set(o,w),w}function Qe(t,e,i){var r;let o=null!==(r=ji[t])&&void 0!==r?r:t;i&&(o+=`-${i}`);const u=o.match(/\s|\//),p=e.match(/\s|\//);if(u||p){const w=[`Unable to register library "${o}" with version "${e}":`];return u&&w.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&p&&w.push("and"),p&&w.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Be.warn(w.join(" "))}vt(new lt(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}const Yi="firebase-heartbeat-database",Xi=1,ct="firebase-heartbeat-store";let Pt=null;function on(){return Pt||(Pt=function fi(t,e,{blocked:i,upgrade:r,blocking:o,terminated:u}={}){const p=indexedDB.open(t,e),w=ke(p);return r&&p.addEventListener("upgradeneeded",T=>{r(ke(p.result),T.oldVersion,T.newVersion,ke(p.transaction),T)}),i&&p.addEventListener("blocked",T=>i(T.oldVersion,T.newVersion,T)),w.then(T=>{u&&T.addEventListener("close",()=>u()),o&&T.addEventListener("versionchange",O=>o(O.oldVersion,O.newVersion,O))}).catch(()=>{}),w}(Yi,Xi,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ct)}}).catch(t=>{throw De.create("idb-open",{originalErrorMessage:t.message})})),Pt}function kt(){return(kt=(0,k.Z)(function*(t){try{return yield(yield on()).transaction(ct).objectStore(ct).get(ln(t))}catch(e){if(e instanceof g)Be.warn(e.message);else{const i=De.create("idb-get",{originalErrorMessage:e?.message});Be.warn(i.message)}}})).apply(this,arguments)}function an(t,e){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,k.Z)(function*(t,e){try{const r=(yield on()).transaction(ct,"readwrite");yield r.objectStore(ct).put(e,ln(t)),yield r.done}catch(i){if(i instanceof g)Be.warn(i.message);else{const r=De.create("idb-set",{originalErrorMessage:i?.message});Be.warn(r.message)}}})).apply(this,arguments)}function ln(t){return`${t.name}!${t.options.appId}`}class er{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new nr(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return(0,k.Z)(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=cn();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==o&&!e._heartbeatsCache.heartbeats.some(u=>u.date===o))return e._heartbeatsCache.heartbeats.push({date:o,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(u=>{const p=new Date(u.date).valueOf();return Date.now()-p<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return(0,k.Z)(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const i=cn(),{heartbeatsToSend:r,unsentEntries:o}=function tr(t,e=1024){const i=[];let r=t.slice();for(const o of t){const u=i.find(p=>p.agent===o.agent);if(u){if(u.dates.push(o.date),dn(i)>e){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),dn(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}(e._heartbeatsCache.heartbeats),u=L(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(e._heartbeatsCache.heartbeats=o,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),u})()}}function cn(){return(new Date).toISOString().substring(0,10)}class nr{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,k.Z)(function*(){return!!function Pe(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function Le(){return new Promise((t,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var u;e((null===(u=o.error)||void 0===u?void 0:u.message)||"")}}catch(i){e(i)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return(0,k.Z)(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Ji(t){return kt.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var i=this;return(0,k.Z)(function*(){var r;if(yield i._canUseIndexedDBPromise){const u=yield i.read();return an(i.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var i=this;return(0,k.Z)(function*(){var r;if(yield i._canUseIndexedDBPromise){const u=yield i.read();return an(i.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}})()}}function dn(t){return L(JSON.stringify({version:2,heartbeats:t})).length}!function ir(t){vt(new lt("platform-logger",e=>new mi(e),"PRIVATE")),vt(new lt("heartbeat",e=>new er(e),"PRIVATE")),Qe(Mt,"0.9.15",t),Qe(Mt,"0.9.15","esm2017"),Qe("fire-js","")}("");const un="firebasestorage.googleapis.com",hn="storageBucket";class K extends g{constructor(e,i,r=0){super(Nt(e),`Firebase Storage: ${i} (${Nt(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,K.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Nt(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var J=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(J||{});function Nt(t){return"storage/"+t}function Lt(){return new K(J.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Ht(t){return new K(J.INVALID_ARGUMENT,t)}function mn(){return new K(J.APP_DELETED,"The Firebase app was deleted.")}function dt(t,e){return new K(J.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ut(t){throw new K(J.INTERNAL_ERROR,"Internal error: "+t)}class ce{constructor(e,i){this.bucket=e,this.path_=i}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,i){let r;try{r=ce.makeFromUrl(e,i)}catch{return new ce(e,"")}if(""===r.path)return r;throw function fr(t){return new K(J.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}(e)}static makeFromUrl(e,i){let r=null;const o="([A-Za-z0-9.\\-_]+)",w=new RegExp("^gs://"+o+"(/(.*))?$","i");function O(se){se.path_=decodeURIComponent(se.path)}const U=i.replace(/[.]/g,"\\."),le=[{regex:w,indices:{bucket:1,path:3},postModify:function u(se){"/"===se.path.charAt(se.path.length-1)&&(se.path_=se.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${U}/v[A-Za-z0-9_]+/b/${o}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:O},{regex:new RegExp(`^https?://${i===un?"(?:storage.googleapis.com|storage.cloud.google.com)":i}/${o}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:O}];for(let se=0;se<le.length;se++){const it=le[se],rt=it.regex.exec(e);if(rt){let pt=rt[it.indices.path];pt||(pt=""),r=new ce(rt[it.indices.bucket],pt),it.postModify(r);break}}if(null==r)throw function hr(t){return new K(J.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return r}}class br{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function _t(t){return"string"==typeof t||t instanceof String}function vn(t){return Bt()&&t instanceof Blob}function Bt(){return typeof Blob<"u"&&!function Oe(){var t;const e=null===(t=ye())||void 0===t?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()}function Zt(t,e,i,r){if(r<e)throw Ht(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>i)throw Ht(`Invalid value for '${t}'. Expected ${i} or less.`)}function Ie(t,e,i){let r=e;return null==i&&(r=`https://${e}`),`${i}://${r}/v0${t}`}function _n(t){const e=encodeURIComponent;let i="?";for(const r in t)t.hasOwnProperty(r)&&(i=i+(e(r)+"=")+e(t[r])+"&");return i=i.slice(0,-1),i}var et=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(et||{});class Rr{constructor(e,i,r,o,u,p,w,T,O,B,U,G=!0){this.url_=e,this.method_=i,this.headers_=r,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=p,this.callback_=w,this.errorCallback_=T,this.timeout_=O,this.progressCallback_=B,this.connectionFactory_=U,this.retry=G,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Q,te)=>{this.resolve_=Q,this.reject_=te,this.start_()})}start_(){const i=(r,o)=>{const u=this.resolve_,p=this.reject_,w=o.connection;if(o.wasSuccessCode)try{const T=this.callback_(w,w.getResponse());!function Sr(t){return void 0!==t}(T)?u():u(T)}catch(T){p(T)}else if(null!==w){const T=Lt();T.serverResponse=w.getErrorText(),p(this.errorCallback_?this.errorCallback_(w,T):T)}else p(o.canceled?this.appDelete_?mn():function pn(){return new K(J.CANCELED,"User canceled the upload/download.")}():function fn(){return new K(J.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?i(0,new bt(!1,null,!0)):this.backoffId_=function yr(t,e,i){let r=1,o=null,u=null,p=!1,w=0;function T(){return 2===w}let O=!1;function B(...ne){O||(O=!0,e.apply(null,ne))}function U(ne){o=setTimeout(()=>{o=null,t(Q,T())},ne)}function G(){u&&clearTimeout(u)}function Q(ne,...xe){if(O)return void G();if(ne)return G(),void B.call(null,ne,...xe);if(T()||p)return G(),void B.call(null,ne,...xe);let le;r<64&&(r*=2),1===w?(w=2,le=0):le=1e3*(r+Math.random()),U(le)}let te=!1;function me(ne){te||(te=!0,G(),!O&&(null!==o?(ne||(w=2),clearTimeout(o),U(0)):ne||(w=1)))}return U(0),u=setTimeout(()=>{p=!0,me(!0)},i),me}((r,o)=>{if(o)return void r(!1,new bt(!1,null,!0));const u=this.connectionFactory_();this.pendingConnection_=u;const p=w=>{null!==this.progressCallback_&&this.progressCallback_(w.loaded,w.lengthComputable?w.total:-1)};null!==this.progressCallback_&&u.addUploadProgressListener(p),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&u.removeUploadProgressListener(p),this.pendingConnection_=null;const w=u.getErrorCode()===et.NO_ERROR,T=u.getStatus();if(!w||function bn(t,e){const i=t>=500&&t<600,o=-1!==[408,429].indexOf(t),u=-1!==e.indexOf(t);return i||o||u}(T,this.additionalRetryCodes_)&&this.retry){const B=u.getErrorCode()===et.ABORT;return void r(!1,new bt(!1,null,B))}const O=-1!==this.successCodes_.indexOf(T);r(!0,new bt(O,u))})},i,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function Er(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class bt{constructor(e,i,r){this.wasSuccessCode=e,this.connection=i,this.canceled=!!r}}function Or(...t){const e=function Mr(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const i=new e;for(let r=0;r<t.length;r++)i.append(t[r]);return i.getBlob()}if(Bt())return new Blob(t);throw new K(J.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const _e={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ft{constructor(e,i){this.data=e,this.contentType=i||null}}function En(t){const e=[];for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?i<t.length-1&&56320==(64512&t.charCodeAt(i+1))?(r=65536|(1023&r)<<10|1023&t.charCodeAt(++i),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Sn(t,e){switch(t){case _e.BASE64:{const o=-1!==e.indexOf("-"),u=-1!==e.indexOf("_");if(o||u)throw dt(t,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case _e.BASE64URL:{const o=-1!==e.indexOf("+"),u=-1!==e.indexOf("/");if(o||u)throw dt(t,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let i;try{i=function kr(t){if(typeof atob>"u")throw function vr(t){return new K(J.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(t)}(e)}catch(o){throw o.message.includes("polyfill")?o:dt(t,"Invalid character found")}const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r}class Tn{constructor(e){this.base64=!1,this.contentType=null;const i=e.match(/^data:([^,]+)?,/);if(null===i)throw dt(_e.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=i[1]||null;null!=r&&(this.base64=function Hr(t,e){return t.length>=e.length&&t.substring(t.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class Ce{constructor(e,i){let r=0,o="";vn(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(i?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(i?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,i){if(vn(this.data_)){const o=function Pr(t,e,i){return t.webkitSlice?t.webkitSlice(e,i):t.mozSlice?t.mozSlice(e,i):t.slice?t.slice(e,i):null}(this.data_,e,i);return null===o?null:new Ce(o)}{const r=new Uint8Array(this.data_.buffer,e,i-e);return new Ce(r,!0)}}static getBlob(...e){if(Bt()){const i=e.map(r=>r instanceof Ce?r.data_:r);return new Ce(Or.apply(null,i))}{const i=e.map(p=>_t(p)?function yn(t,e){switch(t){case _e.RAW:return new Ft(En(e));case _e.BASE64:case _e.BASE64URL:return new Ft(Sn(t,e));case _e.DATA_URL:return new Ft(function Nr(t){const e=new Tn(t);return e.base64?Sn(_e.BASE64,e.rest):function Ur(t){let e;try{e=decodeURIComponent(t)}catch{throw dt(_e.DATA_URL,"Malformed data URL.")}return En(e)}(e.rest)}(e),function Lr(t){return new Tn(t).contentType}(e))}throw Lt()}(_e.RAW,p).data:p.data_);let r=0;i.forEach(p=>{r+=p.byteLength});const o=new Uint8Array(r);let u=0;return i.forEach(p=>{for(let w=0;w<p.length;w++)o[u++]=p[w]}),new Ce(o,!0)}}uploadData(){return this.data_}}function zt(t){let e;try{e=JSON.parse(t)}catch{return null}return function wr(t){return"object"==typeof t&&!Array.isArray(t)}(e)?e:null}function wn(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function Fr(t,e){return e}class de{constructor(e,i,r,o){this.server=e,this.local=i||e,this.writable=!!r,this.xform=o||Fr}}let yt=null;function ht(){if(yt)return yt;const t=[];t.push(new de("bucket")),t.push(new de("generation")),t.push(new de("metageneration")),t.push(new de("name","fullPath",!0));const i=new de("name");i.xform=function e(u,p){return function zr(t){return!_t(t)||t.length<2?t:wn(t)}(p)},t.push(i);const o=new de("size");return o.xform=function r(u,p){return void 0!==p?Number(p):p},t.push(o),t.push(new de("timeCreated")),t.push(new de("updated")),t.push(new de("md5Hash",null,!0)),t.push(new de("cacheControl",null,!0)),t.push(new de("contentDisposition",null,!0)),t.push(new de("contentEncoding",null,!0)),t.push(new de("contentLanguage",null,!0)),t.push(new de("contentType",null,!0)),t.push(new de("metadata","customMetadata",!0)),yt=t,yt}function Rn(t,e,i){const r=zt(e);return null===r?null:function $r(t,e,i){const r={type:"file"},o=i.length;for(let u=0;u<o;u++){const p=i[u];r[p.local]=p.xform(r,e[p.server])}return function jr(t,e){Object.defineProperty(t,"ref",{get:function i(){const u=new ce(t.bucket,t.fullPath);return e._makeStorageReference(u)}})}(r,t),r}(t,r,i)}class Se{constructor(e,i,r,o){this.url=e,this.method=i,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Te(t){if(!t)throw Lt()}function tt(t){return function e(i,r){let o;return o=401===i.getStatus()?i.getErrorText().includes("Firebase App Check token is invalid")?function dr(){return new K(J.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function cr(){return new K(J.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===i.getStatus()?function lr(t){return new K(J.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(t.bucket):403===i.getStatus()?function ur(t){return new K(J.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}(t.path):r,o.status=i.getStatus(),o.serverResponse=r.serverResponse,o}}function ft(t){const e=tt(t);return function i(r,o){let u=e(r,o);return 404===r.getStatus()&&(u=function ar(t){return new K(J.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}(t.path)),u.serverResponse=o.serverResponse,u}}function Mn(t,e,i,r,o){const u=e.bucketOnlyServerUrl(),p={"X-Goog-Upload-Protocol":"multipart"},T=function w(){let le="";for(let se=0;se<2;se++)le+=Math.random().toString().slice(2);return le}();p["Content-Type"]="multipart/related; boundary="+T;const O=function An(t,e,i){const r=Object.assign({},i);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function es(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}(e,r,o),B=function jt(t,e){const i={},r=e.length;for(let o=0;o<r;o++){const u=e[o];u.writable&&(i[u.server]=t[u.local])}return JSON.stringify(i)}(O,i),Q=Ce.getBlob("--"+T+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+B+"\r\n--"+T+"\r\nContent-Type: "+O.contentType+"\r\n\r\n",r,"\r\n--"+T+"--");if(null===Q)throw function gn(){return new K(J.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}();const te={name:O.fullPath},me=Ie(u,t.host,t._protocol),xe=t.maxUploadRetryTime,Ae=new Se(me,"POST",function Et(t,e){return function i(r,o){const u=Rn(t,o,e);return Te(null!==u),u}}(t,i),xe);return Ae.urlParams=te,Ae.headers=p,Ae.body=Q.uploadData(),Ae.errorHandler=tt(e),Ae}let Pn=null;class ss{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=et.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=et.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=et.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,i,r,o){if(this.sent_)throw ut("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(i,e,!0),void 0!==o)for(const u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ut("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ut("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ut("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ut("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class os extends ss{initXhr(){this.xhr_.responseType="text"}}function be(){return Pn?Pn():new os}class Fe{constructor(e,i){this._service=e,this._location=i instanceof ce?i:ce.makeFromUrl(i,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,i){return new Fe(e,i)}get root(){const e=new ce(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return wn(this._location.path)}get storage(){return this._service}get parent(){const e=function Br(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;const i=new ce(this._location.bucket,e);return new Fe(this._service,i)}_throwIfRoot(e){if(""===this._location.path)throw function _r(t){return new K(J.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function bs(t){t._throwIfRoot("getDownloadURL");const e=function Jr(t,e,i){const o=Ie(e.fullServerUrl(),t.host,t._protocol),p=t.maxOperationRetryTime,w=new Se(o,"GET",function Yr(t,e){return function i(r,o){const u=Rn(t,o,e);return Te(null!==u),function qr(t,e,i,r){const o=zt(e);if(null===o||!_t(o.downloadTokens))return null;const u=o.downloadTokens;if(0===u.length)return null;const p=encodeURIComponent;return u.split(",").map(O=>{const U=t.fullPath;return Ie("/b/"+p(t.bucket)+"/o/"+p(U),i,r)+_n({alt:"media",token:O})})[0]}(u,o,t.host,t._protocol)}}(t,i),p);return w.errorHandler=ft(e),w}(t.storage,t._location,ht());return t.storage.makeRequestWithTokens(e,be).then(i=>{if(null===i)throw function mr(){return new K(J.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return i})}function Hn(t,e){if(t instanceof Wt){const i=t;if(null==i._bucket)throw function pr(){return new K(J.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+hn+"' property when initializing the app?")}();const r=new Fe(i,i._bucket);return null!=e?Hn(r,e):r}return void 0!==e?function Ln(t,e){const i=function Zr(t,e){const i=e.split("/").filter(r=>r.length>0).join("/");return 0===t.length?i:t+"/"+i}(t._location.path,e),r=new ce(t._location.bucket,i);return new Fe(t.storage,r)}(t,e):t}function Bn(t,e){const i=e?.[hn];return null==i?null:ce.makeFromBucketSpec(i,t)}class Wt{constructor(e,i,r,o,u){this.app=e,this._authProvider=i,this._appCheckProvider=r,this._url=o,this._firebaseVersion=u,this._bucket=null,this._host=un,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=o?ce.makeFromBucketSpec(o,this._host):Bn(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?ce.makeFromBucketSpec(this._url,e):Bn(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Zt("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Zt("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,k.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const i=e._authProvider.getImmediate({optional:!0});if(i){const r=yield i.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,k.Z)(function*(){const i=e._appCheckProvider.getImmediate({optional:!0});return i?(yield i.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Fe(this,e)}_makeRequest(e,i,r,o,u=!0){if(this._deleted)return new br(mn());{const p=function Ar(t,e,i,r,o,u,p=!0){const w=_n(t.urlParams),T=t.url+w,O=Object.assign({},t.headers);return function Cr(t,e){e&&(t["X-Firebase-GMPID"]=e)}(O,e),function Dr(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(O,i),function Ir(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(O,u),function xr(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(O,r),new Rr(T,t.method,O,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,o,p)}(e,this._appId,r,o,i,this._firebaseVersion,u);return this._requests.add(p),p.getPromise().then(()=>this._requests.delete(p),()=>this._requests.delete(p)),p}}makeRequestWithTokens(e,i){var r=this;return(0,k.Z)(function*(){const[o,u]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,i,o,u).getPromise()})()}}const Zn="@firebase/storage",zn="storage";function jn(t,e){return function Ts(t,e){if(e&&function Es(t){return/^[A-Za-z]+:\/\//.test(t)}(e)){if(t instanceof Wt)return function Ss(t,e){return new Fe(t,e)}(t,e);throw Ht("To use ref(service, url), the first argument must be a Storage instance.")}return Hn(t,e)}(t=at(t),e)}function As(t,{instanceIdentifier:e}){const i=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new Wt(i,r,o,e,"10.1.0")}!function Ms(){vt(new lt(zn,As,"PUBLIC").setMultipleInstances(!0)),Qe(Zn,"0.11.2",""),Qe(Zn,"0.11.2","esm2017")}(),Qe("firebase","10.1.0","app");var ks=C(7065),$n=C(2208),Us=C(5879);const qn=function Cs(t=function Gi(t=gt){const e=Ze.get(t);if(!e&&t===gt&&ae())return sn();if(!e)throw De.create("no-app",{appName:t});return e}(),e){const r=function rn(t,e){const i=t.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),t.container.getProvider(e)}(t=at(t),zn).getImmediate({identifier:e}),o=(t=>{const e=(t=>{var e,i;return null===(i=null===(e=ye())||void 0===e?void 0:e.emulatorHosts)||void 0===i?void 0:i[t]})(t);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return"["===e[0]?[e.substring(1,i-1),r]:[e.substring(0,i),r]})("storage");return o&&function xs(t,e,i,r={}){!function ws(t,e,i,r={}){t.host=`${e}:${i}`,t._protocol="http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken="string"==typeof o?o:function Ne(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",o=t.iat||0,u=t.sub||t.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},t);return[L(JSON.stringify({alg:"none",type:"JWT"})),L(JSON.stringify(p)),""].join(".")}(o,t.app.options.projectId))}(t,e,i,r)}(r,...o),r}(sn(ks.qe));let Ls=(()=>{var t;class e{constructor(){}onUploadFirebase(r,o,u=$n.t.documents){return(0,k.Z)(function*(){const p=jn(qn,`${u}/${o}`);return yield function Rs(t,e,i){return function kn(t,e,i){t._throwIfRoot("uploadBytes");const r=Mn(t.storage,t._location,ht(),new Ce(e,!0),i);return t.storage.makeRequestWithTokens(r,be).then(o=>({metadata:o,ref:t}))}(t=at(t),e,i)}(p,r),function Ds(t){return bs(t=at(t))}(p)})()}onDeleteFirebase(r,o=$n.t.documents){return function Is(t){return function ys(t){t._throwIfRoot("deleteObject");const e=function Qr(t,e){const r=Ie(e.fullServerUrl(),t.host,t._protocol),w=new Se(r,"DELETE",function p(T,O){},t.maxOperationRetryTime);return w.successCodes=[200,204],w.errorHandler=ft(e),w}(t.storage,t._location);return t.storage.makeRequestWithTokens(e,be)}(t=at(t))}(jn(qn,`${o}/${r}`))}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Us.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})()},907:(fe,Y,C)=>{C.d(Y,{g:()=>j});var k=C(9862),n=C(5879),m=C(7065);const W="/nomenclature";let j=(()=>{var A;class F{constructor(){this._http=(0,n.f3M)(k.eN)}onGetMenuActions(x="",L=0,z=0){let Z=`page=${L}`;return Z+=`&filter=${x}`,Z+=`&limit=${z}`,this._http.get(m.fR+`${W}/menu?${Z}`)}onGetCallType(){return this._http.get(m.fR+`${W}/call-type`)}onGetContactType(){return this._http.get(m.fR+`${W}/contact-type`)}}return(A=F).\u0275fac=function(x){return new(x||A)},A.\u0275prov=n.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),F})()},2049:(fe,Y,C)=>{C.d(Y,{e:()=>n});var k=C(5879);let n=(()=>{var m;class W{constructor(){}getPager(A,F=1,N=5){const x=Math.ceil(A/N);let L,z;F<1?F=1:F>x&&(F=x),x<=10?(L=1,z=x):F<10?(L=1,z=x<10?x:10):F+4>=x?(L=x-9,z=x):(L=F-5,z=F+4);const Z=(F-1)*N,$=Math.min(Z+N-1,A-1),ie=Array.from(Array(z+1-L).keys()).map(re=>L+re);return{totalItems:A,currentPage:F,pageSize:N,totalPages:x,startPage:L,endPage:z,startIndex:Z,endIndex:$,pages:ie}}}return(m=W).\u0275fac=function(A){return new(A||m)},m.\u0275prov=k.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),W})()},972:(fe,Y,C)=>{C.d(Y,{u:()=>W});var k=C(5879),n=C(6903);const m=["chart"];let W=(()=>{var j;class A{constructor(){this.chartOptions={series:[{name:"Inflation",data:[0,0,0,0,0,0,0,0,0,0,0,0]}],chart:{type:"bar",height:350},plotOptions:{bar:{dataLabels:{position:"top"}}},dataLabels:{enabled:!0,formatter:function(N){return N+"%"},offsetY:-20,style:{fontSize:"12px",colors:["#304758"]}},xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],position:"bottom",labels:{offsetY:5},axisBorder:{show:!1},axisTicks:{show:!1},crosshairs:{fill:{type:"gradient",gradient:{colorFrom:"#f06548",colorTo:"#f06548",stops:[0,100],opacityFrom:.4,opacityTo:.5}}},tooltip:{enabled:!0,offsetY:-35}},fill:{colors:["#f06548"],type:"gradient",gradient:{shade:"light",type:"horizontal",shadeIntensity:.25,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:.9,stops:[20,30,40,80]}},yaxis:{axisBorder:{show:!0},axisTicks:{show:!0},labels:{show:!0,formatter:function(N){return N+"%"}}},title:{offsetX:-10,align:"left",style:{color:"#000"}}}}}return(j=A).\u0275fac=function(N){return new(N||j)},j.\u0275cmp=k.Xpm({type:j,selectors:[["app-chart-bar-widget"]],viewQuery:function(N,x){if(1&N&&k.Gf(m,5),2&N){let L;k.iGM(L=k.CRH())&&(x.chart=L.first)}},decls:2,vars:8,consts:[["id","chart"],[3,"series","chart","dataLabels","plotOptions","yaxis","xaxis","fill","title"]],template:function(N,x){1&N&&(k.TgZ(0,"div",0),k._UZ(1,"apx-chart",1),k.qZA()),2&N&&(k.xp6(1),k.Q6J("series",x.chartOptions.series)("chart",x.chartOptions.chart)("dataLabels",x.chartOptions.dataLabels)("plotOptions",x.chartOptions.plotOptions)("yaxis",x.chartOptions.yaxis)("xaxis",x.chartOptions.xaxis)("fill",x.chartOptions.fill)("title",x.chartOptions.title))},dependencies:[n.x],styles:["#chart[_ngcontent-%COMP%]{min-height:380px}"]}),A})()},4004:(fe,Y,C)=>{C.d(Y,{Z:()=>z});const n={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let m;const W=new Uint8Array(16);function j(){if(!m&&(m=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!m))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return m(W)}const A=[];for(let Z=0;Z<256;++Z)A.push((Z+256).toString(16).slice(1));const z=function L(Z,$,ie){if(n.randomUUID&&!$&&!Z)return n.randomUUID();const re=(Z=Z||{}).random||(Z.rng||j)();if(re[6]=15&re[6]|64,re[8]=63&re[8]|128,$){ie=ie||0;for(let he=0;he<16;++he)$[ie+he]=re[he];return $}return function F(Z,$=0){return(A[Z[$+0]]+A[Z[$+1]]+A[Z[$+2]]+A[Z[$+3]]+"-"+A[Z[$+4]]+A[Z[$+5]]+"-"+A[Z[$+6]]+A[Z[$+7]]+"-"+A[Z[$+8]]+A[Z[$+9]]+"-"+A[Z[$+10]]+A[Z[$+11]]+A[Z[$+12]]+A[Z[$+13]]+A[Z[$+14]]+A[Z[$+15]]).toLowerCase()}(re)}},1949:(fe,Y,C)=>{C.d(Y,{Z:()=>Le});var k=C(7882),n=C(2711),m=C(4354);function j(D,d){let g=[];for(let h=0;h<d;h+=1)g[h]=[];for(let h of D)g[h.row].push(h);return g}function A(D,d){let g=[];for(let h=0;h<d;h+=1)g[h]=[];for(let h of D)g[h.firstCol].push(h);return g}function F(D,d){let g=[];if(D){for(let h=0;h<d;h+=1)g[h]={affectedInstances:D.affectedInstances,isEvent:D.isEvent,segs:[]};for(let h of D.segs)g[h.row].segs.push(h)}else for(let h=0;h<d;h+=1)g[h]=null;return g}(0,n.cw)(':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}');const N=(0,n.x)({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function x(D){let{display:d}=D.eventRange.ui;return"list-item"===d||"auto"===d&&!D.eventRange.def.allDay&&D.firstCol===D.lastCol&&D.isStart&&D.isEnd}class L extends n.B{render(){let{props:d}=this;return(0,m.az)(n.cj,Object.assign({},d,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:N,defaultDisplayEventEnd:d.defaultDisplayEventEnd,disableResizing:!d.seg.eventRange.def.allDay}))}}class z extends n.B{render(){let{props:d,context:g}=this,{options:h}=g,{seg:S}=d,a=(0,n.bQ)(S,h.eventTimeFormat||N,g,!0,d.defaultDisplayEventEnd);return(0,m.az)(n.cn,Object.assign({},d,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:(0,n.bU)(d.seg,g),defaultGenerator:Z,timeText:a,isResizing:!1,isDateSelecting:!1}))}}function Z(D){return(0,m.az)(m.HY,null,(0,m.az)("div",{className:"fc-daygrid-event-dot",style:{borderColor:D.borderColor||D.backgroundColor}}),D.timeText&&(0,m.az)("div",{className:"fc-event-time"},D.timeText),(0,m.az)("div",{className:"fc-event-title"},D.event.title||(0,m.az)(m.HY,null,"\xa0")))}class $ extends n.B{constructor(){super(...arguments),this.compileSegs=(0,n.z)(ie)}render(){let{props:d}=this,{allSegs:g,invisibleSegs:h}=this.compileSegs(d.singlePlacements);return(0,m.az)(n.cr,{elClasses:["fc-daygrid-more-link"],dateProfile:d.dateProfile,todayRange:d.todayRange,allDayDate:d.allDayDate,moreCnt:d.moreCnt,allSegs:g,hiddenSegs:h,alignmentElRef:d.alignmentElRef,alignGridTop:d.alignGridTop,extraDateSpan:d.extraDateSpan,popoverContent:()=>{let S=(d.eventDrag?d.eventDrag.affectedInstances:null)||(d.eventResize?d.eventResize.affectedInstances:null)||{};return(0,m.az)(m.HY,null,g.map(v=>{let a=v.eventRange.instance.instanceId;return(0,m.az)("div",{className:"fc-daygrid-event-harness",key:a,style:{visibility:S[a]?"hidden":""}},x(v)?(0,m.az)(z,Object.assign({seg:v,isDragging:!1,isSelected:a===d.eventSelection,defaultDisplayEventEnd:!1},(0,n.bS)(v,d.todayRange))):(0,m.az)(L,Object.assign({seg:v,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:a===d.eventSelection,defaultDisplayEventEnd:!1},(0,n.bS)(v,d.todayRange))))}))}})}}function ie(D){let d=[],g=[];for(let h of D)d.push(h.seg),h.isVisible||g.push(h.seg);return{allSegs:d,invisibleSegs:g}}const re=(0,n.x)({week:"narrow"});class he extends n.be{constructor(){super(...arguments),this.rootElRef=(0,m.Vf)(),this.state={dayNumberId:(0,n.a5)()},this.handleRootEl=d=>{(0,n.Y)(this.rootElRef,d),(0,n.Y)(this.props.elRef,d)}}render(){let{context:d,props:g,state:h,rootElRef:S}=this,{options:v,dateEnv:a}=d,{date:s,dateProfile:l}=g;const c=g.showDayNumber&&function oe(D,d,g){const{start:h,end:S}=d,v=(0,n.bg)(S,-1),a=g.getYear(h),s=g.getMonth(h),l=g.getYear(v),c=g.getMonth(v);return!(a===l&&s===c)&&(D.valueOf()===h.valueOf()||1===g.getDay(D)&&D.valueOf()<S.valueOf())}(s,l.currentRange,a);return(0,m.az)(n.cl,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...g.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},g.extraDataAttrs),g.showDayNumber?{"aria-labelledby":h.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:we,date:s,dateProfile:l,todayRange:g.todayRange,showDayNumber:g.showDayNumber,isMonthStart:c,extraRenderProps:g.extraRenderProps},(f,b)=>(0,m.az)("div",{ref:g.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:g.minHeight}},g.showWeekNumber&&(0,m.az)(n.cq,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:(0,n.b0)(d,s,"week"),date:s,defaultFormat:re}),!b.isDisabled&&(g.showDayNumber||(0,n.cm)(v)||g.forceDayTop)?(0,m.az)("div",{className:"fc-daygrid-day-top"},(0,m.az)(f,{elTag:"a",elClasses:["fc-daygrid-day-number",c&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},(0,n.b0)(d,s)),{id:h.dayNumberId})})):g.showDayNumber?(0,m.az)("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},(0,m.az)("a",{className:"fc-daygrid-day-number"},"\xa0")):void 0,(0,m.az)("div",{className:"fc-daygrid-day-events",ref:g.fgContentElRef},g.fgContent,(0,m.az)("div",{className:"fc-daygrid-day-bottom",style:{marginTop:g.moreMarginTop}},(0,m.az)($,{allDayDate:s,singlePlacements:g.singlePlacements,moreCnt:g.moreCnt,alignmentElRef:S,alignGridTop:!g.showDayNumber,extraDateSpan:g.extraDateSpan,dateProfile:g.dateProfile,eventSelection:g.eventSelection,eventDrag:g.eventDrag,eventResize:g.eventResize,todayRange:g.todayRange}))),(0,m.az)("div",{className:"fc-daygrid-day-bg"},g.bgContent)))}}function we(D){return D.dayNumberText||(0,m.az)(m.HY,null,"\xa0")}function ae(D,d,g,h){if(D.firstCol===d&&D.lastCol===g-1)return D;let S=D.eventRange,v=S.range,a=(0,n.o)(v,{start:h[d].date,end:(0,n.t)(h[g-1].date,1)});return Object.assign(Object.assign({},D),{firstCol:d,lastCol:g-1,eventRange:{def:S.def,ui:Object.assign(Object.assign({},S.ui),{durationEditable:!1}),instance:S.instance,range:a},isStart:D.isStart&&a.start.valueOf()===v.start.valueOf(),isEnd:D.isEnd&&a.end.valueOf()===v.end.valueOf()})}class Me extends n.bA{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(d){const g=super.addSegs(d),{entriesByLevel:h}=this,S=v=>!this.forceHidden[(0,n.bB)(v)];for(let v=0;v<h.length;v+=1)h[v]=h[v].filter(S);return g}handleInvalidInsertion(d,g,h){const{entriesByLevel:S,forceHidden:v}=this,{touchingEntry:a,touchingLevel:s,touchingLateral:l}=d;if(this.hiddenConsumes&&a){const c=(0,n.bB)(a);if(!v[c])if(this.allowReslicing){const f=Object.assign(Object.assign({},a),{span:(0,n.bF)(a.span,g.span)});v[(0,n.bB)(f)]=!0,S[s][l]=f,this.splitEntry(a,g,h)}else v[c]=!0,h.push(a)}return super.handleInvalidInsertion(d,g,h)}}class Re extends n.be{constructor(){super(...arguments),this.cellElRefs=new n.cf,this.frameElRefs=new n.cf,this.fgElRefs=new n.cf,this.segHarnessRefs=new n.cf,this.rootElRef=(0,m.Vf)(),this.state={framePositions:null,maxContentHeight:null,eventInstanceHeights:{}},this.handleResize=d=>{d&&this.updateSizing(!0)}}render(){let{props:d,state:g,context:h}=this,{options:S}=h,v=d.cells.length,a=A(d.businessHourSegs,v),s=A(d.bgEventSegs,v),l=A(this.getHighlightSegs(),v),c=A(this.getMirrorSegs(),v),{singleColPlacements:f,multiColPlacements:b,moreCnts:E,moreMarginTops:_}=function ye(D,d,g,h,S,v,a){let s=new Me;s.allowReslicing=!0,s.strictOrder=h,!0===d||!0===g?(s.maxCoord=v,s.hiddenConsumes=!0):"number"==typeof d?s.maxStackCnt=d:"number"==typeof g&&(s.maxStackCnt=g,s.hiddenConsumes=!0);let l=[],c=[];for(let M=0;M<D.length;M+=1){let P=D[M],{instanceId:H}=P.eventRange.instance,q=S[H];null!=q?l.push({index:M,thickness:q,span:{start:P.firstCol,end:P.lastCol+1}}):c.push(P)}let f=s.addSegs(l),b=s.toRects(),{singleColPlacements:E,multiColPlacements:_,leftoverMargins:y}=function Ue(D,d,g){let h=function ve(D,d){let g=[];for(let h=0;h<d;h+=1)g.push([]);for(let h of D)for(let S=h.span.start;S<h.span.end;S+=1)g[S].push(h);return g}(D,g.length),S=[],v=[],a=[];for(let s=0;s<g.length;s+=1){let l=h[s],c=[],f=0,b=0;for(let _ of l)c.push({seg:ae(d[_.index],s,s+1,g),isVisible:!0,isAbsolute:!1,absoluteTop:_.levelCoord,marginTop:_.levelCoord-f}),f=_.levelCoord+_.thickness;let E=[];f=0,b=0;for(let _ of l){let y=d[_.index],I=_.span.start===s;b+=_.levelCoord-f,f=_.levelCoord+_.thickness,_.span.end-_.span.start>1?(b+=_.thickness,I&&E.push({seg:ae(y,_.span.start,_.span.end,g),isVisible:!0,isAbsolute:!0,absoluteTop:_.levelCoord,marginTop:0})):I&&(E.push({seg:ae(y,_.span.start,_.span.end,g),isVisible:!0,isAbsolute:!1,absoluteTop:_.levelCoord,marginTop:b}),b=0)}S.push(c),v.push(E),a.push(b)}return{singleColPlacements:S,multiColPlacements:v,leftoverMargins:a}}(b,D,a),R=[],I=[];for(let M of c){_[M.firstCol].push({seg:M,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let P=M.firstCol;P<=M.lastCol;P+=1)E[P].push({seg:ae(M,P,P+1,a),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let M=0;M<a.length;M+=1)R.push(0);for(let M of f){let P=D[M.index],H=M.span;_[H.start].push({seg:ae(P,H.start,H.end,a),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let q=H.start;q<H.end;q+=1)R[q]+=1,E[q].push({seg:ae(P,q,q+1,a),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let M=0;M<a.length;M+=1)I.push(y[M]);return{singleColPlacements:E,multiColPlacements:_,moreCnts:R,moreMarginTops:I}}((0,n.bR)(d.fgEventSegs,S.eventOrder),d.dayMaxEvents,d.dayMaxEventRows,S.eventOrderStrict,g.eventInstanceHeights,g.maxContentHeight,d.cells),y=d.eventDrag&&d.eventDrag.affectedInstances||d.eventResize&&d.eventResize.affectedInstances||{};return(0,m.az)("tr",{ref:this.rootElRef,role:"row"},d.renderIntro&&d.renderIntro(),d.cells.map((R,I)=>{let M=this.renderFgSegs(I,d.forPrint?f[I]:b[I],d.todayRange,y),P=this.renderFgSegs(I,function Ne(D,d){if(!D.length)return[];let g=function pe(D){let d={};for(let g of D)for(let h of g)d[h.seg.eventRange.instance.instanceId]=h.absoluteTop;return d}(d);return D.map(h=>({seg:h,isVisible:!0,isAbsolute:!0,absoluteTop:g[h.eventRange.instance.instanceId],marginTop:0}))}(c[I],b),d.todayRange,{},!!d.eventDrag,!!d.eventResize,!1);return(0,m.az)(he,{key:R.key,elRef:this.cellElRefs.createRef(R.key),innerElRef:this.frameElRefs.createRef(R.key),dateProfile:d.dateProfile,date:R.date,showDayNumber:d.showDayNumbers,showWeekNumber:d.showWeekNumbers&&0===I,forceDayTop:d.showWeekNumbers,todayRange:d.todayRange,eventSelection:d.eventSelection,eventDrag:d.eventDrag,eventResize:d.eventResize,extraRenderProps:R.extraRenderProps,extraDataAttrs:R.extraDataAttrs,extraClassNames:R.extraClassNames,extraDateSpan:R.extraDateSpan,moreCnt:E[I],moreMarginTop:_[I],singlePlacements:f[I],fgContentElRef:this.fgElRefs.createRef(R.key),fgContent:(0,m.az)(m.HY,null,(0,m.az)(m.HY,null,M),(0,m.az)(m.HY,null,P)),bgContent:(0,m.az)(m.HY,null,this.renderFillSegs(l[I],"highlight"),this.renderFillSegs(a[I],"non-business"),this.renderFillSegs(s[I],"bg-event")),minHeight:d.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(d,g){this.updateSizing(!(0,n.E)(d,this.props))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:d}=this;return d.eventDrag&&d.eventDrag.segs.length?d.eventDrag.segs:d.eventResize&&d.eventResize.segs.length?d.eventResize.segs:d.dateSelectionSegs}getMirrorSegs(){let{props:d}=this;return d.eventResize&&d.eventResize.segs.length?d.eventResize.segs:[]}renderFgSegs(d,g,h,S,v,a,s){let{context:l}=this,{eventSelection:c}=this.props,{framePositions:f}=this.state,b=1===this.props.cells.length,E=v||a||s,_=[];if(f)for(let y of g){let{seg:R}=y,{instanceId:I}=R.eventRange.instance,M=I+":"+d,P=y.isVisible&&!S[I],H=y.isAbsolute,q="",ee="";H&&(l.isRtl?(ee=0,q=f.lefts[R.lastCol]-f.lefts[R.firstCol]):(q=0,ee=f.rights[R.firstCol]-f.rights[R.lastCol])),_.push((0,m.az)("div",{className:"fc-daygrid-event-harness"+(H?" fc-daygrid-event-harness-abs":""),key:M,ref:E?null:this.segHarnessRefs.createRef(M),style:{visibility:P?"":"hidden",marginTop:H?"":y.marginTop,top:H?y.absoluteTop:"",left:q,right:ee}},x(R)?(0,m.az)(z,Object.assign({seg:R,isDragging:v,isSelected:I===c,defaultDisplayEventEnd:b},(0,n.bS)(R,h))):(0,m.az)(L,Object.assign({seg:R,isDragging:v,isResizing:a,isDateSelecting:s,isSelected:I===c,defaultDisplayEventEnd:b},(0,n.bS)(R,h)))))}return _}renderFillSegs(d,g){let{isRtl:h}=this.context,{todayRange:S}=this.props,{framePositions:v}=this.state,a=[];if(v)for(let s of d){let l=h?{right:0,left:v.lefts[s.lastCol]-v.lefts[s.firstCol]}:{left:0,right:v.rights[s.firstCol]-v.rights[s.lastCol]};a.push((0,m.az)("div",{key:(0,n.bT)(s.eventRange),className:"fc-daygrid-bg-harness",style:l},"bg-event"===g?(0,m.az)(n.cp,Object.assign({seg:s},(0,n.bS)(s,S))):(0,n.co)(g)))}return(0,m.az)(m.HY,{},...a)}updateSizing(d){let{props:g,state:h,frameElRefs:S}=this;if(!g.forPrint&&null!==g.clientWidth){if(d){let l=g.cells.map(c=>S.currentMap[c.key]);if(l.length){let c=this.rootElRef.current,f=new n.ba(c,l,!0,!1);(!h.framePositions||!h.framePositions.similarTo(f))&&this.setState({framePositions:new n.ba(c,l,!0,!1)})}}const v=this.state.eventInstanceHeights,a=this.queryEventInstanceHeights(),s=!0===g.dayMaxEvents||!0===g.dayMaxEventRows;this.safeSetState({eventInstanceHeights:Object.assign(Object.assign({},v),a),maxContentHeight:s?this.computeMaxContentHeight():null})}}queryEventInstanceHeights(){let d=this.segHarnessRefs.currentMap,g={};for(let h in d){let S=Math.round(d[h].getBoundingClientRect().height),v=h.split(":")[0];g[v]=Math.max(g[v]||0,S)}return g}computeMaxContentHeight(){let d=this.props.cells[0].key,h=this.fgElRefs.currentMap[d];return this.cellElRefs.currentMap[d].getBoundingClientRect().bottom-h.getBoundingClientRect().top}getCellEls(){let d=this.cellElRefs.currentMap;return this.props.cells.map(g=>d[g.key])}}Re.addStateEquality({eventInstanceHeights:n.E});class ze extends n.be{constructor(){super(...arguments),this.splitBusinessHourSegs=(0,n.z)(j),this.splitBgEventSegs=(0,n.z)(j),this.splitFgEventSegs=(0,n.z)(j),this.splitDateSelectionSegs=(0,n.z)(j),this.splitEventDrag=(0,n.z)(F),this.splitEventResize=(0,n.z)(F),this.rowRefs=new n.cf}render(){let{props:d,context:g}=this,h=d.cells.length,S=this.splitBusinessHourSegs(d.businessHourSegs,h),v=this.splitBgEventSegs(d.bgEventSegs,h),a=this.splitFgEventSegs(d.fgEventSegs,h),s=this.splitDateSelectionSegs(d.dateSelectionSegs,h),l=this.splitEventDrag(d.eventDrag,h),c=this.splitEventResize(d.eventResize,h),f=h>=7&&d.clientWidth?d.clientWidth/g.options.aspectRatio/6:null;return(0,m.az)(n.ch,{unit:"day"},(b,E)=>(0,m.az)(m.HY,null,d.cells.map((_,y)=>(0,m.az)(Re,{ref:this.rowRefs.createRef(y),key:_.length?_[0].date.toISOString():y,showDayNumbers:h>1,showWeekNumbers:d.showWeekNumbers,todayRange:E,dateProfile:d.dateProfile,cells:_,renderIntro:d.renderRowIntro,businessHourSegs:S[y],eventSelection:d.eventSelection,bgEventSegs:v[y].filter(Oe),fgEventSegs:a[y],dateSelectionSegs:s[y],eventDrag:l[y],eventResize:c[y],dayMaxEvents:d.dayMaxEvents,dayMaxEventRows:d.dayMaxEventRows,clientWidth:d.clientWidth,clientHeight:d.clientHeight,cellMinHeight:f,forPrint:d.forPrint}))))}componentDidMount(){const d=this.rowRefs.currentMap[0].getCellEls()[0];this.rootEl=d?d.closest(".fc-daygrid-body"):null,this.rootEl&&this.context.registerInteractiveComponent(this,{el:this.rootEl,isHitComboAllowed:this.props.isHitComboAllowed})}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new n.ba(this.rootEl,this.rowRefs.collect().map(d=>d.getCellEls()[0]),!1,!0),this.colPositions=new n.ba(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(d,g){let{colPositions:h,rowPositions:S}=this,v=h.leftToIndex(d),a=S.topToIndex(g);if(null!=a&&null!=v){let s=this.props.cells[a][v];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(a,v),allDay:!0},s.extraDateSpan),dayEl:this.getCellEl(a,v),rect:{left:h.lefts[v],right:h.rights[v],top:S.tops[a],bottom:S.bottoms[a]},layer:0}}return null}getCellEl(d,g){return this.rowRefs.currentMap[d].getCellEls()[g]}getCellRange(d,g){let h=this.props.cells[d][g].date;return{start:h,end:(0,n.t)(h,1)}}}function Oe(D){return D.eventRange.def.allDay}class ge extends n.be{constructor(){super(...arguments),this.elRef=(0,m.Vf)(),this.needsScrollReset=!1}render(){let{props:d}=this,{dayMaxEventRows:g,dayMaxEvents:h,expandRows:S}=d,v=!0===h||!0===g;return v&&!S&&(v=!1,g=null,h=null),(0,m.az)("div",{ref:this.elRef,className:["fc-daygrid-body",v?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",S?"":"fc-daygrid-body-natural"].join(" "),style:{width:d.clientWidth,minWidth:d.tableMinWidth}},(0,m.az)("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:d.clientWidth,minWidth:d.tableMinWidth,height:S?d.clientHeight:""}},d.colGroupNode,(0,m.az)("tbody",{role:"presentation"},(0,m.az)(ze,{dateProfile:d.dateProfile,cells:d.cells,renderRowIntro:d.renderRowIntro,showWeekNumbers:d.showWeekNumbers,clientWidth:d.clientWidth,clientHeight:d.clientHeight,businessHourSegs:d.businessHourSegs,bgEventSegs:d.bgEventSegs,fgEventSegs:d.fgEventSegs,dateSelectionSegs:d.dateSelectionSegs,eventSelection:d.eventSelection,eventDrag:d.eventDrag,eventResize:d.eventResize,dayMaxEvents:h,dayMaxEventRows:g,forPrint:d.forPrint,isHitComboAllowed:d.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(d){d.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const d=function je(D,d){let g;return d.currentRangeUnit.match(/year|month/)&&(g=D.querySelector(`[data-date="${(0,n.bx)(d.currentDate)}-01"]`)),g||(g=D.querySelector(`[data-date="${(0,n.bv)(d.currentDate)}"]`)),g}(this.elRef.current,this.props.dateProfile);if(d){const g=d.closest(".fc-daygrid-body"),h=g.closest(".fc-scroller"),S=d.getBoundingClientRect().top-g.getBoundingClientRect().top;h.scrollTop=S?S+1:0}this.needsScrollReset=!1}}}class $e extends n.bW{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(d,g){return g.sliceRange(d)}}class qe extends n.be{constructor(){super(...arguments),this.slicer=new $e,this.tableRef=(0,m.Vf)()}render(){let{props:d,context:g}=this;return(0,m.az)(ge,Object.assign({ref:this.tableRef},this.slicer.sliceProps(d,d.dateProfile,d.nextDayThreshold,g,d.dayTableModel),{dateProfile:d.dateProfile,cells:d.dayTableModel.cells,colGroupNode:d.colGroupNode,tableMinWidth:d.tableMinWidth,renderRowIntro:d.renderRowIntro,dayMaxEvents:d.dayMaxEvents,dayMaxEventRows:d.dayMaxEventRows,showWeekNumbers:d.showWeekNumbers,expandRows:d.expandRows,headerAlignElRef:d.headerAlignElRef,clientWidth:d.clientWidth,clientHeight:d.clientHeight,forPrint:d.forPrint}))}}class Ge extends n.be{constructor(){super(...arguments),this.headerElRef=(0,m.Vf)()}renderSimpleLayout(d,g){let{props:h,context:S}=this,v=[],a=(0,n.cc)(S.options);return d&&v.push({type:"header",key:"header",isSticky:a,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:d}}),v.push({type:"body",key:"body",liquid:!0,chunk:{content:g}}),(0,m.az)(n.ct,{elClasses:["fc-daygrid"],viewSpec:S.viewSpec},(0,m.az)(n.b$,{liquid:!h.isHeightAuto&&!h.forPrint,collapsibleWidth:h.forPrint,cols:[],sections:v}))}renderHScrollLayout(d,g,h,S){let v=this.context.pluginHooks.scrollGridImpl;if(!v)throw new Error("No ScrollGrid implementation");let{props:a,context:s}=this,l=!a.forPrint&&(0,n.cc)(s.options),c=!a.forPrint&&(0,n.cb)(s.options),f=[];return d&&f.push({type:"header",key:"header",isSticky:l,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:d}]}),f.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:g}]}),c&&f.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:n.ca}]}),(0,m.az)(n.ct,{elClasses:["fc-daygrid"],viewSpec:s.viewSpec},(0,m.az)(v,{liquid:!a.isHeightAuto&&!a.forPrint,forPrint:a.forPrint,collapsibleWidth:a.forPrint,colGroups:[{cols:[{span:h,minWidth:S}]}],sections:f}))}}function Pe(D,d){let g=new n.bO(D.renderRange,d);return new n.bV(g,/year|month|week/.test(D.currentRangeUnit))}var Le=(0,k.rx)({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:class Ye extends Ge{constructor(){super(...arguments),this.buildDayTableModel=(0,n.z)(Pe),this.headerRef=(0,m.Vf)(),this.tableRef=(0,m.Vf)()}render(){let{options:d,dateProfileGenerator:g}=this.context,{props:h}=this,S=this.buildDayTableModel(h.dateProfile,g),v=d.dayHeaders&&(0,m.az)(n.bK,{ref:this.headerRef,dateProfile:h.dateProfile,dates:S.headerDates,datesRepDistinctDays:1===S.rowCnt}),a=s=>(0,m.az)(qe,{ref:this.tableRef,dateProfile:h.dateProfile,dayTableModel:S,businessHours:h.businessHours,dateSelection:h.dateSelection,eventStore:h.eventStore,eventUiBases:h.eventUiBases,eventSelection:h.eventSelection,eventDrag:h.eventDrag,eventResize:h.eventResize,nextDayThreshold:d.nextDayThreshold,colGroupNode:s.tableColGroupNode,tableMinWidth:s.tableMinWidth,dayMaxEvents:d.dayMaxEvents,dayMaxEventRows:d.dayMaxEventRows,showWeekNumbers:d.weekNumbers,expandRows:!h.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:s.clientWidth,clientHeight:s.clientHeight,forPrint:h.forPrint});return d.dayMinWidth?this.renderHScrollLayout(v,a,S.colCnt,d.dayMinWidth):this.renderSimpleLayout(v,a)}},dateProfileGeneratorClass:class Ve extends n.U{buildRenderRange(d,g,h){let S=super.buildRenderRange(d,g,h),{props:v}=this;return function We(D){let v,{dateEnv:d,currentRange:g}=D,{start:h,end:S}=g;if(D.snapToWeek&&(h=d.startOfWeek(h),v=d.startOfWeek(S),v.valueOf()!==S.valueOf()&&(S=(0,n.bh)(v,1))),D.fixedWeekCount){let a=d.startOfWeek(d.startOfMonth((0,n.t)(g.end,-1))),s=Math.ceil((0,n.bi)(a,S));S=(0,n.bh)(S,6-s)}return{start:h,end:S}}({currentRange:S,snapToWeek:/^(year|month)$/.test(g),fixedWeekCount:v.fixedWeekCount,dateEnv:v.dateEnv})}}},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}})},6111:(fe,Y,C)=>{C.d(Y,{ZP:()=>v});var k=C(7882),n=C(2711);n.bI.touchMouseIgnoreWait=500;let m=0,W=0,j=!1;class A{constructor(s){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=l=>{if(!this.shouldIgnoreMouse()&&function F(a){return 0===a.button&&!a.ctrlKey}(l)&&this.tryStart(l)){let c=this.createEventFromMouse(l,!0);this.emitter.trigger("pointerdown",c),this.initScrollWatch(c),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=l=>{let c=this.createEventFromMouse(l);this.recordCoords(c),this.emitter.trigger("pointermove",c)},this.handleMouseUp=l=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(l)),this.cleanup()},this.handleTouchStart=l=>{if(this.tryStart(l)){this.isTouchDragging=!0;let c=this.createEventFromTouch(l,!0);this.emitter.trigger("pointerdown",c),this.initScrollWatch(c);let f=l.target;this.shouldIgnoreMove||f.addEventListener("touchmove",this.handleTouchMove),f.addEventListener("touchend",this.handleTouchEnd),f.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=l=>{let c=this.createEventFromTouch(l);this.recordCoords(c),this.emitter.trigger("pointermove",c)},this.handleTouchEnd=l=>{if(this.isDragging){let c=l.target;c.removeEventListener("touchmove",this.handleTouchMove),c.removeEventListener("touchend",this.handleTouchEnd),c.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(l)),this.cleanup(),this.isTouchDragging=!1,function N(){m+=1,setTimeout(()=>{m-=1},n.bI.touchMouseIgnoreWait)}()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=l=>{if(!this.shouldIgnoreMove){let c=window.pageXOffset-this.prevScrollX+this.prevPageX,f=window.pageYOffset-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:l,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:c,pageY:f,deltaX:c-this.origPageX,deltaY:f-this.origPageY})}},this.containerEl=s,this.emitter=new n.F,s.addEventListener("mousedown",this.handleMouseDown),s.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),function x(){W+=1,1===W&&window.addEventListener("touchmove",z,{passive:!1})}()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),function L(){W-=1,W||window.removeEventListener("touchmove",z,{passive:!1})}()}tryStart(s){let l=this.querySubjectEl(s);return!(!l||this.handleSelector&&!(0,n.$)(s.target,this.handleSelector)||(this.subjectEl=l,this.isDragging=!0,this.wasTouchScroll=!1,0))}cleanup(){j=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(s){return this.selector?(0,n.$)(s.target,this.selector):this.containerEl}shouldIgnoreMouse(){return m||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(j=!0)}initScrollWatch(s){this.shouldWatchScroll&&(this.recordCoords(s),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(s){this.shouldWatchScroll&&(this.prevPageX=s.pageX,this.prevPageY=s.pageY,this.prevScrollX=window.pageXOffset,this.prevScrollY=window.pageYOffset)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(s,l){let c=0,f=0;return l?(this.origPageX=s.pageX,this.origPageY=s.pageY):(c=s.pageX-this.origPageX,f=s.pageY-this.origPageY),{origEvent:s,isTouch:!1,subjectEl:this.subjectEl,pageX:s.pageX,pageY:s.pageY,deltaX:c,deltaY:f}}createEventFromTouch(s,l){let f,b,c=s.touches,E=0,_=0;return c&&c.length?(f=c[0].pageX,b=c[0].pageY):(f=s.pageX,b=s.pageY),l?(this.origPageX=f,this.origPageY=b):(E=f-this.origPageX,_=b-this.origPageY),{origEvent:s,isTouch:!0,subjectEl:this.subjectEl,pageX:f,pageY:b,deltaX:E,deltaY:_}}}function z(a){j&&a.preventDefault()}class Z{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(s,l,c){this.sourceEl=s,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=l-window.pageXOffset,this.origScreenY=c-window.pageYOffset,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(s,l){this.deltaX=s-window.pageXOffset-this.origScreenX,this.deltaY=l-window.pageYOffset-this.origScreenY,this.updateElPosition()}setIsVisible(s){s?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=s,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=s)}stop(s,l){let c=()=>{this.cleanup(),l()};s&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(c,this.revertDuration):setTimeout(c,0)}doRevertAnimation(s,l){let c=this.mirrorEl,f=this.sourceEl.getBoundingClientRect();c.style.transition="top "+l+"ms,left "+l+"ms",(0,n.aP)(c,{left:f.left,top:f.top}),(0,n.b2)(c,()=>{c.style.transition="",s()})}cleanup(){this.mirrorEl&&((0,n.aO)(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&(0,n.aP)(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let s=this.sourceElRect,l=this.mirrorEl;return l||(l=this.mirrorEl=this.sourceEl.cloneNode(!0),l.style.userSelect="none",l.classList.add("fc-event-dragging"),(0,n.aP)(l,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:s.right-s.left,height:s.bottom-s.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(l)),l}}class $ extends n.bb{constructor(s,l){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=s,this.doesListening=l,this.scrollTop=this.origScrollTop=s.getScrollTop(),this.scrollLeft=this.origScrollLeft=s.getScrollLeft(),this.scrollWidth=s.getScrollWidth(),this.scrollHeight=s.getScrollHeight(),this.clientWidth=s.getClientWidth(),this.clientHeight=s.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(s){this.scrollController.setScrollTop(s),this.doesListening||(this.scrollTop=Math.max(Math.min(s,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(s){this.scrollController.setScrollLeft(s),this.doesListening||(this.scrollLeft=Math.max(Math.min(s,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class ie extends ${constructor(s,l){super(new n.bc(s),l)}getEventTarget(){return this.scrollController.el}computeClientRect(){return(0,n.b3)(this.scrollController.el)}}class re extends ${constructor(s){super(new n.bd,s)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const he="function"==typeof performance?performance.now:Date.now;class we{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let s=this.computeBestEdge(this.pointerScreenX+window.pageXOffset,this.pointerScreenY+window.pageYOffset);if(s){let l=he();this.handleSide(s,(l-this.msSinceRequest)/1e3),this.requestAnimation(l)}else this.isAnimating=!1}}}start(s,l,c){this.isEnabled&&(this.scrollCaches=this.buildCaches(c),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(s,l))}handleMove(s,l){if(this.isEnabled){let c=s-window.pageXOffset,f=l-window.pageYOffset,b=null===this.pointerScreenY?0:f-this.pointerScreenY,E=null===this.pointerScreenX?0:c-this.pointerScreenX;b<0?this.everMovedUp=!0:b>0&&(this.everMovedDown=!0),E<0?this.everMovedLeft=!0:E>0&&(this.everMovedRight=!0),this.pointerScreenX=c,this.pointerScreenY=f,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(he()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let s of this.scrollCaches)s.destroy();this.scrollCaches=null}}requestAnimation(s){this.msSinceRequest=s,requestAnimationFrame(this.animate)}handleSide(s,l){let{scrollCache:c}=s,{edgeThreshold:f}=this,b=f-s.distance,E=b*b/(f*f)*this.maxVelocity*l,_=1;switch(s.name){case"left":_=-1;case"right":c.setScrollLeft(c.getScrollLeft()+E*_);break;case"top":_=-1;case"bottom":c.setScrollTop(c.getScrollTop()+E*_)}}computeBestEdge(s,l){let{edgeThreshold:c}=this,f=null,b=this.scrollCaches||[];for(let E of b){let _=E.clientRect,y=s-_.left,R=_.right-s,I=l-_.top,M=_.bottom-l;y>=0&&R>=0&&I>=0&&M>=0&&(I<=c&&this.everMovedUp&&E.canScrollUp()&&(!f||f.distance>I)&&(f={scrollCache:E,name:"top",distance:I}),M<=c&&this.everMovedDown&&E.canScrollDown()&&(!f||f.distance>M)&&(f={scrollCache:E,name:"bottom",distance:M}),y<=c&&this.everMovedLeft&&E.canScrollLeft()&&(!f||f.distance>y)&&(f={scrollCache:E,name:"left",distance:y}),R<=c&&this.everMovedRight&&E.canScrollRight()&&(!f||f.distance>R)&&(f={scrollCache:E,name:"right",distance:R}))}return f}buildCaches(s){return this.queryScrollEls(s).map(l=>l===window?new re(!1):new ie(l,!1))}queryScrollEls(s){let l=[];for(let c of this.scrollQuery)"object"==typeof c?l.push(c):l.push(...Array.prototype.slice.call(s.getRootNode().querySelectorAll(c)));return l}}class oe extends n.bH{constructor(s,l){super(s),this.containerEl=s,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=f=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,(0,n.ar)(document.body),(0,n.at)(document.body),f.isTouch||f.origEvent.preventDefault(),this.emitter.trigger("pointerdown",f),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(f.subjectEl,f.pageX,f.pageY),this.startDelay(f),this.minDistance||this.handleDistanceSurpassed(f)))},this.onPointerMove=f=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",f),!this.isDistanceSurpassed){let E,b=this.minDistance,{deltaX:_,deltaY:y}=f;E=_*_+y*y,E>=b*b&&this.handleDistanceSurpassed(f)}this.isDragging&&("scroll"!==f.origEvent.type&&(this.mirror.handleMove(f.pageX,f.pageY),this.autoScroller.handleMove(f.pageX,f.pageY)),this.emitter.trigger("dragmove",f))}},this.onPointerUp=f=>{this.isInteracting&&(this.isInteracting=!1,(0,n.as)(document.body),(0,n.au)(document.body),this.emitter.trigger("pointerup",f),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(f)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let c=this.pointer=new A(s);c.emitter.on("pointerdown",this.onPointerDown),c.emitter.on("pointermove",this.onPointerMove),c.emitter.on("pointerup",this.onPointerUp),l&&(c.selector=l),this.mirror=new Z,this.autoScroller=new we}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(s){"number"==typeof this.delay?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(s)},this.delay):this.handleDelayEnd(s)}handleDelayEnd(s){this.isDelayEnded=!0,this.tryStartDrag(s)}handleDistanceSurpassed(s){this.isDistanceSurpassed=!0,this.tryStartDrag(s)}tryStartDrag(s){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(s.pageX,s.pageY,this.containerEl),this.emitter.trigger("dragstart",s),!1===this.touchScrollAllowed&&this.pointer.cancelTouchScroll())}tryStopDrag(s){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,s))}stopDrag(s){this.isDragging=!1,this.emitter.trigger("dragend",s)}setIgnoreMove(s){this.pointer.shouldIgnoreMove=s}setMirrorIsVisible(s){this.mirror.setIsVisible(s)}setMirrorNeedsRevert(s){this.mirrorNeedsRevert=s}setAutoScrollEnabled(s){this.autoScroller.isEnabled=s}}class ye{constructor(s){this.origRect=(0,n.b6)(s),this.scrollCaches=(0,n.b5)(s).map(l=>new ie(l,!0))}destroy(){for(let s of this.scrollCaches)s.destroy()}computeLeft(){let s=this.origRect.left;for(let l of this.scrollCaches)s+=l.origScrollLeft-l.getScrollLeft();return s}computeTop(){let s=this.origRect.top;for(let l of this.scrollCaches)s+=l.origScrollTop-l.getScrollTop();return s}isWithinClipping(s,l){let c={left:s,top:l};for(let f of this.scrollCaches)if(!Ue(f.getEventTarget())&&!(0,n.aF)(c,f.clientRect))return!1;return!0}}function Ue(a){let s=a.tagName;return"HTML"===s||"BODY"===s}class ve{constructor(s,l){this.useSubjectCenter=!1,this.requireInitial=!0,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=c=>{let{dragging:f}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(c),this.initialHit||!this.requireInitial?(f.setIgnoreMove(!1),this.emitter.trigger("pointerdown",c)):f.setIgnoreMove(!0)},this.handleDragStart=c=>{this.emitter.trigger("dragstart",c),this.handleMove(c,!0)},this.handleDragMove=c=>{this.emitter.trigger("dragmove",c),this.handleMove(c)},this.handlePointerUp=c=>{this.releaseHits(),this.emitter.trigger("pointerup",c)},this.handleDragEnd=c=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,c),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",c)},this.droppableStore=l,s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("dragmove",this.handleDragMove),s.emitter.on("pointerup",this.handlePointerUp),s.emitter.on("dragend",this.handleDragEnd),this.dragging=s,this.emitter=new n.F}processFirstCoord(s){let b,l={left:s.pageX,top:s.pageY},c=l,f=s.subjectEl;f instanceof HTMLElement&&(b=(0,n.b6)(f),c=(0,n.aG)(c,b));let E=this.initialHit=this.queryHitForOffset(c.left,c.top);if(E){if(this.useSubjectCenter&&b){let _=(0,n.aE)(b,E.rect);_&&(c=(0,n.aH)(_))}this.coordAdjust=(0,n.aI)(c,l)}else this.coordAdjust={left:0,top:0}}handleMove(s,l){let c=this.queryHitForOffset(s.pageX+this.coordAdjust.left,s.pageY+this.coordAdjust.top);(l||!ae(this.movingHit,c))&&(this.movingHit=c,this.emitter.trigger("hitupdate",c,!1,s))}prepareHits(){this.offsetTrackers=(0,n.a)(this.droppableStore,s=>(s.component.prepareHits(),new ye(s.el)))}releaseHits(){let{offsetTrackers:s}=this;for(let l in s)s[l].destroy();this.offsetTrackers={}}queryHitForOffset(s,l){let{droppableStore:c,offsetTrackers:f}=this,b=null;for(let E in c){let _=c[E].component,y=f[E];if(y&&y.isWithinClipping(s,l)){let R=y.computeLeft(),I=y.computeTop(),M=s-R,P=l-I,{origRect:H}=y,q=H.right-H.left,ee=H.bottom-H.top;if(M>=0&&M<q&&P>=0&&P<ee){let V=_.queryHit(M,P,q,ee);V&&(0,n.b9)(V.dateProfile.activeRange,V.dateSpan.range)&&(!b||V.layer>b.layer)&&(V.componentId=E,V.context=_.context,V.rect.left+=R,V.rect.right+=R,V.rect.top+=I,V.rect.bottom+=I,b=V)}}}return b}}function ae(a,s){return!a&&!s||!!a==!!s&&(0,n.bf)(a.dateSpan,s.dateSpan)}function Me(a,s){let l={};for(let c of s.pluginHooks.datePointTransforms)Object.assign(l,c(a,s));return Object.assign(l,function Re(a,s){return{date:s.toDate(a.range.start),dateStr:s.formatIso(a.range.start,{omitTime:a.allDay}),allDay:a.allDay}}(a,s.dateEnv)),l}let ge=(()=>{class a extends n.Z{constructor(l){super(l),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=_=>{let y=_.origEvent.target,{component:R,dragging:I}=this,{mirror:M}=I,{options:P}=R.context,H=R.context;this.subjectEl=_.subjectEl;let q=this.subjectSeg=(0,n._)(_.subjectEl),V=(this.eventRange=q.eventRange).instance.instanceId;this.relevantEvents=(0,n.aV)(H.getCurrentData().eventStore,V),I.minDistance=_.isTouch?0:P.eventDragMinDistance,I.delay=_.isTouch&&V!==R.props.eventSelection?function $e(a){let{options:s}=a.context,l=s.eventLongPressDelay;return null==l&&(l=s.longPressDelay),l}(R):null,M.parentNode=P.fixedMirrorParent?P.fixedMirrorParent:(0,n.$)(y,".fc"),M.revertDuration=P.dragRevertDuration;let Ee=R.isValidSegDownEl(y)&&!(0,n.$)(y,".fc-event-resizer");I.setIgnoreMove(!Ee),this.isDragging=Ee&&_.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=_=>{let y=this.component.context,R=this.eventRange,I=R.instance.instanceId;_.isTouch?I!==this.component.props.eventSelection&&y.dispatch({type:"SELECT_EVENT",eventInstanceId:I}):y.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(y.calendarApi.unselect(_),y.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new n.a0(y,R.def,R.instance),jsEvent:_.origEvent,view:y.viewApi}))},this.handleHitUpdate=(_,y)=>{if(!this.isDragging)return;let R=this.relevantEvents,I=this.hitDragging.initialHit,M=this.component.context,P=null,H=null,q=null,ee=!1,V={affectedEvents:R,mutatedEvents:(0,n.I)(),isEvent:!0};if(_){P=_.context;let Ee=P.options;M===P||Ee.editable&&Ee.droppable?(H=function je(a,s,l){let c=a.dateSpan,f=s.dateSpan,b=c.range.start,E=f.range.start,_={};c.allDay!==f.allDay&&(_.allDay=f.allDay,_.hasEnd=s.context.options.allDayMaintainDuration,f.allDay&&(b=(0,n.q)(b)));let y=(0,n.aA)(b,E,a.context.dateEnv,a.componentId===s.componentId?a.largeUnit:null);y.milliseconds&&(_.allDay=!1);let R={datesDelta:y,standardProps:_};for(let I of l)I(R,a,s);return R}(I,_,P.getCurrentData().pluginHooks.eventDragMutationMassagers),H&&(q=(0,n.bX)(R,P.getCurrentData().eventUiBases,H,P),V.mutatedEvents=q,(0,n.bZ)(V,_.dateProfile,P)||(ee=!0,H=null,q=null,V.mutatedEvents=(0,n.I)()))):P=null}this.displayDrag(P,V),ee?(0,n.ax)():(0,n.aw)(),y||(M===P&&ae(I,_)&&(H=null),this.dragging.setMirrorNeedsRevert(!H),this.dragging.setMirrorIsVisible(!_||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=P,this.validMutation=H,this.mutatedRelevantEvents=q)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=_=>{if(this.isDragging){let y=this.component.context,R=y.viewApi,{receivingContext:I,validMutation:M}=this,P=this.eventRange.def,H=this.eventRange.instance,q=new n.a0(y,P,H),ee=this.relevantEvents,V=this.mutatedRelevantEvents,{finalHit:Ee}=this.hitDragging;if(this.clearDrag(),y.emitter.trigger("eventDragStop",{el:this.subjectEl,event:q,jsEvent:_.origEvent,view:R}),M){if(I===y){let st=new n.a0(y,V.defs[P.defId],H?V.instances[H.instanceId]:null);y.dispatch({type:"MERGE_EVENTS",eventStore:V});let Xe={oldEvent:q,event:st,relatedEvents:(0,n.w)(V,y,H),revert(){y.dispatch({type:"MERGE_EVENTS",eventStore:ee})}},Je={};for(let ot of y.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(Je,ot(M,y));y.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},Xe),Je),{el:_.subjectEl,delta:M.datesDelta,jsEvent:_.origEvent,view:R})),y.emitter.trigger("eventChange",Xe)}else if(I){let st={event:q,relatedEvents:(0,n.w)(ee,y,H),revert(){y.dispatch({type:"MERGE_EVENTS",eventStore:ee})}};y.emitter.trigger("eventLeave",Object.assign(Object.assign({},st),{draggedEl:_.subjectEl,view:R})),y.dispatch({type:"REMOVE_EVENTS",eventStore:ee}),y.emitter.trigger("eventRemove",st);let Je=V.instances[H.instanceId],ot=new n.a0(I,V.defs[P.defId],Je);I.dispatch({type:"MERGE_EVENTS",eventStore:V});let Ke={event:ot,relatedEvents:(0,n.w)(V,I,Je),revert(){I.dispatch({type:"REMOVE_EVENTS",eventStore:V})}};I.emitter.trigger("eventAdd",Ke),_.isTouch&&I.dispatch({type:"SELECT_EVENT",eventInstanceId:H.instanceId}),I.emitter.trigger("drop",Object.assign(Object.assign({},Me(Ee.dateSpan,I)),{draggedEl:_.subjectEl,jsEvent:_.origEvent,view:Ee.context.viewApi})),I.emitter.trigger("eventReceive",Object.assign(Object.assign({},Ke),{draggedEl:_.subjectEl,view:Ee.context.viewApi}))}}else y.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:c}=this,{options:f}=c.context,b=this.dragging=new oe(l.el);b.pointer.selector=a.SELECTOR,b.touchScrollAllowed=!1,b.autoScroller.isEnabled=f.dragScroll;let E=this.hitDragging=new ve(this.dragging,n.a7);E.useSubjectCenter=l.useEventCenter,E.emitter.on("pointerdown",this.handlePointerDown),E.emitter.on("dragstart",this.handleDragStart),E.emitter.on("hitupdate",this.handleHitUpdate),E.emitter.on("pointerup",this.handlePointerUp),E.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(l,c){let b=this.receivingContext;b&&b!==l&&b.dispatch(b===this.component.context?{type:"SET_EVENT_DRAG",state:{affectedEvents:c.affectedEvents,mutatedEvents:(0,n.I)(),isEvent:!0}}:{type:"UNSET_EVENT_DRAG"}),l&&l.dispatch({type:"SET_EVENT_DRAG",state:c})}clearDrag(){let l=this.component.context,{receivingContext:c}=this;c&&c.dispatch({type:"UNSET_EVENT_DRAG"}),l!==c&&l.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}return a.SELECTOR=".fc-event-draggable, .fc-event-resizable",a})();const Ge={fixedMirrorParent:n.n},Ye={dateClick:n.n,eventDragStart:n.n,eventDragStop:n.n,eventDrop:n.n,eventResizeStart:n.n,eventResizeStop:n.n,eventResize:n.n,drop:n.n,eventReceive:n.n,eventLeave:n.n};n.bI.dataAttrPrefix="";var v=(0,k.rx)({name:"@fullcalendar/interaction",componentInteractions:[class Ne extends n.Z{constructor(s){super(s),this.handlePointerDown=c=>{let{dragging:f}=this;f.setIgnoreMove(!this.component.isValidDateDownEl(c.origEvent.target))},this.handleDragEnd=c=>{let{component:f}=this,{pointer:b}=this.dragging;if(!b.wasTouchScroll){let{initialHit:E,finalHit:_}=this.hitDragging;if(E&&_&&ae(E,_)){let{context:y}=f,R=Object.assign(Object.assign({},Me(E.dateSpan,y)),{dayEl:E.dayEl,jsEvent:c.origEvent,view:y.viewApi||y.calendarApi.view});y.emitter.trigger("dateClick",R)}}},this.dragging=new oe(s.el),this.dragging.autoScroller.isEnabled=!1;let l=this.hitDragging=new ve(this.dragging,(0,n.bG)(s));l.emitter.on("pointerdown",this.handlePointerDown),l.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}},class pe extends n.Z{constructor(s){super(s),this.dragSelection=null,this.handlePointerDown=E=>{let{component:_,dragging:y}=this,{options:R}=_.context,I=R.selectable&&_.isValidDateDownEl(E.origEvent.target);y.setIgnoreMove(!I),y.delay=E.isTouch?function ze(a){let{options:s}=a.context,l=s.selectLongPressDelay;return null==l&&(l=s.longPressDelay),l}(_):null},this.handleDragStart=E=>{this.component.context.calendarApi.unselect(E)},this.handleHitUpdate=(E,_)=>{let{context:y}=this.component,R=null,I=!1;if(E){let M=this.hitDragging.initialHit;E.componentId===M.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(M,E)||(R=function Oe(a,s,l){let c=a.dateSpan,f=s.dateSpan,b=[c.range.start,c.range.end,f.range.start,f.range.end];b.sort(n.av);let E={};for(let _ of l){let y=_(a,s);if(!1===y)return null;y&&Object.assign(E,y)}return E.range={start:b[0],end:b[3]},E.allDay=c.allDay,E}(M,E,y.pluginHooks.dateSelectionTransformers)),(!R||!(0,n.b_)(R,E.dateProfile,y))&&(I=!0,R=null)}R?y.dispatch({type:"SELECT_DATES",selection:R}):_||y.dispatch({type:"UNSELECT_DATES"}),I?(0,n.ax)():(0,n.aw)(),_||(this.dragSelection=R)},this.handlePointerUp=E=>{this.dragSelection&&((0,n.cu)(this.dragSelection,E,this.component.context),this.dragSelection=null)};let{component:l}=s,{options:c}=l.context,f=this.dragging=new oe(s.el);f.touchScrollAllowed=!1,f.minDistance=c.selectMinDistance||0,f.autoScroller.isEnabled=c.dragScroll;let b=this.hitDragging=new ve(this.dragging,(0,n.bG)(s));b.emitter.on("pointerdown",this.handlePointerDown),b.emitter.on("dragstart",this.handleDragStart),b.emitter.on("hitupdate",this.handleHitUpdate),b.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}},ge,class qe extends n.Z{constructor(s){super(s),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=b=>{let{component:E}=this,_=this.querySegEl(b),y=(0,n._)(_),R=this.eventRange=y.eventRange;this.dragging.minDistance=E.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(b.origEvent.target)||b.isTouch&&this.component.props.eventSelection!==R.instance.instanceId)},this.handleDragStart=b=>{let{context:E}=this.component,_=this.eventRange;this.relevantEvents=(0,n.aV)(E.getCurrentData().eventStore,this.eventRange.instance.instanceId);let y=this.querySegEl(b);this.draggingSegEl=y,this.draggingSeg=(0,n._)(y),E.calendarApi.unselect(),E.emitter.trigger("eventResizeStart",{el:y,event:new n.a0(E,_.def,_.instance),jsEvent:b.origEvent,view:E.viewApi})},this.handleHitUpdate=(b,E,_)=>{let{context:y}=this.component,R=this.relevantEvents,I=this.hitDragging.initialHit,M=this.eventRange.instance,P=null,H=null,q=!1,ee={affectedEvents:R,mutatedEvents:(0,n.I)(),isEvent:!0};b&&(b.componentId===I.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(I,b)||(P=function Ve(a,s,l,c){let f=a.context.dateEnv,_=(0,n.aA)(a.dateSpan.range.start,s.dateSpan.range.start,f,a.largeUnit);if(l){if(f.add(c.start,_)<c.end)return{startDelta:_}}else if(f.add(c.end,_)>c.start)return{endDelta:_};return null}(I,b,_.subjectEl.classList.contains("fc-event-resizer-start"),M.range))),P&&(H=(0,n.bX)(R,y.getCurrentData().eventUiBases,P,y),ee.mutatedEvents=H,(0,n.bZ)(ee,b.dateProfile,y)||(q=!0,P=null,H=null,ee.mutatedEvents=null)),y.dispatch(H?{type:"SET_EVENT_RESIZE",state:ee}:{type:"UNSET_EVENT_RESIZE"}),q?(0,n.ax)():(0,n.aw)(),E||(P&&ae(I,b)&&(P=null),this.validMutation=P,this.mutatedRelevantEvents=H)},this.handleDragEnd=b=>{let{context:E}=this.component,_=this.eventRange.def,y=this.eventRange.instance,R=new n.a0(E,_,y),I=this.relevantEvents,M=this.mutatedRelevantEvents;if(E.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:R,jsEvent:b.origEvent,view:E.viewApi}),this.validMutation){let P=new n.a0(E,M.defs[_.defId],y?M.instances[y.instanceId]:null);E.dispatch({type:"MERGE_EVENTS",eventStore:M});let H={oldEvent:R,event:P,relatedEvents:(0,n.w)(M,E,y),revert(){E.dispatch({type:"MERGE_EVENTS",eventStore:I})}};E.emitter.trigger("eventResize",Object.assign(Object.assign({},H),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||(0,n.d)(0),endDelta:this.validMutation.endDelta||(0,n.d)(0),jsEvent:b.origEvent,view:E.viewApi})),E.emitter.trigger("eventChange",H)}else E.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:l}=s,c=this.dragging=new oe(s.el);c.pointer.selector=".fc-event-resizer",c.touchScrollAllowed=!1,c.autoScroller.isEnabled=l.context.options.dragScroll;let f=this.hitDragging=new ve(this.dragging,(0,n.bG)(s));f.emitter.on("pointerdown",this.handlePointerDown),f.emitter.on("dragstart",this.handleDragStart),f.emitter.on("hitupdate",this.handleHitUpdate),f.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(s){return(0,n.$)(s.subjectEl,".fc-event")}}],calendarInteractions:[class We{constructor(s){this.context=s,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=c=>{c.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=c=>{let f=this.context.options.unselectCancel,b=(0,n.aR)(c.origEvent);this.matchesCancel=!!(0,n.$)(b,f),this.matchesEvent=!!(0,n.$)(b,ge.SELECTOR)},this.onDocumentPointerUp=c=>{let{context:f}=this,{documentPointer:b}=this,E=f.getCurrentData();if(!b.wasTouchScroll){if(E.dateSelection&&!this.isRecentPointerDateSelect){let _=f.options.unselectAuto;_&&(!_||!this.matchesCancel)&&f.calendarApi.unselect(c)}E.eventSelection&&!this.matchesEvent&&f.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let l=this.documentPointer=new A(document);l.shouldIgnoreMove=!0,l.shouldWatchScroll=!1,l.emitter.on("pointerdown",this.onDocumentPointerDown),l.emitter.on("pointerup",this.onDocumentPointerUp),s.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}],elementDraggingImpl:oe,optionRefiners:Ge,listenerRefiners:Ye})}}]);